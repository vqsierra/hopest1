<!-- some code adapted from www.degeneratestate.org/static/metal_lyrics/metal_line.html -->
<!-- <!DOCTYPE html>
<meta content="utf-8"> -->
<style> /* set the CSS */

body {
  font: 12px Arial;
}

svg {
  font: 12px Helvetica;
}

path {
  stroke: steelblue;
  stroke-width: 2;
  fill: none;
}

.grid line {
  stroke: lightgrey;
  stroke-opacity: 0.4;
  shape-rendering: crispEdges;
}

.grid path {
  stroke-width: 0;
}

.axis path,
.axis lineper {
  fill: none;
  stroke: grey;
  stroke-width: 1;
  shape-rendering: crispEdges;
}

div.tooltip {
  position: absolute;
  text-align: center;
  width: 150px;
  height: 28px;
  padding: 2px;
  font: 12px sans-serif;
  background: lightsteelblue;
  border: 0px;
  border-radius: 8px;
  pointer-events: none;
}

div.tooltipscore {
  position: absolute;
  text-align: center;
  width: 150px;
  height: 50px;
  padding: 2px;
  font: 10px sans-serif;
  background: lightsteelblue;
  border: 0px;
  border-radius: 8px;
  pointer-events: none;
}

.category_header {
  font: 12px sans-serif;
  font-weight: bolder;
  text-decoration: underline;
}

div.label {
  color: rgb(252, 251, 253);
  color: rgb(63, 0, 125);
  color: rgb(158, 155, 201);

  position: absolute;
  text-align: left;
  padding: 1px;
  border-spacing: 1px;
  font: 10px sans-serif;
  font-family: Sans-Serif;
  border: 0;
  pointer-events: none;
}
/*
input {
  border: 1px dotted #ccc;
  background: white;
  font-family: monospace;
  padding: 10px 20px;
  font-size: 14px;
  margin: 20px 10px 30px 0;
  color: darkred;
}*/

.alert {
  font-family: monospace;
  padding: 10px 20px;
  font-size: 14px;
  margin: 20px 10px 30px 0;
  color: darkred;
}

ul.top_terms li {
  padding-right: 20px;
  font-size: 30pt;
  color: red;
}
/*
input:focus {
  background-color: lightyellow;
  outline: none;
}*/

.snippet {
  padding-bottom: 10px;
  padding-left: 5px;
  padding-right: 5px;
  white-space: pre-wrap;
}

.snippet_header {
  font-size: 20px;
  font-family: Helvetica, Arial, Sans-Serif;
  font-weight: bolder;
  #text-decoration: underline;
  text-align: center;
  border-bottom-width: 10px;
  border-bottom-color: #888888;
  padding-bottom: 10px;
}

.topic_preview {
  font-size: 12px;
  font-family: Helvetica, Arial, Sans-Serif;
  text-align: center;
  padding-bottom: 10px;
  font-weight: normal;
  text-decoration: none;
}


#d3-div-1-categoryinfo {
  font-size: 12px;
  font-family: Helvetica, Arial, Sans-Serif;
  text-align: center;
  padding-bottom: 10px;    

}


#d3-div-1-title-div {
  font-size: 20px;
  font-family: Helvetica, Arial, Sans-Serif;
  text-align: center;
}

.text_header {
  font: 18px sans-serif;
  font-size: 18px;
  font-family: Helvetica, Arial, Sans-Serif;

  font-weight: bolder;
  text-decoration: underline;
  text-align: center;
  color: darkblue;
  padding-bottom: 10px;
}

.text_subheader {
  font-size: 14px;
  font-family: Helvetica, Arial, Sans-Serif;

  text-align: center;
}

.snippet_meta {
  border-top: 3px solid #4588ba;
  font-size: 12px;
  font-family: Helvetica, Arial, Sans-Serif;
  color: darkblue;
}

.not_match {
    background-color: #F0F8FF;
}
    
.contexts {
  width: 45%;
  float: left;
}

.neut_display {
  display: none;
  float: left
}

.scattertext {
  font-size: 10px;
  font-family: Helvetica, Arial, Sans-Serif;
}

.label {
  font-size: 10px;
  font-family: Helvetica, Arial, Sans-Serif;
}

.obscured {
  /*font-size: 14px;
  font-weight: normal;
  color: dimgrey;
  font-family: Helvetica;*/
  text-align: center;
}

.small_label {
  font-size: 10px;
}

#d3-div-1-corpus-stats {
  text-align: center;
}

#d3-div-1-cat {
}

#d3-div-1-notcat {
}

#d3-div-1-neut {
}

#d3-div-1-neutcol {
  display: none;
}
/* Adapted from https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_autocomplete */

.autocomplete {
  position: relative;
  display: inline-block;
}

input {
  border: 1px solid transparent;
  background-color: #f1f1f1;
  padding: 10px;
  font-size: 16px;
}

input[type=text] {
  background-color: #f1f1f1;
  width: 100%;
}

input[type=submit] {
  background-color: DodgerBlue;
  color: #fff;
  cursor: pointer;
}

.autocomplete-items {
  position: absolute;
  border: 2px solid #d4d4d4;
  border-bottom: none;
  border-top: none;
  z-index: 99;
  /*position the autocomplete items to be the same width as the container:*/
  top: 100%;
  left: 0;
  right: 0;
}

.autocomplete-items div {
  padding: 10px;
  cursor: pointer;
  background-color: #fff;
  border-bottom: 2px solid #d4d4d4;
}

/*when hovering an item:*/
.autocomplete-items div:hover {
  background-color: #e9e9e9;
}

/*when navigating through the items using the arrow keys:*/
.autocomplete-active {
  background-color: DodgerBlue !important;
  color: #ffffff;
}
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.6.0/d3.min.js" charset="utf-8"></script>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js" charset="utf-8"></script>

<!-- INSERT SEMIOTIC SQUARE -->
<!--<a onclick="maxFreq = Math.log(data.map(d => d.cat + d.ncat).reduce((a,b) => Math.max(a,b))); plotInterface.redrawPoints(0.1, d => (Math.log(d.ncat + d.cat)/maxFreq), d => d.s, false); plotInterface.redrawPoints(0.1, d => (Math.log(d.ncat + d.cat)/maxFreq), d => d.s, true)">View Score Plot</a>-->
<span id="d3-div-1-title-div"></span>
<div class="scattertext" id="d3-div-1" style="float: left"></div>
<div style="floag: left;">
    <div autocomplete="off">
        <div class="autocomplete">
            <input id="searchInput" type="text" placeholder="Search the chart">
        </div>
    </div>
</div>
<br/>
<div id="d3-div-1-corpus-stats"></div>
<div id="d3-div-1-overlapped-terms"></div>
<a name="d3-div-1-snippets"></a>
<a name="d3-div-1-snippetsalt"></a>
<div id="d3-div-1-termstats"></div>
<div id="d3-div-1-overlapped-terms-clicked"></div>
<div id="d3-div-1-categoryinfo" style="display: hidden"></div>
<div id="d3-div-2">
  <div class="d3-div-1-contexts">
    <div class="snippet_header" id="d3-div-1-cathead"></div>
    <div class="snippet" id="d3-div-1-cat"></div>
  </div>
  <div id="d3-div-1-notcol" class="d3-div-1-contexts">
    <div class="snippet_header" id="d3-div-1-notcathead"></div>
    <div class="snippet" id="d3-div-1-notcat"></div>
  </div>
  <div id="d3-div-1-neutcol" class="d3-div-1-contexts">
    <div class="snippet_header" id="d3-div-1-neuthead"></div>
    <div class="snippet" id="d3-div-1-neut"></div>
  </div>
</div>
<script charset="utf-8">
    // Created using Cozy: github.com/uwplse/cozy
function Rectangle(ax1, ay1, ax2, ay2) {
    this.ax1 = ax1;
    this.ay1 = ay1;
    this.ax2 = ax2;
    this.ay2 = ay2;
    this._left7 = undefined;
    this._right8 = undefined;
    this._parent9 = undefined;
    this._min_ax12 = undefined;
    this._min_ay13 = undefined;
    this._max_ay24 = undefined;
    this._height10 = undefined;
}
function RectangleHolder() {
    this.my_size = 0;
    (this)._root1 = null;
}
RectangleHolder.prototype.size = function () {
    return this.my_size;
};
RectangleHolder.prototype.add = function (x) {
    ++this.my_size;
    var _idx69 = (x).ax2;
    (x)._left7 = null;
    (x)._right8 = null;
    (x)._min_ax12 = (x).ax1;
    (x)._min_ay13 = (x).ay1;
    (x)._max_ay24 = (x).ay2;
    (x)._height10 = 0;
    var _previous70 = null;
    var _current71 = (this)._root1;
    var _is_left72 = false;
    while (!((_current71) == null)) {
        _previous70 = _current71;
        if ((_idx69) < ((_current71).ax2)) {
            _current71 = (_current71)._left7;
            _is_left72 = true;
        } else {
            _current71 = (_current71)._right8;
            _is_left72 = false;
        }
    }
    if ((_previous70) == null) {
        (this)._root1 = x;
    } else {
        (x)._parent9 = _previous70;
        if (_is_left72) {
            (_previous70)._left7 = x;
        } else {
            (_previous70)._right8 = x;
        }
    }
    var _cursor73 = (x)._parent9;
    var _changed74 = true;
    while ((_changed74) && (!((_cursor73) == (null)))) {
        var _old__min_ax1275 = (_cursor73)._min_ax12;
        var _old__min_ay1376 = (_cursor73)._min_ay13;
        var _old__max_ay2477 = (_cursor73)._max_ay24;
        var _old_height78 = (_cursor73)._height10;
        /* _min_ax12 is min of ax1 */
        var _augval79 = (_cursor73).ax1;
        var _child80 = (_cursor73)._left7;
        if (!((_child80) == null)) {
            var _val81 = (_child80)._min_ax12;
            _augval79 = ((_augval79) < (_val81)) ? (_augval79) : (_val81);
        }
        var _child82 = (_cursor73)._right8;
        if (!((_child82) == null)) {
            var _val83 = (_child82)._min_ax12;
            _augval79 = ((_augval79) < (_val83)) ? (_augval79) : (_val83);
        }
        (_cursor73)._min_ax12 = _augval79;
        /* _min_ay13 is min of ay1 */
        var _augval84 = (_cursor73).ay1;
        var _child85 = (_cursor73)._left7;
        if (!((_child85) == null)) {
            var _val86 = (_child85)._min_ay13;
            _augval84 = ((_augval84) < (_val86)) ? (_augval84) : (_val86);
        }
        var _child87 = (_cursor73)._right8;
        if (!((_child87) == null)) {
            var _val88 = (_child87)._min_ay13;
            _augval84 = ((_augval84) < (_val88)) ? (_augval84) : (_val88);
        }
        (_cursor73)._min_ay13 = _augval84;
        /* _max_ay24 is max of ay2 */
        var _augval89 = (_cursor73).ay2;
        var _child90 = (_cursor73)._left7;
        if (!((_child90) == null)) {
            var _val91 = (_child90)._max_ay24;
            _augval89 = ((_augval89) < (_val91)) ? (_val91) : (_augval89);
        }
        var _child92 = (_cursor73)._right8;
        if (!((_child92) == null)) {
            var _val93 = (_child92)._max_ay24;
            _augval89 = ((_augval89) < (_val93)) ? (_val93) : (_augval89);
        }
        (_cursor73)._max_ay24 = _augval89;
        (_cursor73)._height10 = 1 + ((((((_cursor73)._left7) == null) ? (-1) : (((_cursor73)._left7)._height10)) > ((((_cursor73)._right8) == null) ? (-1) : (((_cursor73)._right8)._height10))) ? ((((_cursor73)._left7) == null) ? (-1) : (((_cursor73)._left7)._height10)) : ((((_cursor73)._right8) == null) ? (-1) : (((_cursor73)._right8)._height10)));
        _changed74 = false;
        _changed74 = (_changed74) || (!((_old__min_ax1275) == ((_cursor73)._min_ax12)));
        _changed74 = (_changed74) || (!((_old__min_ay1376) == ((_cursor73)._min_ay13)));
        _changed74 = (_changed74) || (!((_old__max_ay2477) == ((_cursor73)._max_ay24)));
        _changed74 = (_changed74) || (!((_old_height78) == ((_cursor73)._height10)));
        _cursor73 = (_cursor73)._parent9;
    }
    /* rebalance AVL tree */
    var _cursor94 = x;
    var _imbalance95;
    while (!(((_cursor94)._parent9) == null)) {
        _cursor94 = (_cursor94)._parent9;
        (_cursor94)._height10 = 1 + ((((((_cursor94)._left7) == null) ? (-1) : (((_cursor94)._left7)._height10)) > ((((_cursor94)._right8) == null) ? (-1) : (((_cursor94)._right8)._height10))) ? ((((_cursor94)._left7) == null) ? (-1) : (((_cursor94)._left7)._height10)) : ((((_cursor94)._right8) == null) ? (-1) : (((_cursor94)._right8)._height10)));
        _imbalance95 = ((((_cursor94)._left7) == null) ? (-1) : (((_cursor94)._left7)._height10)) - ((((_cursor94)._right8) == null) ? (-1) : (((_cursor94)._right8)._height10));
        if ((_imbalance95) > (1)) {
            if ((((((_cursor94)._left7)._left7) == null) ? (-1) : ((((_cursor94)._left7)._left7)._height10)) < (((((_cursor94)._left7)._right8) == null) ? (-1) : ((((_cursor94)._left7)._right8)._height10))) {
                /* rotate ((_cursor94)._left7)._right8 */
                var _a96 = (_cursor94)._left7;
                var _b97 = (_a96)._right8;
                var _c98 = (_b97)._left7;
                /* replace _a96 with _b97 in (_a96)._parent9 */
                if (!(((_a96)._parent9) == null)) {
                    if ((((_a96)._parent9)._left7) == (_a96)) {
                        ((_a96)._parent9)._left7 = _b97;
                    } else {
                        ((_a96)._parent9)._right8 = _b97;
                    }
                }
                if (!((_b97) == null)) {
                    (_b97)._parent9 = (_a96)._parent9;
                }
                /* replace _c98 with _a96 in _b97 */
                (_b97)._left7 = _a96;
                if (!((_a96) == null)) {
                    (_a96)._parent9 = _b97;
                }
                /* replace _b97 with _c98 in _a96 */
                (_a96)._right8 = _c98;
                if (!((_c98) == null)) {
                    (_c98)._parent9 = _a96;
                }
                /* _min_ax12 is min of ax1 */
                var _augval99 = (_a96).ax1;
                var _child100 = (_a96)._left7;
                if (!((_child100) == null)) {
                    var _val101 = (_child100)._min_ax12;
                    _augval99 = ((_augval99) < (_val101)) ? (_augval99) : (_val101);
                }
                var _child102 = (_a96)._right8;
                if (!((_child102) == null)) {
                    var _val103 = (_child102)._min_ax12;
                    _augval99 = ((_augval99) < (_val103)) ? (_augval99) : (_val103);
                }
                (_a96)._min_ax12 = _augval99;
                /* _min_ay13 is min of ay1 */
                var _augval104 = (_a96).ay1;
                var _child105 = (_a96)._left7;
                if (!((_child105) == null)) {
                    var _val106 = (_child105)._min_ay13;
                    _augval104 = ((_augval104) < (_val106)) ? (_augval104) : (_val106);
                }
                var _child107 = (_a96)._right8;
                if (!((_child107) == null)) {
                    var _val108 = (_child107)._min_ay13;
                    _augval104 = ((_augval104) < (_val108)) ? (_augval104) : (_val108);
                }
                (_a96)._min_ay13 = _augval104;
                /* _max_ay24 is max of ay2 */
                var _augval109 = (_a96).ay2;
                var _child110 = (_a96)._left7;
                if (!((_child110) == null)) {
                    var _val111 = (_child110)._max_ay24;
                    _augval109 = ((_augval109) < (_val111)) ? (_val111) : (_augval109);
                }
                var _child112 = (_a96)._right8;
                if (!((_child112) == null)) {
                    var _val113 = (_child112)._max_ay24;
                    _augval109 = ((_augval109) < (_val113)) ? (_val113) : (_augval109);
                }
                (_a96)._max_ay24 = _augval109;
                (_a96)._height10 = 1 + ((((((_a96)._left7) == null) ? (-1) : (((_a96)._left7)._height10)) > ((((_a96)._right8) == null) ? (-1) : (((_a96)._right8)._height10))) ? ((((_a96)._left7) == null) ? (-1) : (((_a96)._left7)._height10)) : ((((_a96)._right8) == null) ? (-1) : (((_a96)._right8)._height10)));
                /* _min_ax12 is min of ax1 */
                var _augval114 = (_b97).ax1;
                var _child115 = (_b97)._left7;
                if (!((_child115) == null)) {
                    var _val116 = (_child115)._min_ax12;
                    _augval114 = ((_augval114) < (_val116)) ? (_augval114) : (_val116);
                }
                var _child117 = (_b97)._right8;
                if (!((_child117) == null)) {
                    var _val118 = (_child117)._min_ax12;
                    _augval114 = ((_augval114) < (_val118)) ? (_augval114) : (_val118);
                }
                (_b97)._min_ax12 = _augval114;
                /* _min_ay13 is min of ay1 */
                var _augval119 = (_b97).ay1;
                var _child120 = (_b97)._left7;
                if (!((_child120) == null)) {
                    var _val121 = (_child120)._min_ay13;
                    _augval119 = ((_augval119) < (_val121)) ? (_augval119) : (_val121);
                }
                var _child122 = (_b97)._right8;
                if (!((_child122) == null)) {
                    var _val123 = (_child122)._min_ay13;
                    _augval119 = ((_augval119) < (_val123)) ? (_augval119) : (_val123);
                }
                (_b97)._min_ay13 = _augval119;
                /* _max_ay24 is max of ay2 */
                var _augval124 = (_b97).ay2;
                var _child125 = (_b97)._left7;
                if (!((_child125) == null)) {
                    var _val126 = (_child125)._max_ay24;
                    _augval124 = ((_augval124) < (_val126)) ? (_val126) : (_augval124);
                }
                var _child127 = (_b97)._right8;
                if (!((_child127) == null)) {
                    var _val128 = (_child127)._max_ay24;
                    _augval124 = ((_augval124) < (_val128)) ? (_val128) : (_augval124);
                }
                (_b97)._max_ay24 = _augval124;
                (_b97)._height10 = 1 + ((((((_b97)._left7) == null) ? (-1) : (((_b97)._left7)._height10)) > ((((_b97)._right8) == null) ? (-1) : (((_b97)._right8)._height10))) ? ((((_b97)._left7) == null) ? (-1) : (((_b97)._left7)._height10)) : ((((_b97)._right8) == null) ? (-1) : (((_b97)._right8)._height10)));
                if (!(((_b97)._parent9) == null)) {
                    /* _min_ax12 is min of ax1 */
                    var _augval129 = ((_b97)._parent9).ax1;
                    var _child130 = ((_b97)._parent9)._left7;
                    if (!((_child130) == null)) {
                        var _val131 = (_child130)._min_ax12;
                        _augval129 = ((_augval129) < (_val131)) ? (_augval129) : (_val131);
                    }
                    var _child132 = ((_b97)._parent9)._right8;
                    if (!((_child132) == null)) {
                        var _val133 = (_child132)._min_ax12;
                        _augval129 = ((_augval129) < (_val133)) ? (_augval129) : (_val133);
                    }
                    ((_b97)._parent9)._min_ax12 = _augval129;
                    /* _min_ay13 is min of ay1 */
                    var _augval134 = ((_b97)._parent9).ay1;
                    var _child135 = ((_b97)._parent9)._left7;
                    if (!((_child135) == null)) {
                        var _val136 = (_child135)._min_ay13;
                        _augval134 = ((_augval134) < (_val136)) ? (_augval134) : (_val136);
                    }
                    var _child137 = ((_b97)._parent9)._right8;
                    if (!((_child137) == null)) {
                        var _val138 = (_child137)._min_ay13;
                        _augval134 = ((_augval134) < (_val138)) ? (_augval134) : (_val138);
                    }
                    ((_b97)._parent9)._min_ay13 = _augval134;
                    /* _max_ay24 is max of ay2 */
                    var _augval139 = ((_b97)._parent9).ay2;
                    var _child140 = ((_b97)._parent9)._left7;
                    if (!((_child140) == null)) {
                        var _val141 = (_child140)._max_ay24;
                        _augval139 = ((_augval139) < (_val141)) ? (_val141) : (_augval139);
                    }
                    var _child142 = ((_b97)._parent9)._right8;
                    if (!((_child142) == null)) {
                        var _val143 = (_child142)._max_ay24;
                        _augval139 = ((_augval139) < (_val143)) ? (_val143) : (_augval139);
                    }
                    ((_b97)._parent9)._max_ay24 = _augval139;
                    ((_b97)._parent9)._height10 = 1 + (((((((_b97)._parent9)._left7) == null) ? (-1) : ((((_b97)._parent9)._left7)._height10)) > (((((_b97)._parent9)._right8) == null) ? (-1) : ((((_b97)._parent9)._right8)._height10))) ? (((((_b97)._parent9)._left7) == null) ? (-1) : ((((_b97)._parent9)._left7)._height10)) : (((((_b97)._parent9)._right8) == null) ? (-1) : ((((_b97)._parent9)._right8)._height10)));
                } else {
                    (this)._root1 = _b97;
                }
            }
            /* rotate (_cursor94)._left7 */
            var _a144 = _cursor94;
            var _b145 = (_a144)._left7;
            var _c146 = (_b145)._right8;
            /* replace _a144 with _b145 in (_a144)._parent9 */
            if (!(((_a144)._parent9) == null)) {
                if ((((_a144)._parent9)._left7) == (_a144)) {
                    ((_a144)._parent9)._left7 = _b145;
                } else {
                    ((_a144)._parent9)._right8 = _b145;
                }
            }
            if (!((_b145) == null)) {
                (_b145)._parent9 = (_a144)._parent9;
            }
            /* replace _c146 with _a144 in _b145 */
            (_b145)._right8 = _a144;
            if (!((_a144) == null)) {
                (_a144)._parent9 = _b145;
            }
            /* replace _b145 with _c146 in _a144 */
            (_a144)._left7 = _c146;
            if (!((_c146) == null)) {
                (_c146)._parent9 = _a144;
            }
            /* _min_ax12 is min of ax1 */
            var _augval147 = (_a144).ax1;
            var _child148 = (_a144)._left7;
            if (!((_child148) == null)) {
                var _val149 = (_child148)._min_ax12;
                _augval147 = ((_augval147) < (_val149)) ? (_augval147) : (_val149);
            }
            var _child150 = (_a144)._right8;
            if (!((_child150) == null)) {
                var _val151 = (_child150)._min_ax12;
                _augval147 = ((_augval147) < (_val151)) ? (_augval147) : (_val151);
            }
            (_a144)._min_ax12 = _augval147;
            /* _min_ay13 is min of ay1 */
            var _augval152 = (_a144).ay1;
            var _child153 = (_a144)._left7;
            if (!((_child153) == null)) {
                var _val154 = (_child153)._min_ay13;
                _augval152 = ((_augval152) < (_val154)) ? (_augval152) : (_val154);
            }
            var _child155 = (_a144)._right8;
            if (!((_child155) == null)) {
                var _val156 = (_child155)._min_ay13;
                _augval152 = ((_augval152) < (_val156)) ? (_augval152) : (_val156);
            }
            (_a144)._min_ay13 = _augval152;
            /* _max_ay24 is max of ay2 */
            var _augval157 = (_a144).ay2;
            var _child158 = (_a144)._left7;
            if (!((_child158) == null)) {
                var _val159 = (_child158)._max_ay24;
                _augval157 = ((_augval157) < (_val159)) ? (_val159) : (_augval157);
            }
            var _child160 = (_a144)._right8;
            if (!((_child160) == null)) {
                var _val161 = (_child160)._max_ay24;
                _augval157 = ((_augval157) < (_val161)) ? (_val161) : (_augval157);
            }
            (_a144)._max_ay24 = _augval157;
            (_a144)._height10 = 1 + ((((((_a144)._left7) == null) ? (-1) : (((_a144)._left7)._height10)) > ((((_a144)._right8) == null) ? (-1) : (((_a144)._right8)._height10))) ? ((((_a144)._left7) == null) ? (-1) : (((_a144)._left7)._height10)) : ((((_a144)._right8) == null) ? (-1) : (((_a144)._right8)._height10)));
            /* _min_ax12 is min of ax1 */
            var _augval162 = (_b145).ax1;
            var _child163 = (_b145)._left7;
            if (!((_child163) == null)) {
                var _val164 = (_child163)._min_ax12;
                _augval162 = ((_augval162) < (_val164)) ? (_augval162) : (_val164);
            }
            var _child165 = (_b145)._right8;
            if (!((_child165) == null)) {
                var _val166 = (_child165)._min_ax12;
                _augval162 = ((_augval162) < (_val166)) ? (_augval162) : (_val166);
            }
            (_b145)._min_ax12 = _augval162;
            /* _min_ay13 is min of ay1 */
            var _augval167 = (_b145).ay1;
            var _child168 = (_b145)._left7;
            if (!((_child168) == null)) {
                var _val169 = (_child168)._min_ay13;
                _augval167 = ((_augval167) < (_val169)) ? (_augval167) : (_val169);
            }
            var _child170 = (_b145)._right8;
            if (!((_child170) == null)) {
                var _val171 = (_child170)._min_ay13;
                _augval167 = ((_augval167) < (_val171)) ? (_augval167) : (_val171);
            }
            (_b145)._min_ay13 = _augval167;
            /* _max_ay24 is max of ay2 */
            var _augval172 = (_b145).ay2;
            var _child173 = (_b145)._left7;
            if (!((_child173) == null)) {
                var _val174 = (_child173)._max_ay24;
                _augval172 = ((_augval172) < (_val174)) ? (_val174) : (_augval172);
            }
            var _child175 = (_b145)._right8;
            if (!((_child175) == null)) {
                var _val176 = (_child175)._max_ay24;
                _augval172 = ((_augval172) < (_val176)) ? (_val176) : (_augval172);
            }
            (_b145)._max_ay24 = _augval172;
            (_b145)._height10 = 1 + ((((((_b145)._left7) == null) ? (-1) : (((_b145)._left7)._height10)) > ((((_b145)._right8) == null) ? (-1) : (((_b145)._right8)._height10))) ? ((((_b145)._left7) == null) ? (-1) : (((_b145)._left7)._height10)) : ((((_b145)._right8) == null) ? (-1) : (((_b145)._right8)._height10)));
            if (!(((_b145)._parent9) == null)) {
                /* _min_ax12 is min of ax1 */
                var _augval177 = ((_b145)._parent9).ax1;
                var _child178 = ((_b145)._parent9)._left7;
                if (!((_child178) == null)) {
                    var _val179 = (_child178)._min_ax12;
                    _augval177 = ((_augval177) < (_val179)) ? (_augval177) : (_val179);
                }
                var _child180 = ((_b145)._parent9)._right8;
                if (!((_child180) == null)) {
                    var _val181 = (_child180)._min_ax12;
                    _augval177 = ((_augval177) < (_val181)) ? (_augval177) : (_val181);
                }
                ((_b145)._parent9)._min_ax12 = _augval177;
                /* _min_ay13 is min of ay1 */
                var _augval182 = ((_b145)._parent9).ay1;
                var _child183 = ((_b145)._parent9)._left7;
                if (!((_child183) == null)) {
                    var _val184 = (_child183)._min_ay13;
                    _augval182 = ((_augval182) < (_val184)) ? (_augval182) : (_val184);
                }
                var _child185 = ((_b145)._parent9)._right8;
                if (!((_child185) == null)) {
                    var _val186 = (_child185)._min_ay13;
                    _augval182 = ((_augval182) < (_val186)) ? (_augval182) : (_val186);
                }
                ((_b145)._parent9)._min_ay13 = _augval182;
                /* _max_ay24 is max of ay2 */
                var _augval187 = ((_b145)._parent9).ay2;
                var _child188 = ((_b145)._parent9)._left7;
                if (!((_child188) == null)) {
                    var _val189 = (_child188)._max_ay24;
                    _augval187 = ((_augval187) < (_val189)) ? (_val189) : (_augval187);
                }
                var _child190 = ((_b145)._parent9)._right8;
                if (!((_child190) == null)) {
                    var _val191 = (_child190)._max_ay24;
                    _augval187 = ((_augval187) < (_val191)) ? (_val191) : (_augval187);
                }
                ((_b145)._parent9)._max_ay24 = _augval187;
                ((_b145)._parent9)._height10 = 1 + (((((((_b145)._parent9)._left7) == null) ? (-1) : ((((_b145)._parent9)._left7)._height10)) > (((((_b145)._parent9)._right8) == null) ? (-1) : ((((_b145)._parent9)._right8)._height10))) ? (((((_b145)._parent9)._left7) == null) ? (-1) : ((((_b145)._parent9)._left7)._height10)) : (((((_b145)._parent9)._right8) == null) ? (-1) : ((((_b145)._parent9)._right8)._height10)));
            } else {
                (this)._root1 = _b145;
            }
            _cursor94 = (_cursor94)._parent9;
        } else if ((_imbalance95) < (-1)) {
            if ((((((_cursor94)._right8)._left7) == null) ? (-1) : ((((_cursor94)._right8)._left7)._height10)) > (((((_cursor94)._right8)._right8) == null) ? (-1) : ((((_cursor94)._right8)._right8)._height10))) {
                /* rotate ((_cursor94)._right8)._left7 */
                var _a192 = (_cursor94)._right8;
                var _b193 = (_a192)._left7;
                var _c194 = (_b193)._right8;
                /* replace _a192 with _b193 in (_a192)._parent9 */
                if (!(((_a192)._parent9) == null)) {
                    if ((((_a192)._parent9)._left7) == (_a192)) {
                        ((_a192)._parent9)._left7 = _b193;
                    } else {
                        ((_a192)._parent9)._right8 = _b193;
                    }
                }
                if (!((_b193) == null)) {
                    (_b193)._parent9 = (_a192)._parent9;
                }
                /* replace _c194 with _a192 in _b193 */
                (_b193)._right8 = _a192;
                if (!((_a192) == null)) {
                    (_a192)._parent9 = _b193;
                }
                /* replace _b193 with _c194 in _a192 */
                (_a192)._left7 = _c194;
                if (!((_c194) == null)) {
                    (_c194)._parent9 = _a192;
                }
                /* _min_ax12 is min of ax1 */
                var _augval195 = (_a192).ax1;
                var _child196 = (_a192)._left7;
                if (!((_child196) == null)) {
                    var _val197 = (_child196)._min_ax12;
                    _augval195 = ((_augval195) < (_val197)) ? (_augval195) : (_val197);
                }
                var _child198 = (_a192)._right8;
                if (!((_child198) == null)) {
                    var _val199 = (_child198)._min_ax12;
                    _augval195 = ((_augval195) < (_val199)) ? (_augval195) : (_val199);
                }
                (_a192)._min_ax12 = _augval195;
                /* _min_ay13 is min of ay1 */
                var _augval200 = (_a192).ay1;
                var _child201 = (_a192)._left7;
                if (!((_child201) == null)) {
                    var _val202 = (_child201)._min_ay13;
                    _augval200 = ((_augval200) < (_val202)) ? (_augval200) : (_val202);
                }
                var _child203 = (_a192)._right8;
                if (!((_child203) == null)) {
                    var _val204 = (_child203)._min_ay13;
                    _augval200 = ((_augval200) < (_val204)) ? (_augval200) : (_val204);
                }
                (_a192)._min_ay13 = _augval200;
                /* _max_ay24 is max of ay2 */
                var _augval205 = (_a192).ay2;
                var _child206 = (_a192)._left7;
                if (!((_child206) == null)) {
                    var _val207 = (_child206)._max_ay24;
                    _augval205 = ((_augval205) < (_val207)) ? (_val207) : (_augval205);
                }
                var _child208 = (_a192)._right8;
                if (!((_child208) == null)) {
                    var _val209 = (_child208)._max_ay24;
                    _augval205 = ((_augval205) < (_val209)) ? (_val209) : (_augval205);
                }
                (_a192)._max_ay24 = _augval205;
                (_a192)._height10 = 1 + ((((((_a192)._left7) == null) ? (-1) : (((_a192)._left7)._height10)) > ((((_a192)._right8) == null) ? (-1) : (((_a192)._right8)._height10))) ? ((((_a192)._left7) == null) ? (-1) : (((_a192)._left7)._height10)) : ((((_a192)._right8) == null) ? (-1) : (((_a192)._right8)._height10)));
                /* _min_ax12 is min of ax1 */
                var _augval210 = (_b193).ax1;
                var _child211 = (_b193)._left7;
                if (!((_child211) == null)) {
                    var _val212 = (_child211)._min_ax12;
                    _augval210 = ((_augval210) < (_val212)) ? (_augval210) : (_val212);
                }
                var _child213 = (_b193)._right8;
                if (!((_child213) == null)) {
                    var _val214 = (_child213)._min_ax12;
                    _augval210 = ((_augval210) < (_val214)) ? (_augval210) : (_val214);
                }
                (_b193)._min_ax12 = _augval210;
                /* _min_ay13 is min of ay1 */
                var _augval215 = (_b193).ay1;
                var _child216 = (_b193)._left7;
                if (!((_child216) == null)) {
                    var _val217 = (_child216)._min_ay13;
                    _augval215 = ((_augval215) < (_val217)) ? (_augval215) : (_val217);
                }
                var _child218 = (_b193)._right8;
                if (!((_child218) == null)) {
                    var _val219 = (_child218)._min_ay13;
                    _augval215 = ((_augval215) < (_val219)) ? (_augval215) : (_val219);
                }
                (_b193)._min_ay13 = _augval215;
                /* _max_ay24 is max of ay2 */
                var _augval220 = (_b193).ay2;
                var _child221 = (_b193)._left7;
                if (!((_child221) == null)) {
                    var _val222 = (_child221)._max_ay24;
                    _augval220 = ((_augval220) < (_val222)) ? (_val222) : (_augval220);
                }
                var _child223 = (_b193)._right8;
                if (!((_child223) == null)) {
                    var _val224 = (_child223)._max_ay24;
                    _augval220 = ((_augval220) < (_val224)) ? (_val224) : (_augval220);
                }
                (_b193)._max_ay24 = _augval220;
                (_b193)._height10 = 1 + ((((((_b193)._left7) == null) ? (-1) : (((_b193)._left7)._height10)) > ((((_b193)._right8) == null) ? (-1) : (((_b193)._right8)._height10))) ? ((((_b193)._left7) == null) ? (-1) : (((_b193)._left7)._height10)) : ((((_b193)._right8) == null) ? (-1) : (((_b193)._right8)._height10)));
                if (!(((_b193)._parent9) == null)) {
                    /* _min_ax12 is min of ax1 */
                    var _augval225 = ((_b193)._parent9).ax1;
                    var _child226 = ((_b193)._parent9)._left7;
                    if (!((_child226) == null)) {
                        var _val227 = (_child226)._min_ax12;
                        _augval225 = ((_augval225) < (_val227)) ? (_augval225) : (_val227);
                    }
                    var _child228 = ((_b193)._parent9)._right8;
                    if (!((_child228) == null)) {
                        var _val229 = (_child228)._min_ax12;
                        _augval225 = ((_augval225) < (_val229)) ? (_augval225) : (_val229);
                    }
                    ((_b193)._parent9)._min_ax12 = _augval225;
                    /* _min_ay13 is min of ay1 */
                    var _augval230 = ((_b193)._parent9).ay1;
                    var _child231 = ((_b193)._parent9)._left7;
                    if (!((_child231) == null)) {
                        var _val232 = (_child231)._min_ay13;
                        _augval230 = ((_augval230) < (_val232)) ? (_augval230) : (_val232);
                    }
                    var _child233 = ((_b193)._parent9)._right8;
                    if (!((_child233) == null)) {
                        var _val234 = (_child233)._min_ay13;
                        _augval230 = ((_augval230) < (_val234)) ? (_augval230) : (_val234);
                    }
                    ((_b193)._parent9)._min_ay13 = _augval230;
                    /* _max_ay24 is max of ay2 */
                    var _augval235 = ((_b193)._parent9).ay2;
                    var _child236 = ((_b193)._parent9)._left7;
                    if (!((_child236) == null)) {
                        var _val237 = (_child236)._max_ay24;
                        _augval235 = ((_augval235) < (_val237)) ? (_val237) : (_augval235);
                    }
                    var _child238 = ((_b193)._parent9)._right8;
                    if (!((_child238) == null)) {
                        var _val239 = (_child238)._max_ay24;
                        _augval235 = ((_augval235) < (_val239)) ? (_val239) : (_augval235);
                    }
                    ((_b193)._parent9)._max_ay24 = _augval235;
                    ((_b193)._parent9)._height10 = 1 + (((((((_b193)._parent9)._left7) == null) ? (-1) : ((((_b193)._parent9)._left7)._height10)) > (((((_b193)._parent9)._right8) == null) ? (-1) : ((((_b193)._parent9)._right8)._height10))) ? (((((_b193)._parent9)._left7) == null) ? (-1) : ((((_b193)._parent9)._left7)._height10)) : (((((_b193)._parent9)._right8) == null) ? (-1) : ((((_b193)._parent9)._right8)._height10)));
                } else {
                    (this)._root1 = _b193;
                }
            }
            /* rotate (_cursor94)._right8 */
            var _a240 = _cursor94;
            var _b241 = (_a240)._right8;
            var _c242 = (_b241)._left7;
            /* replace _a240 with _b241 in (_a240)._parent9 */
            if (!(((_a240)._parent9) == null)) {
                if ((((_a240)._parent9)._left7) == (_a240)) {
                    ((_a240)._parent9)._left7 = _b241;
                } else {
                    ((_a240)._parent9)._right8 = _b241;
                }
            }
            if (!((_b241) == null)) {
                (_b241)._parent9 = (_a240)._parent9;
            }
            /* replace _c242 with _a240 in _b241 */
            (_b241)._left7 = _a240;
            if (!((_a240) == null)) {
                (_a240)._parent9 = _b241;
            }
            /* replace _b241 with _c242 in _a240 */
            (_a240)._right8 = _c242;
            if (!((_c242) == null)) {
                (_c242)._parent9 = _a240;
            }
            /* _min_ax12 is min of ax1 */
            var _augval243 = (_a240).ax1;
            var _child244 = (_a240)._left7;
            if (!((_child244) == null)) {
                var _val245 = (_child244)._min_ax12;
                _augval243 = ((_augval243) < (_val245)) ? (_augval243) : (_val245);
            }
            var _child246 = (_a240)._right8;
            if (!((_child246) == null)) {
                var _val247 = (_child246)._min_ax12;
                _augval243 = ((_augval243) < (_val247)) ? (_augval243) : (_val247);
            }
            (_a240)._min_ax12 = _augval243;
            /* _min_ay13 is min of ay1 */
            var _augval248 = (_a240).ay1;
            var _child249 = (_a240)._left7;
            if (!((_child249) == null)) {
                var _val250 = (_child249)._min_ay13;
                _augval248 = ((_augval248) < (_val250)) ? (_augval248) : (_val250);
            }
            var _child251 = (_a240)._right8;
            if (!((_child251) == null)) {
                var _val252 = (_child251)._min_ay13;
                _augval248 = ((_augval248) < (_val252)) ? (_augval248) : (_val252);
            }
            (_a240)._min_ay13 = _augval248;
            /* _max_ay24 is max of ay2 */
            var _augval253 = (_a240).ay2;
            var _child254 = (_a240)._left7;
            if (!((_child254) == null)) {
                var _val255 = (_child254)._max_ay24;
                _augval253 = ((_augval253) < (_val255)) ? (_val255) : (_augval253);
            }
            var _child256 = (_a240)._right8;
            if (!((_child256) == null)) {
                var _val257 = (_child256)._max_ay24;
                _augval253 = ((_augval253) < (_val257)) ? (_val257) : (_augval253);
            }
            (_a240)._max_ay24 = _augval253;
            (_a240)._height10 = 1 + ((((((_a240)._left7) == null) ? (-1) : (((_a240)._left7)._height10)) > ((((_a240)._right8) == null) ? (-1) : (((_a240)._right8)._height10))) ? ((((_a240)._left7) == null) ? (-1) : (((_a240)._left7)._height10)) : ((((_a240)._right8) == null) ? (-1) : (((_a240)._right8)._height10)));
            /* _min_ax12 is min of ax1 */
            var _augval258 = (_b241).ax1;
            var _child259 = (_b241)._left7;
            if (!((_child259) == null)) {
                var _val260 = (_child259)._min_ax12;
                _augval258 = ((_augval258) < (_val260)) ? (_augval258) : (_val260);
            }
            var _child261 = (_b241)._right8;
            if (!((_child261) == null)) {
                var _val262 = (_child261)._min_ax12;
                _augval258 = ((_augval258) < (_val262)) ? (_augval258) : (_val262);
            }
            (_b241)._min_ax12 = _augval258;
            /* _min_ay13 is min of ay1 */
            var _augval263 = (_b241).ay1;
            var _child264 = (_b241)._left7;
            if (!((_child264) == null)) {
                var _val265 = (_child264)._min_ay13;
                _augval263 = ((_augval263) < (_val265)) ? (_augval263) : (_val265);
            }
            var _child266 = (_b241)._right8;
            if (!((_child266) == null)) {
                var _val267 = (_child266)._min_ay13;
                _augval263 = ((_augval263) < (_val267)) ? (_augval263) : (_val267);
            }
            (_b241)._min_ay13 = _augval263;
            /* _max_ay24 is max of ay2 */
            var _augval268 = (_b241).ay2;
            var _child269 = (_b241)._left7;
            if (!((_child269) == null)) {
                var _val270 = (_child269)._max_ay24;
                _augval268 = ((_augval268) < (_val270)) ? (_val270) : (_augval268);
            }
            var _child271 = (_b241)._right8;
            if (!((_child271) == null)) {
                var _val272 = (_child271)._max_ay24;
                _augval268 = ((_augval268) < (_val272)) ? (_val272) : (_augval268);
            }
            (_b241)._max_ay24 = _augval268;
            (_b241)._height10 = 1 + ((((((_b241)._left7) == null) ? (-1) : (((_b241)._left7)._height10)) > ((((_b241)._right8) == null) ? (-1) : (((_b241)._right8)._height10))) ? ((((_b241)._left7) == null) ? (-1) : (((_b241)._left7)._height10)) : ((((_b241)._right8) == null) ? (-1) : (((_b241)._right8)._height10)));
            if (!(((_b241)._parent9) == null)) {
                /* _min_ax12 is min of ax1 */
                var _augval273 = ((_b241)._parent9).ax1;
                var _child274 = ((_b241)._parent9)._left7;
                if (!((_child274) == null)) {
                    var _val275 = (_child274)._min_ax12;
                    _augval273 = ((_augval273) < (_val275)) ? (_augval273) : (_val275);
                }
                var _child276 = ((_b241)._parent9)._right8;
                if (!((_child276) == null)) {
                    var _val277 = (_child276)._min_ax12;
                    _augval273 = ((_augval273) < (_val277)) ? (_augval273) : (_val277);
                }
                ((_b241)._parent9)._min_ax12 = _augval273;
                /* _min_ay13 is min of ay1 */
                var _augval278 = ((_b241)._parent9).ay1;
                var _child279 = ((_b241)._parent9)._left7;
                if (!((_child279) == null)) {
                    var _val280 = (_child279)._min_ay13;
                    _augval278 = ((_augval278) < (_val280)) ? (_augval278) : (_val280);
                }
                var _child281 = ((_b241)._parent9)._right8;
                if (!((_child281) == null)) {
                    var _val282 = (_child281)._min_ay13;
                    _augval278 = ((_augval278) < (_val282)) ? (_augval278) : (_val282);
                }
                ((_b241)._parent9)._min_ay13 = _augval278;
                /* _max_ay24 is max of ay2 */
                var _augval283 = ((_b241)._parent9).ay2;
                var _child284 = ((_b241)._parent9)._left7;
                if (!((_child284) == null)) {
                    var _val285 = (_child284)._max_ay24;
                    _augval283 = ((_augval283) < (_val285)) ? (_val285) : (_augval283);
                }
                var _child286 = ((_b241)._parent9)._right8;
                if (!((_child286) == null)) {
                    var _val287 = (_child286)._max_ay24;
                    _augval283 = ((_augval283) < (_val287)) ? (_val287) : (_augval283);
                }
                ((_b241)._parent9)._max_ay24 = _augval283;
                ((_b241)._parent9)._height10 = 1 + (((((((_b241)._parent9)._left7) == null) ? (-1) : ((((_b241)._parent9)._left7)._height10)) > (((((_b241)._parent9)._right8) == null) ? (-1) : ((((_b241)._parent9)._right8)._height10))) ? (((((_b241)._parent9)._left7) == null) ? (-1) : ((((_b241)._parent9)._left7)._height10)) : (((((_b241)._parent9)._right8) == null) ? (-1) : ((((_b241)._parent9)._right8)._height10)));
            } else {
                (this)._root1 = _b241;
            }
            _cursor94 = (_cursor94)._parent9;
        }
    }
};
RectangleHolder.prototype.remove = function (x) {
    --this.my_size;
    var _parent288 = (x)._parent9;
    var _left289 = (x)._left7;
    var _right290 = (x)._right8;
    var _new_x291;
    if (((_left289) == null) && ((_right290) == null)) {
        _new_x291 = null;
        /* replace x with _new_x291 in _parent288 */
        if (!((_parent288) == null)) {
            if (((_parent288)._left7) == (x)) {
                (_parent288)._left7 = _new_x291;
            } else {
                (_parent288)._right8 = _new_x291;
            }
        }
        if (!((_new_x291) == null)) {
            (_new_x291)._parent9 = _parent288;
        }
    } else if ((!((_left289) == null)) && ((_right290) == null)) {
        _new_x291 = _left289;
        /* replace x with _new_x291 in _parent288 */
        if (!((_parent288) == null)) {
            if (((_parent288)._left7) == (x)) {
                (_parent288)._left7 = _new_x291;
            } else {
                (_parent288)._right8 = _new_x291;
            }
        }
        if (!((_new_x291) == null)) {
            (_new_x291)._parent9 = _parent288;
        }
    } else if (((_left289) == null) && (!((_right290) == null))) {
        _new_x291 = _right290;
        /* replace x with _new_x291 in _parent288 */
        if (!((_parent288) == null)) {
            if (((_parent288)._left7) == (x)) {
                (_parent288)._left7 = _new_x291;
            } else {
                (_parent288)._right8 = _new_x291;
            }
        }
        if (!((_new_x291) == null)) {
            (_new_x291)._parent9 = _parent288;
        }
    } else {
        var _root292 = (x)._right8;
        var _x293 = _root292;
        var _descend294 = true;
        var _from_left295 = true;
        while (true) {
            if ((_x293) == null) {
                _x293 = null;
                break;
            }
            if (_descend294) {
                /* too small? */
                if (false) {
                    if ((!(((_x293)._right8) == null)) && (true)) {
                        if ((_x293) == (_root292)) {
                            _root292 = (_x293)._right8;
                        }
                        _x293 = (_x293)._right8;
                    } else if ((_x293) == (_root292)) {
                        _x293 = null;
                        break;
                    } else {
                        _descend294 = false;
                        _from_left295 = (!(((_x293)._parent9) == null)) && ((_x293) == (((_x293)._parent9)._left7));
                        _x293 = (_x293)._parent9;
                    }
                } else if ((!(((_x293)._left7) == null)) && (true)) {
                    _x293 = (_x293)._left7;
                    /* too large? */
                } else if (false) {
                    if ((_x293) == (_root292)) {
                        _x293 = null;
                        break;
                    } else {
                        _descend294 = false;
                        _from_left295 = (!(((_x293)._parent9) == null)) && ((_x293) == (((_x293)._parent9)._left7));
                        _x293 = (_x293)._parent9;
                    }
                    /* node ok? */
                } else if (true) {
                    break;
                } else if ((_x293) == (_root292)) {
                    _root292 = (_x293)._right8;
                    _x293 = (_x293)._right8;
                } else {
                    if ((!(((_x293)._right8) == null)) && (true)) {
                        if ((_x293) == (_root292)) {
                            _root292 = (_x293)._right8;
                        }
                        _x293 = (_x293)._right8;
                    } else {
                        _descend294 = false;
                        _from_left295 = (!(((_x293)._parent9) == null)) && ((_x293) == (((_x293)._parent9)._left7));
                        _x293 = (_x293)._parent9;
                    }
                }
            } else if (_from_left295) {
                if (false) {
                    _x293 = null;
                    break;
                } else if (true) {
                    break;
                } else if ((!(((_x293)._right8) == null)) && (true)) {
                    _descend294 = true;
                    if ((_x293) == (_root292)) {
                        _root292 = (_x293)._right8;
                    }
                    _x293 = (_x293)._right8;
                } else if ((_x293) == (_root292)) {
                    _x293 = null;
                    break;
                } else {
                    _descend294 = false;
                    _from_left295 = (!(((_x293)._parent9) == null)) && ((_x293) == (((_x293)._parent9)._left7));
                    _x293 = (_x293)._parent9;
                }
            } else {
                if ((_x293) == (_root292)) {
                    _x293 = null;
                    break;
                } else {
                    _descend294 = false;
                    _from_left295 = (!(((_x293)._parent9) == null)) && ((_x293) == (((_x293)._parent9)._left7));
                    _x293 = (_x293)._parent9;
                }
            }
        }
        _new_x291 = _x293;
        var _mp296 = (_x293)._parent9;
        var _mr297 = (_x293)._right8;
        /* replace _x293 with _mr297 in _mp296 */
        if (!((_mp296) == null)) {
            if (((_mp296)._left7) == (_x293)) {
                (_mp296)._left7 = _mr297;
            } else {
                (_mp296)._right8 = _mr297;
            }
        }
        if (!((_mr297) == null)) {
            (_mr297)._parent9 = _mp296;
        }
        /* replace x with _x293 in _parent288 */
        if (!((_parent288) == null)) {
            if (((_parent288)._left7) == (x)) {
                (_parent288)._left7 = _x293;
            } else {
                (_parent288)._right8 = _x293;
            }
        }
        if (!((_x293) == null)) {
            (_x293)._parent9 = _parent288;
        }
        /* replace null with _left289 in _x293 */
        (_x293)._left7 = _left289;
        if (!((_left289) == null)) {
            (_left289)._parent9 = _x293;
        }
        /* replace _mr297 with (x)._right8 in _x293 */
        (_x293)._right8 = (x)._right8;
        if (!(((x)._right8) == null)) {
            ((x)._right8)._parent9 = _x293;
        }
        /* _min_ax12 is min of ax1 */
        var _augval298 = (_x293).ax1;
        var _child299 = (_x293)._left7;
        if (!((_child299) == null)) {
            var _val300 = (_child299)._min_ax12;
            _augval298 = ((_augval298) < (_val300)) ? (_augval298) : (_val300);
        }
        var _child301 = (_x293)._right8;
        if (!((_child301) == null)) {
            var _val302 = (_child301)._min_ax12;
            _augval298 = ((_augval298) < (_val302)) ? (_augval298) : (_val302);
        }
        (_x293)._min_ax12 = _augval298;
        /* _min_ay13 is min of ay1 */
        var _augval303 = (_x293).ay1;
        var _child304 = (_x293)._left7;
        if (!((_child304) == null)) {
            var _val305 = (_child304)._min_ay13;
            _augval303 = ((_augval303) < (_val305)) ? (_augval303) : (_val305);
        }
        var _child306 = (_x293)._right8;
        if (!((_child306) == null)) {
            var _val307 = (_child306)._min_ay13;
            _augval303 = ((_augval303) < (_val307)) ? (_augval303) : (_val307);
        }
        (_x293)._min_ay13 = _augval303;
        /* _max_ay24 is max of ay2 */
        var _augval308 = (_x293).ay2;
        var _child309 = (_x293)._left7;
        if (!((_child309) == null)) {
            var _val310 = (_child309)._max_ay24;
            _augval308 = ((_augval308) < (_val310)) ? (_val310) : (_augval308);
        }
        var _child311 = (_x293)._right8;
        if (!((_child311) == null)) {
            var _val312 = (_child311)._max_ay24;
            _augval308 = ((_augval308) < (_val312)) ? (_val312) : (_augval308);
        }
        (_x293)._max_ay24 = _augval308;
        (_x293)._height10 = 1 + ((((((_x293)._left7) == null) ? (-1) : (((_x293)._left7)._height10)) > ((((_x293)._right8) == null) ? (-1) : (((_x293)._right8)._height10))) ? ((((_x293)._left7) == null) ? (-1) : (((_x293)._left7)._height10)) : ((((_x293)._right8) == null) ? (-1) : (((_x293)._right8)._height10)));
        var _cursor313 = _mp296;
        var _changed314 = true;
        while ((_changed314) && (!((_cursor313) == (_parent288)))) {
            var _old__min_ax12315 = (_cursor313)._min_ax12;
            var _old__min_ay13316 = (_cursor313)._min_ay13;
            var _old__max_ay24317 = (_cursor313)._max_ay24;
            var _old_height318 = (_cursor313)._height10;
            /* _min_ax12 is min of ax1 */
            var _augval319 = (_cursor313).ax1;
            var _child320 = (_cursor313)._left7;
            if (!((_child320) == null)) {
                var _val321 = (_child320)._min_ax12;
                _augval319 = ((_augval319) < (_val321)) ? (_augval319) : (_val321);
            }
            var _child322 = (_cursor313)._right8;
            if (!((_child322) == null)) {
                var _val323 = (_child322)._min_ax12;
                _augval319 = ((_augval319) < (_val323)) ? (_augval319) : (_val323);
            }
            (_cursor313)._min_ax12 = _augval319;
            /* _min_ay13 is min of ay1 */
            var _augval324 = (_cursor313).ay1;
            var _child325 = (_cursor313)._left7;
            if (!((_child325) == null)) {
                var _val326 = (_child325)._min_ay13;
                _augval324 = ((_augval324) < (_val326)) ? (_augval324) : (_val326);
            }
            var _child327 = (_cursor313)._right8;
            if (!((_child327) == null)) {
                var _val328 = (_child327)._min_ay13;
                _augval324 = ((_augval324) < (_val328)) ? (_augval324) : (_val328);
            }
            (_cursor313)._min_ay13 = _augval324;
            /* _max_ay24 is max of ay2 */
            var _augval329 = (_cursor313).ay2;
            var _child330 = (_cursor313)._left7;
            if (!((_child330) == null)) {
                var _val331 = (_child330)._max_ay24;
                _augval329 = ((_augval329) < (_val331)) ? (_val331) : (_augval329);
            }
            var _child332 = (_cursor313)._right8;
            if (!((_child332) == null)) {
                var _val333 = (_child332)._max_ay24;
                _augval329 = ((_augval329) < (_val333)) ? (_val333) : (_augval329);
            }
            (_cursor313)._max_ay24 = _augval329;
            (_cursor313)._height10 = 1 + ((((((_cursor313)._left7) == null) ? (-1) : (((_cursor313)._left7)._height10)) > ((((_cursor313)._right8) == null) ? (-1) : (((_cursor313)._right8)._height10))) ? ((((_cursor313)._left7) == null) ? (-1) : (((_cursor313)._left7)._height10)) : ((((_cursor313)._right8) == null) ? (-1) : (((_cursor313)._right8)._height10)));
            _changed314 = false;
            _changed314 = (_changed314) || (!((_old__min_ax12315) == ((_cursor313)._min_ax12)));
            _changed314 = (_changed314) || (!((_old__min_ay13316) == ((_cursor313)._min_ay13)));
            _changed314 = (_changed314) || (!((_old__max_ay24317) == ((_cursor313)._max_ay24)));
            _changed314 = (_changed314) || (!((_old_height318) == ((_cursor313)._height10)));
            _cursor313 = (_cursor313)._parent9;
        }
    }
    var _cursor334 = _parent288;
    var _changed335 = true;
    while ((_changed335) && (!((_cursor334) == (null)))) {
        var _old__min_ax12336 = (_cursor334)._min_ax12;
        var _old__min_ay13337 = (_cursor334)._min_ay13;
        var _old__max_ay24338 = (_cursor334)._max_ay24;
        var _old_height339 = (_cursor334)._height10;
        /* _min_ax12 is min of ax1 */
        var _augval340 = (_cursor334).ax1;
        var _child341 = (_cursor334)._left7;
        if (!((_child341) == null)) {
            var _val342 = (_child341)._min_ax12;
            _augval340 = ((_augval340) < (_val342)) ? (_augval340) : (_val342);
        }
        var _child343 = (_cursor334)._right8;
        if (!((_child343) == null)) {
            var _val344 = (_child343)._min_ax12;
            _augval340 = ((_augval340) < (_val344)) ? (_augval340) : (_val344);
        }
        (_cursor334)._min_ax12 = _augval340;
        /* _min_ay13 is min of ay1 */
        var _augval345 = (_cursor334).ay1;
        var _child346 = (_cursor334)._left7;
        if (!((_child346) == null)) {
            var _val347 = (_child346)._min_ay13;
            _augval345 = ((_augval345) < (_val347)) ? (_augval345) : (_val347);
        }
        var _child348 = (_cursor334)._right8;
        if (!((_child348) == null)) {
            var _val349 = (_child348)._min_ay13;
            _augval345 = ((_augval345) < (_val349)) ? (_augval345) : (_val349);
        }
        (_cursor334)._min_ay13 = _augval345;
        /* _max_ay24 is max of ay2 */
        var _augval350 = (_cursor334).ay2;
        var _child351 = (_cursor334)._left7;
        if (!((_child351) == null)) {
            var _val352 = (_child351)._max_ay24;
            _augval350 = ((_augval350) < (_val352)) ? (_val352) : (_augval350);
        }
        var _child353 = (_cursor334)._right8;
        if (!((_child353) == null)) {
            var _val354 = (_child353)._max_ay24;
            _augval350 = ((_augval350) < (_val354)) ? (_val354) : (_augval350);
        }
        (_cursor334)._max_ay24 = _augval350;
        (_cursor334)._height10 = 1 + ((((((_cursor334)._left7) == null) ? (-1) : (((_cursor334)._left7)._height10)) > ((((_cursor334)._right8) == null) ? (-1) : (((_cursor334)._right8)._height10))) ? ((((_cursor334)._left7) == null) ? (-1) : (((_cursor334)._left7)._height10)) : ((((_cursor334)._right8) == null) ? (-1) : (((_cursor334)._right8)._height10)));
        _changed335 = false;
        _changed335 = (_changed335) || (!((_old__min_ax12336) == ((_cursor334)._min_ax12)));
        _changed335 = (_changed335) || (!((_old__min_ay13337) == ((_cursor334)._min_ay13)));
        _changed335 = (_changed335) || (!((_old__max_ay24338) == ((_cursor334)._max_ay24)));
        _changed335 = (_changed335) || (!((_old_height339) == ((_cursor334)._height10)));
        _cursor334 = (_cursor334)._parent9;
    }
    if (((this)._root1) == (x)) {
        (this)._root1 = _new_x291;
    }
};
RectangleHolder.prototype.updateAx1 = function (__x, new_val) {
    if ((__x).ax1 != new_val) {
        /* _min_ax12 is min of ax1 */
        var _augval355 = new_val;
        var _child356 = (__x)._left7;
        if (!((_child356) == null)) {
            var _val357 = (_child356)._min_ax12;
            _augval355 = ((_augval355) < (_val357)) ? (_augval355) : (_val357);
        }
        var _child358 = (__x)._right8;
        if (!((_child358) == null)) {
            var _val359 = (_child358)._min_ax12;
            _augval355 = ((_augval355) < (_val359)) ? (_augval355) : (_val359);
        }
        (__x)._min_ax12 = _augval355;
        var _cursor360 = (__x)._parent9;
        var _changed361 = true;
        while ((_changed361) && (!((_cursor360) == (null)))) {
            var _old__min_ax12362 = (_cursor360)._min_ax12;
            var _old_height363 = (_cursor360)._height10;
            /* _min_ax12 is min of ax1 */
            var _augval364 = (_cursor360).ax1;
            var _child365 = (_cursor360)._left7;
            if (!((_child365) == null)) {
                var _val366 = (_child365)._min_ax12;
                _augval364 = ((_augval364) < (_val366)) ? (_augval364) : (_val366);
            }
            var _child367 = (_cursor360)._right8;
            if (!((_child367) == null)) {
                var _val368 = (_child367)._min_ax12;
                _augval364 = ((_augval364) < (_val368)) ? (_augval364) : (_val368);
            }
            (_cursor360)._min_ax12 = _augval364;
            (_cursor360)._height10 = 1 + ((((((_cursor360)._left7) == null) ? (-1) : (((_cursor360)._left7)._height10)) > ((((_cursor360)._right8) == null) ? (-1) : (((_cursor360)._right8)._height10))) ? ((((_cursor360)._left7) == null) ? (-1) : (((_cursor360)._left7)._height10)) : ((((_cursor360)._right8) == null) ? (-1) : (((_cursor360)._right8)._height10)));
            _changed361 = false;
            _changed361 = (_changed361) || (!((_old__min_ax12362) == ((_cursor360)._min_ax12)));
            _changed361 = (_changed361) || (!((_old_height363) == ((_cursor360)._height10)));
            _cursor360 = (_cursor360)._parent9;
        }
        (__x).ax1 = new_val;
    }
}
RectangleHolder.prototype.updateAy1 = function (__x, new_val) {
    if ((__x).ay1 != new_val) {
        /* _min_ay13 is min of ay1 */
        var _augval369 = new_val;
        var _child370 = (__x)._left7;
        if (!((_child370) == null)) {
            var _val371 = (_child370)._min_ay13;
            _augval369 = ((_augval369) < (_val371)) ? (_augval369) : (_val371);
        }
        var _child372 = (__x)._right8;
        if (!((_child372) == null)) {
            var _val373 = (_child372)._min_ay13;
            _augval369 = ((_augval369) < (_val373)) ? (_augval369) : (_val373);
        }
        (__x)._min_ay13 = _augval369;
        var _cursor374 = (__x)._parent9;
        var _changed375 = true;
        while ((_changed375) && (!((_cursor374) == (null)))) {
            var _old__min_ay13376 = (_cursor374)._min_ay13;
            var _old_height377 = (_cursor374)._height10;
            /* _min_ay13 is min of ay1 */
            var _augval378 = (_cursor374).ay1;
            var _child379 = (_cursor374)._left7;
            if (!((_child379) == null)) {
                var _val380 = (_child379)._min_ay13;
                _augval378 = ((_augval378) < (_val380)) ? (_augval378) : (_val380);
            }
            var _child381 = (_cursor374)._right8;
            if (!((_child381) == null)) {
                var _val382 = (_child381)._min_ay13;
                _augval378 = ((_augval378) < (_val382)) ? (_augval378) : (_val382);
            }
            (_cursor374)._min_ay13 = _augval378;
            (_cursor374)._height10 = 1 + ((((((_cursor374)._left7) == null) ? (-1) : (((_cursor374)._left7)._height10)) > ((((_cursor374)._right8) == null) ? (-1) : (((_cursor374)._right8)._height10))) ? ((((_cursor374)._left7) == null) ? (-1) : (((_cursor374)._left7)._height10)) : ((((_cursor374)._right8) == null) ? (-1) : (((_cursor374)._right8)._height10)));
            _changed375 = false;
            _changed375 = (_changed375) || (!((_old__min_ay13376) == ((_cursor374)._min_ay13)));
            _changed375 = (_changed375) || (!((_old_height377) == ((_cursor374)._height10)));
            _cursor374 = (_cursor374)._parent9;
        }
        (__x).ay1 = new_val;
    }
}
RectangleHolder.prototype.updateAx2 = function (__x, new_val) {
    if ((__x).ax2 != new_val) {
        var _parent383 = (__x)._parent9;
        var _left384 = (__x)._left7;
        var _right385 = (__x)._right8;
        var _new_x386;
        if (((_left384) == null) && ((_right385) == null)) {
            _new_x386 = null;
            /* replace __x with _new_x386 in _parent383 */
            if (!((_parent383) == null)) {
                if (((_parent383)._left7) == (__x)) {
                    (_parent383)._left7 = _new_x386;
                } else {
                    (_parent383)._right8 = _new_x386;
                }
            }
            if (!((_new_x386) == null)) {
                (_new_x386)._parent9 = _parent383;
            }
        } else if ((!((_left384) == null)) && ((_right385) == null)) {
            _new_x386 = _left384;
            /* replace __x with _new_x386 in _parent383 */
            if (!((_parent383) == null)) {
                if (((_parent383)._left7) == (__x)) {
                    (_parent383)._left7 = _new_x386;
                } else {
                    (_parent383)._right8 = _new_x386;
                }
            }
            if (!((_new_x386) == null)) {
                (_new_x386)._parent9 = _parent383;
            }
        } else if (((_left384) == null) && (!((_right385) == null))) {
            _new_x386 = _right385;
            /* replace __x with _new_x386 in _parent383 */
            if (!((_parent383) == null)) {
                if (((_parent383)._left7) == (__x)) {
                    (_parent383)._left7 = _new_x386;
                } else {
                    (_parent383)._right8 = _new_x386;
                }
            }
            if (!((_new_x386) == null)) {
                (_new_x386)._parent9 = _parent383;
            }
        } else {
            var _root387 = (__x)._right8;
            var _x388 = _root387;
            var _descend389 = true;
            var _from_left390 = true;
            while (true) {
                if ((_x388) == null) {
                    _x388 = null;
                    break;
                }
                if (_descend389) {
                    /* too small? */
                    if (false) {
                        if ((!(((_x388)._right8) == null)) && (true)) {
                            if ((_x388) == (_root387)) {
                                _root387 = (_x388)._right8;
                            }
                            _x388 = (_x388)._right8;
                        } else if ((_x388) == (_root387)) {
                            _x388 = null;
                            break;
                        } else {
                            _descend389 = false;
                            _from_left390 = (!(((_x388)._parent9) == null)) && ((_x388) == (((_x388)._parent9)._left7));
                            _x388 = (_x388)._parent9;
                        }
                    } else if ((!(((_x388)._left7) == null)) && (true)) {
                        _x388 = (_x388)._left7;
                        /* too large? */
                    } else if (false) {
                        if ((_x388) == (_root387)) {
                            _x388 = null;
                            break;
                        } else {
                            _descend389 = false;
                            _from_left390 = (!(((_x388)._parent9) == null)) && ((_x388) == (((_x388)._parent9)._left7));
                            _x388 = (_x388)._parent9;
                        }
                        /* node ok? */
                    } else if (true) {
                        break;
                    } else if ((_x388) == (_root387)) {
                        _root387 = (_x388)._right8;
                        _x388 = (_x388)._right8;
                    } else {
                        if ((!(((_x388)._right8) == null)) && (true)) {
                            if ((_x388) == (_root387)) {
                                _root387 = (_x388)._right8;
                            }
                            _x388 = (_x388)._right8;
                        } else {
                            _descend389 = false;
                            _from_left390 = (!(((_x388)._parent9) == null)) && ((_x388) == (((_x388)._parent9)._left7));
                            _x388 = (_x388)._parent9;
                        }
                    }
                } else if (_from_left390) {
                    if (false) {
                        _x388 = null;
                        break;
                    } else if (true) {
                        break;
                    } else if ((!(((_x388)._right8) == null)) && (true)) {
                        _descend389 = true;
                        if ((_x388) == (_root387)) {
                            _root387 = (_x388)._right8;
                        }
                        _x388 = (_x388)._right8;
                    } else if ((_x388) == (_root387)) {
                        _x388 = null;
                        break;
                    } else {
                        _descend389 = false;
                        _from_left390 = (!(((_x388)._parent9) == null)) && ((_x388) == (((_x388)._parent9)._left7));
                        _x388 = (_x388)._parent9;
                    }
                } else {
                    if ((_x388) == (_root387)) {
                        _x388 = null;
                        break;
                    } else {
                        _descend389 = false;
                        _from_left390 = (!(((_x388)._parent9) == null)) && ((_x388) == (((_x388)._parent9)._left7));
                        _x388 = (_x388)._parent9;
                    }
                }
            }
            _new_x386 = _x388;
            var _mp391 = (_x388)._parent9;
            var _mr392 = (_x388)._right8;
            /* replace _x388 with _mr392 in _mp391 */
            if (!((_mp391) == null)) {
                if (((_mp391)._left7) == (_x388)) {
                    (_mp391)._left7 = _mr392;
                } else {
                    (_mp391)._right8 = _mr392;
                }
            }
            if (!((_mr392) == null)) {
                (_mr392)._parent9 = _mp391;
            }
            /* replace __x with _x388 in _parent383 */
            if (!((_parent383) == null)) {
                if (((_parent383)._left7) == (__x)) {
                    (_parent383)._left7 = _x388;
                } else {
                    (_parent383)._right8 = _x388;
                }
            }
            if (!((_x388) == null)) {
                (_x388)._parent9 = _parent383;
            }
            /* replace null with _left384 in _x388 */
            (_x388)._left7 = _left384;
            if (!((_left384) == null)) {
                (_left384)._parent9 = _x388;
            }
            /* replace _mr392 with (__x)._right8 in _x388 */
            (_x388)._right8 = (__x)._right8;
            if (!(((__x)._right8) == null)) {
                ((__x)._right8)._parent9 = _x388;
            }
            /* _min_ax12 is min of ax1 */
            var _augval393 = (_x388).ax1;
            var _child394 = (_x388)._left7;
            if (!((_child394) == null)) {
                var _val395 = (_child394)._min_ax12;
                _augval393 = ((_augval393) < (_val395)) ? (_augval393) : (_val395);
            }
            var _child396 = (_x388)._right8;
            if (!((_child396) == null)) {
                var _val397 = (_child396)._min_ax12;
                _augval393 = ((_augval393) < (_val397)) ? (_augval393) : (_val397);
            }
            (_x388)._min_ax12 = _augval393;
            /* _min_ay13 is min of ay1 */
            var _augval398 = (_x388).ay1;
            var _child399 = (_x388)._left7;
            if (!((_child399) == null)) {
                var _val400 = (_child399)._min_ay13;
                _augval398 = ((_augval398) < (_val400)) ? (_augval398) : (_val400);
            }
            var _child401 = (_x388)._right8;
            if (!((_child401) == null)) {
                var _val402 = (_child401)._min_ay13;
                _augval398 = ((_augval398) < (_val402)) ? (_augval398) : (_val402);
            }
            (_x388)._min_ay13 = _augval398;
            /* _max_ay24 is max of ay2 */
            var _augval403 = (_x388).ay2;
            var _child404 = (_x388)._left7;
            if (!((_child404) == null)) {
                var _val405 = (_child404)._max_ay24;
                _augval403 = ((_augval403) < (_val405)) ? (_val405) : (_augval403);
            }
            var _child406 = (_x388)._right8;
            if (!((_child406) == null)) {
                var _val407 = (_child406)._max_ay24;
                _augval403 = ((_augval403) < (_val407)) ? (_val407) : (_augval403);
            }
            (_x388)._max_ay24 = _augval403;
            (_x388)._height10 = 1 + ((((((_x388)._left7) == null) ? (-1) : (((_x388)._left7)._height10)) > ((((_x388)._right8) == null) ? (-1) : (((_x388)._right8)._height10))) ? ((((_x388)._left7) == null) ? (-1) : (((_x388)._left7)._height10)) : ((((_x388)._right8) == null) ? (-1) : (((_x388)._right8)._height10)));
            var _cursor408 = _mp391;
            var _changed409 = true;
            while ((_changed409) && (!((_cursor408) == (_parent383)))) {
                var _old__min_ax12410 = (_cursor408)._min_ax12;
                var _old__min_ay13411 = (_cursor408)._min_ay13;
                var _old__max_ay24412 = (_cursor408)._max_ay24;
                var _old_height413 = (_cursor408)._height10;
                /* _min_ax12 is min of ax1 */
                var _augval414 = (_cursor408).ax1;
                var _child415 = (_cursor408)._left7;
                if (!((_child415) == null)) {
                    var _val416 = (_child415)._min_ax12;
                    _augval414 = ((_augval414) < (_val416)) ? (_augval414) : (_val416);
                }
                var _child417 = (_cursor408)._right8;
                if (!((_child417) == null)) {
                    var _val418 = (_child417)._min_ax12;
                    _augval414 = ((_augval414) < (_val418)) ? (_augval414) : (_val418);
                }
                (_cursor408)._min_ax12 = _augval414;
                /* _min_ay13 is min of ay1 */
                var _augval419 = (_cursor408).ay1;
                var _child420 = (_cursor408)._left7;
                if (!((_child420) == null)) {
                    var _val421 = (_child420)._min_ay13;
                    _augval419 = ((_augval419) < (_val421)) ? (_augval419) : (_val421);
                }
                var _child422 = (_cursor408)._right8;
                if (!((_child422) == null)) {
                    var _val423 = (_child422)._min_ay13;
                    _augval419 = ((_augval419) < (_val423)) ? (_augval419) : (_val423);
                }
                (_cursor408)._min_ay13 = _augval419;
                /* _max_ay24 is max of ay2 */
                var _augval424 = (_cursor408).ay2;
                var _child425 = (_cursor408)._left7;
                if (!((_child425) == null)) {
                    var _val426 = (_child425)._max_ay24;
                    _augval424 = ((_augval424) < (_val426)) ? (_val426) : (_augval424);
                }
                var _child427 = (_cursor408)._right8;
                if (!((_child427) == null)) {
                    var _val428 = (_child427)._max_ay24;
                    _augval424 = ((_augval424) < (_val428)) ? (_val428) : (_augval424);
                }
                (_cursor408)._max_ay24 = _augval424;
                (_cursor408)._height10 = 1 + ((((((_cursor408)._left7) == null) ? (-1) : (((_cursor408)._left7)._height10)) > ((((_cursor408)._right8) == null) ? (-1) : (((_cursor408)._right8)._height10))) ? ((((_cursor408)._left7) == null) ? (-1) : (((_cursor408)._left7)._height10)) : ((((_cursor408)._right8) == null) ? (-1) : (((_cursor408)._right8)._height10)));
                _changed409 = false;
                _changed409 = (_changed409) || (!((_old__min_ax12410) == ((_cursor408)._min_ax12)));
                _changed409 = (_changed409) || (!((_old__min_ay13411) == ((_cursor408)._min_ay13)));
                _changed409 = (_changed409) || (!((_old__max_ay24412) == ((_cursor408)._max_ay24)));
                _changed409 = (_changed409) || (!((_old_height413) == ((_cursor408)._height10)));
                _cursor408 = (_cursor408)._parent9;
            }
        }
        var _cursor429 = _parent383;
        var _changed430 = true;
        while ((_changed430) && (!((_cursor429) == (null)))) {
            var _old__min_ax12431 = (_cursor429)._min_ax12;
            var _old__min_ay13432 = (_cursor429)._min_ay13;
            var _old__max_ay24433 = (_cursor429)._max_ay24;
            var _old_height434 = (_cursor429)._height10;
            /* _min_ax12 is min of ax1 */
            var _augval435 = (_cursor429).ax1;
            var _child436 = (_cursor429)._left7;
            if (!((_child436) == null)) {
                var _val437 = (_child436)._min_ax12;
                _augval435 = ((_augval435) < (_val437)) ? (_augval435) : (_val437);
            }
            var _child438 = (_cursor429)._right8;
            if (!((_child438) == null)) {
                var _val439 = (_child438)._min_ax12;
                _augval435 = ((_augval435) < (_val439)) ? (_augval435) : (_val439);
            }
            (_cursor429)._min_ax12 = _augval435;
            /* _min_ay13 is min of ay1 */
            var _augval440 = (_cursor429).ay1;
            var _child441 = (_cursor429)._left7;
            if (!((_child441) == null)) {
                var _val442 = (_child441)._min_ay13;
                _augval440 = ((_augval440) < (_val442)) ? (_augval440) : (_val442);
            }
            var _child443 = (_cursor429)._right8;
            if (!((_child443) == null)) {
                var _val444 = (_child443)._min_ay13;
                _augval440 = ((_augval440) < (_val444)) ? (_augval440) : (_val444);
            }
            (_cursor429)._min_ay13 = _augval440;
            /* _max_ay24 is max of ay2 */
            var _augval445 = (_cursor429).ay2;
            var _child446 = (_cursor429)._left7;
            if (!((_child446) == null)) {
                var _val447 = (_child446)._max_ay24;
                _augval445 = ((_augval445) < (_val447)) ? (_val447) : (_augval445);
            }
            var _child448 = (_cursor429)._right8;
            if (!((_child448) == null)) {
                var _val449 = (_child448)._max_ay24;
                _augval445 = ((_augval445) < (_val449)) ? (_val449) : (_augval445);
            }
            (_cursor429)._max_ay24 = _augval445;
            (_cursor429)._height10 = 1 + ((((((_cursor429)._left7) == null) ? (-1) : (((_cursor429)._left7)._height10)) > ((((_cursor429)._right8) == null) ? (-1) : (((_cursor429)._right8)._height10))) ? ((((_cursor429)._left7) == null) ? (-1) : (((_cursor429)._left7)._height10)) : ((((_cursor429)._right8) == null) ? (-1) : (((_cursor429)._right8)._height10)));
            _changed430 = false;
            _changed430 = (_changed430) || (!((_old__min_ax12431) == ((_cursor429)._min_ax12)));
            _changed430 = (_changed430) || (!((_old__min_ay13432) == ((_cursor429)._min_ay13)));
            _changed430 = (_changed430) || (!((_old__max_ay24433) == ((_cursor429)._max_ay24)));
            _changed430 = (_changed430) || (!((_old_height434) == ((_cursor429)._height10)));
            _cursor429 = (_cursor429)._parent9;
        }
        if (((this)._root1) == (__x)) {
            (this)._root1 = _new_x386;
        }
        (__x)._left7 = null;
        (__x)._right8 = null;
        (__x)._min_ax12 = (__x).ax1;
        (__x)._min_ay13 = (__x).ay1;
        (__x)._max_ay24 = (__x).ay2;
        (__x)._height10 = 0;
        var _previous450 = null;
        var _current451 = (this)._root1;
        var _is_left452 = false;
        while (!((_current451) == null)) {
            _previous450 = _current451;
            if ((new_val) < ((_current451).ax2)) {
                _current451 = (_current451)._left7;
                _is_left452 = true;
            } else {
                _current451 = (_current451)._right8;
                _is_left452 = false;
            }
        }
        if ((_previous450) == null) {
            (this)._root1 = __x;
        } else {
            (__x)._parent9 = _previous450;
            if (_is_left452) {
                (_previous450)._left7 = __x;
            } else {
                (_previous450)._right8 = __x;
            }
        }
        var _cursor453 = (__x)._parent9;
        var _changed454 = true;
        while ((_changed454) && (!((_cursor453) == (null)))) {
            var _old__min_ax12455 = (_cursor453)._min_ax12;
            var _old__min_ay13456 = (_cursor453)._min_ay13;
            var _old__max_ay24457 = (_cursor453)._max_ay24;
            var _old_height458 = (_cursor453)._height10;
            /* _min_ax12 is min of ax1 */
            var _augval459 = (_cursor453).ax1;
            var _child460 = (_cursor453)._left7;
            if (!((_child460) == null)) {
                var _val461 = (_child460)._min_ax12;
                _augval459 = ((_augval459) < (_val461)) ? (_augval459) : (_val461);
            }
            var _child462 = (_cursor453)._right8;
            if (!((_child462) == null)) {
                var _val463 = (_child462)._min_ax12;
                _augval459 = ((_augval459) < (_val463)) ? (_augval459) : (_val463);
            }
            (_cursor453)._min_ax12 = _augval459;
            /* _min_ay13 is min of ay1 */
            var _augval464 = (_cursor453).ay1;
            var _child465 = (_cursor453)._left7;
            if (!((_child465) == null)) {
                var _val466 = (_child465)._min_ay13;
                _augval464 = ((_augval464) < (_val466)) ? (_augval464) : (_val466);
            }
            var _child467 = (_cursor453)._right8;
            if (!((_child467) == null)) {
                var _val468 = (_child467)._min_ay13;
                _augval464 = ((_augval464) < (_val468)) ? (_augval464) : (_val468);
            }
            (_cursor453)._min_ay13 = _augval464;
            /* _max_ay24 is max of ay2 */
            var _augval469 = (_cursor453).ay2;
            var _child470 = (_cursor453)._left7;
            if (!((_child470) == null)) {
                var _val471 = (_child470)._max_ay24;
                _augval469 = ((_augval469) < (_val471)) ? (_val471) : (_augval469);
            }
            var _child472 = (_cursor453)._right8;
            if (!((_child472) == null)) {
                var _val473 = (_child472)._max_ay24;
                _augval469 = ((_augval469) < (_val473)) ? (_val473) : (_augval469);
            }
            (_cursor453)._max_ay24 = _augval469;
            (_cursor453)._height10 = 1 + ((((((_cursor453)._left7) == null) ? (-1) : (((_cursor453)._left7)._height10)) > ((((_cursor453)._right8) == null) ? (-1) : (((_cursor453)._right8)._height10))) ? ((((_cursor453)._left7) == null) ? (-1) : (((_cursor453)._left7)._height10)) : ((((_cursor453)._right8) == null) ? (-1) : (((_cursor453)._right8)._height10)));
            _changed454 = false;
            _changed454 = (_changed454) || (!((_old__min_ax12455) == ((_cursor453)._min_ax12)));
            _changed454 = (_changed454) || (!((_old__min_ay13456) == ((_cursor453)._min_ay13)));
            _changed454 = (_changed454) || (!((_old__max_ay24457) == ((_cursor453)._max_ay24)));
            _changed454 = (_changed454) || (!((_old_height458) == ((_cursor453)._height10)));
            _cursor453 = (_cursor453)._parent9;
        }
        /* rebalance AVL tree */
        var _cursor474 = __x;
        var _imbalance475;
        while (!(((_cursor474)._parent9) == null)) {
            _cursor474 = (_cursor474)._parent9;
            (_cursor474)._height10 = 1 + ((((((_cursor474)._left7) == null) ? (-1) : (((_cursor474)._left7)._height10)) > ((((_cursor474)._right8) == null) ? (-1) : (((_cursor474)._right8)._height10))) ? ((((_cursor474)._left7) == null) ? (-1) : (((_cursor474)._left7)._height10)) : ((((_cursor474)._right8) == null) ? (-1) : (((_cursor474)._right8)._height10)));
            _imbalance475 = ((((_cursor474)._left7) == null) ? (-1) : (((_cursor474)._left7)._height10)) - ((((_cursor474)._right8) == null) ? (-1) : (((_cursor474)._right8)._height10));
            if ((_imbalance475) > (1)) {
                if ((((((_cursor474)._left7)._left7) == null) ? (-1) : ((((_cursor474)._left7)._left7)._height10)) < (((((_cursor474)._left7)._right8) == null) ? (-1) : ((((_cursor474)._left7)._right8)._height10))) {
                    /* rotate ((_cursor474)._left7)._right8 */
                    var _a476 = (_cursor474)._left7;
                    var _b477 = (_a476)._right8;
                    var _c478 = (_b477)._left7;
                    /* replace _a476 with _b477 in (_a476)._parent9 */
                    if (!(((_a476)._parent9) == null)) {
                        if ((((_a476)._parent9)._left7) == (_a476)) {
                            ((_a476)._parent9)._left7 = _b477;
                        } else {
                            ((_a476)._parent9)._right8 = _b477;
                        }
                    }
                    if (!((_b477) == null)) {
                        (_b477)._parent9 = (_a476)._parent9;
                    }
                    /* replace _c478 with _a476 in _b477 */
                    (_b477)._left7 = _a476;
                    if (!((_a476) == null)) {
                        (_a476)._parent9 = _b477;
                    }
                    /* replace _b477 with _c478 in _a476 */
                    (_a476)._right8 = _c478;
                    if (!((_c478) == null)) {
                        (_c478)._parent9 = _a476;
                    }
                    /* _min_ax12 is min of ax1 */
                    var _augval479 = (_a476).ax1;
                    var _child480 = (_a476)._left7;
                    if (!((_child480) == null)) {
                        var _val481 = (_child480)._min_ax12;
                        _augval479 = ((_augval479) < (_val481)) ? (_augval479) : (_val481);
                    }
                    var _child482 = (_a476)._right8;
                    if (!((_child482) == null)) {
                        var _val483 = (_child482)._min_ax12;
                        _augval479 = ((_augval479) < (_val483)) ? (_augval479) : (_val483);
                    }
                    (_a476)._min_ax12 = _augval479;
                    /* _min_ay13 is min of ay1 */
                    var _augval484 = (_a476).ay1;
                    var _child485 = (_a476)._left7;
                    if (!((_child485) == null)) {
                        var _val486 = (_child485)._min_ay13;
                        _augval484 = ((_augval484) < (_val486)) ? (_augval484) : (_val486);
                    }
                    var _child487 = (_a476)._right8;
                    if (!((_child487) == null)) {
                        var _val488 = (_child487)._min_ay13;
                        _augval484 = ((_augval484) < (_val488)) ? (_augval484) : (_val488);
                    }
                    (_a476)._min_ay13 = _augval484;
                    /* _max_ay24 is max of ay2 */
                    var _augval489 = (_a476).ay2;
                    var _child490 = (_a476)._left7;
                    if (!((_child490) == null)) {
                        var _val491 = (_child490)._max_ay24;
                        _augval489 = ((_augval489) < (_val491)) ? (_val491) : (_augval489);
                    }
                    var _child492 = (_a476)._right8;
                    if (!((_child492) == null)) {
                        var _val493 = (_child492)._max_ay24;
                        _augval489 = ((_augval489) < (_val493)) ? (_val493) : (_augval489);
                    }
                    (_a476)._max_ay24 = _augval489;
                    (_a476)._height10 = 1 + ((((((_a476)._left7) == null) ? (-1) : (((_a476)._left7)._height10)) > ((((_a476)._right8) == null) ? (-1) : (((_a476)._right8)._height10))) ? ((((_a476)._left7) == null) ? (-1) : (((_a476)._left7)._height10)) : ((((_a476)._right8) == null) ? (-1) : (((_a476)._right8)._height10)));
                    /* _min_ax12 is min of ax1 */
                    var _augval494 = (_b477).ax1;
                    var _child495 = (_b477)._left7;
                    if (!((_child495) == null)) {
                        var _val496 = (_child495)._min_ax12;
                        _augval494 = ((_augval494) < (_val496)) ? (_augval494) : (_val496);
                    }
                    var _child497 = (_b477)._right8;
                    if (!((_child497) == null)) {
                        var _val498 = (_child497)._min_ax12;
                        _augval494 = ((_augval494) < (_val498)) ? (_augval494) : (_val498);
                    }
                    (_b477)._min_ax12 = _augval494;
                    /* _min_ay13 is min of ay1 */
                    var _augval499 = (_b477).ay1;
                    var _child500 = (_b477)._left7;
                    if (!((_child500) == null)) {
                        var _val501 = (_child500)._min_ay13;
                        _augval499 = ((_augval499) < (_val501)) ? (_augval499) : (_val501);
                    }
                    var _child502 = (_b477)._right8;
                    if (!((_child502) == null)) {
                        var _val503 = (_child502)._min_ay13;
                        _augval499 = ((_augval499) < (_val503)) ? (_augval499) : (_val503);
                    }
                    (_b477)._min_ay13 = _augval499;
                    /* _max_ay24 is max of ay2 */
                    var _augval504 = (_b477).ay2;
                    var _child505 = (_b477)._left7;
                    if (!((_child505) == null)) {
                        var _val506 = (_child505)._max_ay24;
                        _augval504 = ((_augval504) < (_val506)) ? (_val506) : (_augval504);
                    }
                    var _child507 = (_b477)._right8;
                    if (!((_child507) == null)) {
                        var _val508 = (_child507)._max_ay24;
                        _augval504 = ((_augval504) < (_val508)) ? (_val508) : (_augval504);
                    }
                    (_b477)._max_ay24 = _augval504;
                    (_b477)._height10 = 1 + ((((((_b477)._left7) == null) ? (-1) : (((_b477)._left7)._height10)) > ((((_b477)._right8) == null) ? (-1) : (((_b477)._right8)._height10))) ? ((((_b477)._left7) == null) ? (-1) : (((_b477)._left7)._height10)) : ((((_b477)._right8) == null) ? (-1) : (((_b477)._right8)._height10)));
                    if (!(((_b477)._parent9) == null)) {
                        /* _min_ax12 is min of ax1 */
                        var _augval509 = ((_b477)._parent9).ax1;
                        var _child510 = ((_b477)._parent9)._left7;
                        if (!((_child510) == null)) {
                            var _val511 = (_child510)._min_ax12;
                            _augval509 = ((_augval509) < (_val511)) ? (_augval509) : (_val511);
                        }
                        var _child512 = ((_b477)._parent9)._right8;
                        if (!((_child512) == null)) {
                            var _val513 = (_child512)._min_ax12;
                            _augval509 = ((_augval509) < (_val513)) ? (_augval509) : (_val513);
                        }
                        ((_b477)._parent9)._min_ax12 = _augval509;
                        /* _min_ay13 is min of ay1 */
                        var _augval514 = ((_b477)._parent9).ay1;
                        var _child515 = ((_b477)._parent9)._left7;
                        if (!((_child515) == null)) {
                            var _val516 = (_child515)._min_ay13;
                            _augval514 = ((_augval514) < (_val516)) ? (_augval514) : (_val516);
                        }
                        var _child517 = ((_b477)._parent9)._right8;
                        if (!((_child517) == null)) {
                            var _val518 = (_child517)._min_ay13;
                            _augval514 = ((_augval514) < (_val518)) ? (_augval514) : (_val518);
                        }
                        ((_b477)._parent9)._min_ay13 = _augval514;
                        /* _max_ay24 is max of ay2 */
                        var _augval519 = ((_b477)._parent9).ay2;
                        var _child520 = ((_b477)._parent9)._left7;
                        if (!((_child520) == null)) {
                            var _val521 = (_child520)._max_ay24;
                            _augval519 = ((_augval519) < (_val521)) ? (_val521) : (_augval519);
                        }
                        var _child522 = ((_b477)._parent9)._right8;
                        if (!((_child522) == null)) {
                            var _val523 = (_child522)._max_ay24;
                            _augval519 = ((_augval519) < (_val523)) ? (_val523) : (_augval519);
                        }
                        ((_b477)._parent9)._max_ay24 = _augval519;
                        ((_b477)._parent9)._height10 = 1 + (((((((_b477)._parent9)._left7) == null) ? (-1) : ((((_b477)._parent9)._left7)._height10)) > (((((_b477)._parent9)._right8) == null) ? (-1) : ((((_b477)._parent9)._right8)._height10))) ? (((((_b477)._parent9)._left7) == null) ? (-1) : ((((_b477)._parent9)._left7)._height10)) : (((((_b477)._parent9)._right8) == null) ? (-1) : ((((_b477)._parent9)._right8)._height10)));
                    } else {
                        (this)._root1 = _b477;
                    }
                }
                /* rotate (_cursor474)._left7 */
                var _a524 = _cursor474;
                var _b525 = (_a524)._left7;
                var _c526 = (_b525)._right8;
                /* replace _a524 with _b525 in (_a524)._parent9 */
                if (!(((_a524)._parent9) == null)) {
                    if ((((_a524)._parent9)._left7) == (_a524)) {
                        ((_a524)._parent9)._left7 = _b525;
                    } else {
                        ((_a524)._parent9)._right8 = _b525;
                    }
                }
                if (!((_b525) == null)) {
                    (_b525)._parent9 = (_a524)._parent9;
                }
                /* replace _c526 with _a524 in _b525 */
                (_b525)._right8 = _a524;
                if (!((_a524) == null)) {
                    (_a524)._parent9 = _b525;
                }
                /* replace _b525 with _c526 in _a524 */
                (_a524)._left7 = _c526;
                if (!((_c526) == null)) {
                    (_c526)._parent9 = _a524;
                }
                /* _min_ax12 is min of ax1 */
                var _augval527 = (_a524).ax1;
                var _child528 = (_a524)._left7;
                if (!((_child528) == null)) {
                    var _val529 = (_child528)._min_ax12;
                    _augval527 = ((_augval527) < (_val529)) ? (_augval527) : (_val529);
                }
                var _child530 = (_a524)._right8;
                if (!((_child530) == null)) {
                    var _val531 = (_child530)._min_ax12;
                    _augval527 = ((_augval527) < (_val531)) ? (_augval527) : (_val531);
                }
                (_a524)._min_ax12 = _augval527;
                /* _min_ay13 is min of ay1 */
                var _augval532 = (_a524).ay1;
                var _child533 = (_a524)._left7;
                if (!((_child533) == null)) {
                    var _val534 = (_child533)._min_ay13;
                    _augval532 = ((_augval532) < (_val534)) ? (_augval532) : (_val534);
                }
                var _child535 = (_a524)._right8;
                if (!((_child535) == null)) {
                    var _val536 = (_child535)._min_ay13;
                    _augval532 = ((_augval532) < (_val536)) ? (_augval532) : (_val536);
                }
                (_a524)._min_ay13 = _augval532;
                /* _max_ay24 is max of ay2 */
                var _augval537 = (_a524).ay2;
                var _child538 = (_a524)._left7;
                if (!((_child538) == null)) {
                    var _val539 = (_child538)._max_ay24;
                    _augval537 = ((_augval537) < (_val539)) ? (_val539) : (_augval537);
                }
                var _child540 = (_a524)._right8;
                if (!((_child540) == null)) {
                    var _val541 = (_child540)._max_ay24;
                    _augval537 = ((_augval537) < (_val541)) ? (_val541) : (_augval537);
                }
                (_a524)._max_ay24 = _augval537;
                (_a524)._height10 = 1 + ((((((_a524)._left7) == null) ? (-1) : (((_a524)._left7)._height10)) > ((((_a524)._right8) == null) ? (-1) : (((_a524)._right8)._height10))) ? ((((_a524)._left7) == null) ? (-1) : (((_a524)._left7)._height10)) : ((((_a524)._right8) == null) ? (-1) : (((_a524)._right8)._height10)));
                /* _min_ax12 is min of ax1 */
                var _augval542 = (_b525).ax1;
                var _child543 = (_b525)._left7;
                if (!((_child543) == null)) {
                    var _val544 = (_child543)._min_ax12;
                    _augval542 = ((_augval542) < (_val544)) ? (_augval542) : (_val544);
                }
                var _child545 = (_b525)._right8;
                if (!((_child545) == null)) {
                    var _val546 = (_child545)._min_ax12;
                    _augval542 = ((_augval542) < (_val546)) ? (_augval542) : (_val546);
                }
                (_b525)._min_ax12 = _augval542;
                /* _min_ay13 is min of ay1 */
                var _augval547 = (_b525).ay1;
                var _child548 = (_b525)._left7;
                if (!((_child548) == null)) {
                    var _val549 = (_child548)._min_ay13;
                    _augval547 = ((_augval547) < (_val549)) ? (_augval547) : (_val549);
                }
                var _child550 = (_b525)._right8;
                if (!((_child550) == null)) {
                    var _val551 = (_child550)._min_ay13;
                    _augval547 = ((_augval547) < (_val551)) ? (_augval547) : (_val551);
                }
                (_b525)._min_ay13 = _augval547;
                /* _max_ay24 is max of ay2 */
                var _augval552 = (_b525).ay2;
                var _child553 = (_b525)._left7;
                if (!((_child553) == null)) {
                    var _val554 = (_child553)._max_ay24;
                    _augval552 = ((_augval552) < (_val554)) ? (_val554) : (_augval552);
                }
                var _child555 = (_b525)._right8;
                if (!((_child555) == null)) {
                    var _val556 = (_child555)._max_ay24;
                    _augval552 = ((_augval552) < (_val556)) ? (_val556) : (_augval552);
                }
                (_b525)._max_ay24 = _augval552;
                (_b525)._height10 = 1 + ((((((_b525)._left7) == null) ? (-1) : (((_b525)._left7)._height10)) > ((((_b525)._right8) == null) ? (-1) : (((_b525)._right8)._height10))) ? ((((_b525)._left7) == null) ? (-1) : (((_b525)._left7)._height10)) : ((((_b525)._right8) == null) ? (-1) : (((_b525)._right8)._height10)));
                if (!(((_b525)._parent9) == null)) {
                    /* _min_ax12 is min of ax1 */
                    var _augval557 = ((_b525)._parent9).ax1;
                    var _child558 = ((_b525)._parent9)._left7;
                    if (!((_child558) == null)) {
                        var _val559 = (_child558)._min_ax12;
                        _augval557 = ((_augval557) < (_val559)) ? (_augval557) : (_val559);
                    }
                    var _child560 = ((_b525)._parent9)._right8;
                    if (!((_child560) == null)) {
                        var _val561 = (_child560)._min_ax12;
                        _augval557 = ((_augval557) < (_val561)) ? (_augval557) : (_val561);
                    }
                    ((_b525)._parent9)._min_ax12 = _augval557;
                    /* _min_ay13 is min of ay1 */
                    var _augval562 = ((_b525)._parent9).ay1;
                    var _child563 = ((_b525)._parent9)._left7;
                    if (!((_child563) == null)) {
                        var _val564 = (_child563)._min_ay13;
                        _augval562 = ((_augval562) < (_val564)) ? (_augval562) : (_val564);
                    }
                    var _child565 = ((_b525)._parent9)._right8;
                    if (!((_child565) == null)) {
                        var _val566 = (_child565)._min_ay13;
                        _augval562 = ((_augval562) < (_val566)) ? (_augval562) : (_val566);
                    }
                    ((_b525)._parent9)._min_ay13 = _augval562;
                    /* _max_ay24 is max of ay2 */
                    var _augval567 = ((_b525)._parent9).ay2;
                    var _child568 = ((_b525)._parent9)._left7;
                    if (!((_child568) == null)) {
                        var _val569 = (_child568)._max_ay24;
                        _augval567 = ((_augval567) < (_val569)) ? (_val569) : (_augval567);
                    }
                    var _child570 = ((_b525)._parent9)._right8;
                    if (!((_child570) == null)) {
                        var _val571 = (_child570)._max_ay24;
                        _augval567 = ((_augval567) < (_val571)) ? (_val571) : (_augval567);
                    }
                    ((_b525)._parent9)._max_ay24 = _augval567;
                    ((_b525)._parent9)._height10 = 1 + (((((((_b525)._parent9)._left7) == null) ? (-1) : ((((_b525)._parent9)._left7)._height10)) > (((((_b525)._parent9)._right8) == null) ? (-1) : ((((_b525)._parent9)._right8)._height10))) ? (((((_b525)._parent9)._left7) == null) ? (-1) : ((((_b525)._parent9)._left7)._height10)) : (((((_b525)._parent9)._right8) == null) ? (-1) : ((((_b525)._parent9)._right8)._height10)));
                } else {
                    (this)._root1 = _b525;
                }
                _cursor474 = (_cursor474)._parent9;
            } else if ((_imbalance475) < (-1)) {
                if ((((((_cursor474)._right8)._left7) == null) ? (-1) : ((((_cursor474)._right8)._left7)._height10)) > (((((_cursor474)._right8)._right8) == null) ? (-1) : ((((_cursor474)._right8)._right8)._height10))) {
                    /* rotate ((_cursor474)._right8)._left7 */
                    var _a572 = (_cursor474)._right8;
                    var _b573 = (_a572)._left7;
                    var _c574 = (_b573)._right8;
                    /* replace _a572 with _b573 in (_a572)._parent9 */
                    if (!(((_a572)._parent9) == null)) {
                        if ((((_a572)._parent9)._left7) == (_a572)) {
                            ((_a572)._parent9)._left7 = _b573;
                        } else {
                            ((_a572)._parent9)._right8 = _b573;
                        }
                    }
                    if (!((_b573) == null)) {
                        (_b573)._parent9 = (_a572)._parent9;
                    }
                    /* replace _c574 with _a572 in _b573 */
                    (_b573)._right8 = _a572;
                    if (!((_a572) == null)) {
                        (_a572)._parent9 = _b573;
                    }
                    /* replace _b573 with _c574 in _a572 */
                    (_a572)._left7 = _c574;
                    if (!((_c574) == null)) {
                        (_c574)._parent9 = _a572;
                    }
                    /* _min_ax12 is min of ax1 */
                    var _augval575 = (_a572).ax1;
                    var _child576 = (_a572)._left7;
                    if (!((_child576) == null)) {
                        var _val577 = (_child576)._min_ax12;
                        _augval575 = ((_augval575) < (_val577)) ? (_augval575) : (_val577);
                    }
                    var _child578 = (_a572)._right8;
                    if (!((_child578) == null)) {
                        var _val579 = (_child578)._min_ax12;
                        _augval575 = ((_augval575) < (_val579)) ? (_augval575) : (_val579);
                    }
                    (_a572)._min_ax12 = _augval575;
                    /* _min_ay13 is min of ay1 */
                    var _augval580 = (_a572).ay1;
                    var _child581 = (_a572)._left7;
                    if (!((_child581) == null)) {
                        var _val582 = (_child581)._min_ay13;
                        _augval580 = ((_augval580) < (_val582)) ? (_augval580) : (_val582);
                    }
                    var _child583 = (_a572)._right8;
                    if (!((_child583) == null)) {
                        var _val584 = (_child583)._min_ay13;
                        _augval580 = ((_augval580) < (_val584)) ? (_augval580) : (_val584);
                    }
                    (_a572)._min_ay13 = _augval580;
                    /* _max_ay24 is max of ay2 */
                    var _augval585 = (_a572).ay2;
                    var _child586 = (_a572)._left7;
                    if (!((_child586) == null)) {
                        var _val587 = (_child586)._max_ay24;
                        _augval585 = ((_augval585) < (_val587)) ? (_val587) : (_augval585);
                    }
                    var _child588 = (_a572)._right8;
                    if (!((_child588) == null)) {
                        var _val589 = (_child588)._max_ay24;
                        _augval585 = ((_augval585) < (_val589)) ? (_val589) : (_augval585);
                    }
                    (_a572)._max_ay24 = _augval585;
                    (_a572)._height10 = 1 + ((((((_a572)._left7) == null) ? (-1) : (((_a572)._left7)._height10)) > ((((_a572)._right8) == null) ? (-1) : (((_a572)._right8)._height10))) ? ((((_a572)._left7) == null) ? (-1) : (((_a572)._left7)._height10)) : ((((_a572)._right8) == null) ? (-1) : (((_a572)._right8)._height10)));
                    /* _min_ax12 is min of ax1 */
                    var _augval590 = (_b573).ax1;
                    var _child591 = (_b573)._left7;
                    if (!((_child591) == null)) {
                        var _val592 = (_child591)._min_ax12;
                        _augval590 = ((_augval590) < (_val592)) ? (_augval590) : (_val592);
                    }
                    var _child593 = (_b573)._right8;
                    if (!((_child593) == null)) {
                        var _val594 = (_child593)._min_ax12;
                        _augval590 = ((_augval590) < (_val594)) ? (_augval590) : (_val594);
                    }
                    (_b573)._min_ax12 = _augval590;
                    /* _min_ay13 is min of ay1 */
                    var _augval595 = (_b573).ay1;
                    var _child596 = (_b573)._left7;
                    if (!((_child596) == null)) {
                        var _val597 = (_child596)._min_ay13;
                        _augval595 = ((_augval595) < (_val597)) ? (_augval595) : (_val597);
                    }
                    var _child598 = (_b573)._right8;
                    if (!((_child598) == null)) {
                        var _val599 = (_child598)._min_ay13;
                        _augval595 = ((_augval595) < (_val599)) ? (_augval595) : (_val599);
                    }
                    (_b573)._min_ay13 = _augval595;
                    /* _max_ay24 is max of ay2 */
                    var _augval600 = (_b573).ay2;
                    var _child601 = (_b573)._left7;
                    if (!((_child601) == null)) {
                        var _val602 = (_child601)._max_ay24;
                        _augval600 = ((_augval600) < (_val602)) ? (_val602) : (_augval600);
                    }
                    var _child603 = (_b573)._right8;
                    if (!((_child603) == null)) {
                        var _val604 = (_child603)._max_ay24;
                        _augval600 = ((_augval600) < (_val604)) ? (_val604) : (_augval600);
                    }
                    (_b573)._max_ay24 = _augval600;
                    (_b573)._height10 = 1 + ((((((_b573)._left7) == null) ? (-1) : (((_b573)._left7)._height10)) > ((((_b573)._right8) == null) ? (-1) : (((_b573)._right8)._height10))) ? ((((_b573)._left7) == null) ? (-1) : (((_b573)._left7)._height10)) : ((((_b573)._right8) == null) ? (-1) : (((_b573)._right8)._height10)));
                    if (!(((_b573)._parent9) == null)) {
                        /* _min_ax12 is min of ax1 */
                        var _augval605 = ((_b573)._parent9).ax1;
                        var _child606 = ((_b573)._parent9)._left7;
                        if (!((_child606) == null)) {
                            var _val607 = (_child606)._min_ax12;
                            _augval605 = ((_augval605) < (_val607)) ? (_augval605) : (_val607);
                        }
                        var _child608 = ((_b573)._parent9)._right8;
                        if (!((_child608) == null)) {
                            var _val609 = (_child608)._min_ax12;
                            _augval605 = ((_augval605) < (_val609)) ? (_augval605) : (_val609);
                        }
                        ((_b573)._parent9)._min_ax12 = _augval605;
                        /* _min_ay13 is min of ay1 */
                        var _augval610 = ((_b573)._parent9).ay1;
                        var _child611 = ((_b573)._parent9)._left7;
                        if (!((_child611) == null)) {
                            var _val612 = (_child611)._min_ay13;
                            _augval610 = ((_augval610) < (_val612)) ? (_augval610) : (_val612);
                        }
                        var _child613 = ((_b573)._parent9)._right8;
                        if (!((_child613) == null)) {
                            var _val614 = (_child613)._min_ay13;
                            _augval610 = ((_augval610) < (_val614)) ? (_augval610) : (_val614);
                        }
                        ((_b573)._parent9)._min_ay13 = _augval610;
                        /* _max_ay24 is max of ay2 */
                        var _augval615 = ((_b573)._parent9).ay2;
                        var _child616 = ((_b573)._parent9)._left7;
                        if (!((_child616) == null)) {
                            var _val617 = (_child616)._max_ay24;
                            _augval615 = ((_augval615) < (_val617)) ? (_val617) : (_augval615);
                        }
                        var _child618 = ((_b573)._parent9)._right8;
                        if (!((_child618) == null)) {
                            var _val619 = (_child618)._max_ay24;
                            _augval615 = ((_augval615) < (_val619)) ? (_val619) : (_augval615);
                        }
                        ((_b573)._parent9)._max_ay24 = _augval615;
                        ((_b573)._parent9)._height10 = 1 + (((((((_b573)._parent9)._left7) == null) ? (-1) : ((((_b573)._parent9)._left7)._height10)) > (((((_b573)._parent9)._right8) == null) ? (-1) : ((((_b573)._parent9)._right8)._height10))) ? (((((_b573)._parent9)._left7) == null) ? (-1) : ((((_b573)._parent9)._left7)._height10)) : (((((_b573)._parent9)._right8) == null) ? (-1) : ((((_b573)._parent9)._right8)._height10)));
                    } else {
                        (this)._root1 = _b573;
                    }
                }
                /* rotate (_cursor474)._right8 */
                var _a620 = _cursor474;
                var _b621 = (_a620)._right8;
                var _c622 = (_b621)._left7;
                /* replace _a620 with _b621 in (_a620)._parent9 */
                if (!(((_a620)._parent9) == null)) {
                    if ((((_a620)._parent9)._left7) == (_a620)) {
                        ((_a620)._parent9)._left7 = _b621;
                    } else {
                        ((_a620)._parent9)._right8 = _b621;
                    }
                }
                if (!((_b621) == null)) {
                    (_b621)._parent9 = (_a620)._parent9;
                }
                /* replace _c622 with _a620 in _b621 */
                (_b621)._left7 = _a620;
                if (!((_a620) == null)) {
                    (_a620)._parent9 = _b621;
                }
                /* replace _b621 with _c622 in _a620 */
                (_a620)._right8 = _c622;
                if (!((_c622) == null)) {
                    (_c622)._parent9 = _a620;
                }
                /* _min_ax12 is min of ax1 */
                var _augval623 = (_a620).ax1;
                var _child624 = (_a620)._left7;
                if (!((_child624) == null)) {
                    var _val625 = (_child624)._min_ax12;
                    _augval623 = ((_augval623) < (_val625)) ? (_augval623) : (_val625);
                }
                var _child626 = (_a620)._right8;
                if (!((_child626) == null)) {
                    var _val627 = (_child626)._min_ax12;
                    _augval623 = ((_augval623) < (_val627)) ? (_augval623) : (_val627);
                }
                (_a620)._min_ax12 = _augval623;
                /* _min_ay13 is min of ay1 */
                var _augval628 = (_a620).ay1;
                var _child629 = (_a620)._left7;
                if (!((_child629) == null)) {
                    var _val630 = (_child629)._min_ay13;
                    _augval628 = ((_augval628) < (_val630)) ? (_augval628) : (_val630);
                }
                var _child631 = (_a620)._right8;
                if (!((_child631) == null)) {
                    var _val632 = (_child631)._min_ay13;
                    _augval628 = ((_augval628) < (_val632)) ? (_augval628) : (_val632);
                }
                (_a620)._min_ay13 = _augval628;
                /* _max_ay24 is max of ay2 */
                var _augval633 = (_a620).ay2;
                var _child634 = (_a620)._left7;
                if (!((_child634) == null)) {
                    var _val635 = (_child634)._max_ay24;
                    _augval633 = ((_augval633) < (_val635)) ? (_val635) : (_augval633);
                }
                var _child636 = (_a620)._right8;
                if (!((_child636) == null)) {
                    var _val637 = (_child636)._max_ay24;
                    _augval633 = ((_augval633) < (_val637)) ? (_val637) : (_augval633);
                }
                (_a620)._max_ay24 = _augval633;
                (_a620)._height10 = 1 + ((((((_a620)._left7) == null) ? (-1) : (((_a620)._left7)._height10)) > ((((_a620)._right8) == null) ? (-1) : (((_a620)._right8)._height10))) ? ((((_a620)._left7) == null) ? (-1) : (((_a620)._left7)._height10)) : ((((_a620)._right8) == null) ? (-1) : (((_a620)._right8)._height10)));
                /* _min_ax12 is min of ax1 */
                var _augval638 = (_b621).ax1;
                var _child639 = (_b621)._left7;
                if (!((_child639) == null)) {
                    var _val640 = (_child639)._min_ax12;
                    _augval638 = ((_augval638) < (_val640)) ? (_augval638) : (_val640);
                }
                var _child641 = (_b621)._right8;
                if (!((_child641) == null)) {
                    var _val642 = (_child641)._min_ax12;
                    _augval638 = ((_augval638) < (_val642)) ? (_augval638) : (_val642);
                }
                (_b621)._min_ax12 = _augval638;
                /* _min_ay13 is min of ay1 */
                var _augval643 = (_b621).ay1;
                var _child644 = (_b621)._left7;
                if (!((_child644) == null)) {
                    var _val645 = (_child644)._min_ay13;
                    _augval643 = ((_augval643) < (_val645)) ? (_augval643) : (_val645);
                }
                var _child646 = (_b621)._right8;
                if (!((_child646) == null)) {
                    var _val647 = (_child646)._min_ay13;
                    _augval643 = ((_augval643) < (_val647)) ? (_augval643) : (_val647);
                }
                (_b621)._min_ay13 = _augval643;
                /* _max_ay24 is max of ay2 */
                var _augval648 = (_b621).ay2;
                var _child649 = (_b621)._left7;
                if (!((_child649) == null)) {
                    var _val650 = (_child649)._max_ay24;
                    _augval648 = ((_augval648) < (_val650)) ? (_val650) : (_augval648);
                }
                var _child651 = (_b621)._right8;
                if (!((_child651) == null)) {
                    var _val652 = (_child651)._max_ay24;
                    _augval648 = ((_augval648) < (_val652)) ? (_val652) : (_augval648);
                }
                (_b621)._max_ay24 = _augval648;
                (_b621)._height10 = 1 + ((((((_b621)._left7) == null) ? (-1) : (((_b621)._left7)._height10)) > ((((_b621)._right8) == null) ? (-1) : (((_b621)._right8)._height10))) ? ((((_b621)._left7) == null) ? (-1) : (((_b621)._left7)._height10)) : ((((_b621)._right8) == null) ? (-1) : (((_b621)._right8)._height10)));
                if (!(((_b621)._parent9) == null)) {
                    /* _min_ax12 is min of ax1 */
                    var _augval653 = ((_b621)._parent9).ax1;
                    var _child654 = ((_b621)._parent9)._left7;
                    if (!((_child654) == null)) {
                        var _val655 = (_child654)._min_ax12;
                        _augval653 = ((_augval653) < (_val655)) ? (_augval653) : (_val655);
                    }
                    var _child656 = ((_b621)._parent9)._right8;
                    if (!((_child656) == null)) {
                        var _val657 = (_child656)._min_ax12;
                        _augval653 = ((_augval653) < (_val657)) ? (_augval653) : (_val657);
                    }
                    ((_b621)._parent9)._min_ax12 = _augval653;
                    /* _min_ay13 is min of ay1 */
                    var _augval658 = ((_b621)._parent9).ay1;
                    var _child659 = ((_b621)._parent9)._left7;
                    if (!((_child659) == null)) {
                        var _val660 = (_child659)._min_ay13;
                        _augval658 = ((_augval658) < (_val660)) ? (_augval658) : (_val660);
                    }
                    var _child661 = ((_b621)._parent9)._right8;
                    if (!((_child661) == null)) {
                        var _val662 = (_child661)._min_ay13;
                        _augval658 = ((_augval658) < (_val662)) ? (_augval658) : (_val662);
                    }
                    ((_b621)._parent9)._min_ay13 = _augval658;
                    /* _max_ay24 is max of ay2 */
                    var _augval663 = ((_b621)._parent9).ay2;
                    var _child664 = ((_b621)._parent9)._left7;
                    if (!((_child664) == null)) {
                        var _val665 = (_child664)._max_ay24;
                        _augval663 = ((_augval663) < (_val665)) ? (_val665) : (_augval663);
                    }
                    var _child666 = ((_b621)._parent9)._right8;
                    if (!((_child666) == null)) {
                        var _val667 = (_child666)._max_ay24;
                        _augval663 = ((_augval663) < (_val667)) ? (_val667) : (_augval663);
                    }
                    ((_b621)._parent9)._max_ay24 = _augval663;
                    ((_b621)._parent9)._height10 = 1 + (((((((_b621)._parent9)._left7) == null) ? (-1) : ((((_b621)._parent9)._left7)._height10)) > (((((_b621)._parent9)._right8) == null) ? (-1) : ((((_b621)._parent9)._right8)._height10))) ? (((((_b621)._parent9)._left7) == null) ? (-1) : ((((_b621)._parent9)._left7)._height10)) : (((((_b621)._parent9)._right8) == null) ? (-1) : ((((_b621)._parent9)._right8)._height10)));
                } else {
                    (this)._root1 = _b621;
                }
                _cursor474 = (_cursor474)._parent9;
            }
        }
        (__x).ax2 = new_val;
    }
}
RectangleHolder.prototype.updateAy2 = function (__x, new_val) {
    if ((__x).ay2 != new_val) {
        /* _max_ay24 is max of ay2 */
        var _augval668 = new_val;
        var _child669 = (__x)._left7;
        if (!((_child669) == null)) {
            var _val670 = (_child669)._max_ay24;
            _augval668 = ((_augval668) < (_val670)) ? (_val670) : (_augval668);
        }
        var _child671 = (__x)._right8;
        if (!((_child671) == null)) {
            var _val672 = (_child671)._max_ay24;
            _augval668 = ((_augval668) < (_val672)) ? (_val672) : (_augval668);
        }
        (__x)._max_ay24 = _augval668;
        var _cursor673 = (__x)._parent9;
        var _changed674 = true;
        while ((_changed674) && (!((_cursor673) == (null)))) {
            var _old__max_ay24675 = (_cursor673)._max_ay24;
            var _old_height676 = (_cursor673)._height10;
            /* _max_ay24 is max of ay2 */
            var _augval677 = (_cursor673).ay2;
            var _child678 = (_cursor673)._left7;
            if (!((_child678) == null)) {
                var _val679 = (_child678)._max_ay24;
                _augval677 = ((_augval677) < (_val679)) ? (_val679) : (_augval677);
            }
            var _child680 = (_cursor673)._right8;
            if (!((_child680) == null)) {
                var _val681 = (_child680)._max_ay24;
                _augval677 = ((_augval677) < (_val681)) ? (_val681) : (_augval677);
            }
            (_cursor673)._max_ay24 = _augval677;
            (_cursor673)._height10 = 1 + ((((((_cursor673)._left7) == null) ? (-1) : (((_cursor673)._left7)._height10)) > ((((_cursor673)._right8) == null) ? (-1) : (((_cursor673)._right8)._height10))) ? ((((_cursor673)._left7) == null) ? (-1) : (((_cursor673)._left7)._height10)) : ((((_cursor673)._right8) == null) ? (-1) : (((_cursor673)._right8)._height10)));
            _changed674 = false;
            _changed674 = (_changed674) || (!((_old__max_ay24675) == ((_cursor673)._max_ay24)));
            _changed674 = (_changed674) || (!((_old_height676) == ((_cursor673)._height10)));
            _cursor673 = (_cursor673)._parent9;
        }
        (__x).ay2 = new_val;
    }
}
RectangleHolder.prototype.update = function (__x, ax1, ay1, ax2, ay2) {
    var _parent682 = (__x)._parent9;
    var _left683 = (__x)._left7;
    var _right684 = (__x)._right8;
    var _new_x685;
    if (((_left683) == null) && ((_right684) == null)) {
        _new_x685 = null;
        /* replace __x with _new_x685 in _parent682 */
        if (!((_parent682) == null)) {
            if (((_parent682)._left7) == (__x)) {
                (_parent682)._left7 = _new_x685;
            } else {
                (_parent682)._right8 = _new_x685;
            }
        }
        if (!((_new_x685) == null)) {
            (_new_x685)._parent9 = _parent682;
        }
    } else if ((!((_left683) == null)) && ((_right684) == null)) {
        _new_x685 = _left683;
        /* replace __x with _new_x685 in _parent682 */
        if (!((_parent682) == null)) {
            if (((_parent682)._left7) == (__x)) {
                (_parent682)._left7 = _new_x685;
            } else {
                (_parent682)._right8 = _new_x685;
            }
        }
        if (!((_new_x685) == null)) {
            (_new_x685)._parent9 = _parent682;
        }
    } else if (((_left683) == null) && (!((_right684) == null))) {
        _new_x685 = _right684;
        /* replace __x with _new_x685 in _parent682 */
        if (!((_parent682) == null)) {
            if (((_parent682)._left7) == (__x)) {
                (_parent682)._left7 = _new_x685;
            } else {
                (_parent682)._right8 = _new_x685;
            }
        }
        if (!((_new_x685) == null)) {
            (_new_x685)._parent9 = _parent682;
        }
    } else {
        var _root686 = (__x)._right8;
        var _x687 = _root686;
        var _descend688 = true;
        var _from_left689 = true;
        while (true) {
            if ((_x687) == null) {
                _x687 = null;
                break;
            }
            if (_descend688) {
                /* too small? */
                if (false) {
                    if ((!(((_x687)._right8) == null)) && (true)) {
                        if ((_x687) == (_root686)) {
                            _root686 = (_x687)._right8;
                        }
                        _x687 = (_x687)._right8;
                    } else if ((_x687) == (_root686)) {
                        _x687 = null;
                        break;
                    } else {
                        _descend688 = false;
                        _from_left689 = (!(((_x687)._parent9) == null)) && ((_x687) == (((_x687)._parent9)._left7));
                        _x687 = (_x687)._parent9;
                    }
                } else if ((!(((_x687)._left7) == null)) && (true)) {
                    _x687 = (_x687)._left7;
                    /* too large? */
                } else if (false) {
                    if ((_x687) == (_root686)) {
                        _x687 = null;
                        break;
                    } else {
                        _descend688 = false;
                        _from_left689 = (!(((_x687)._parent9) == null)) && ((_x687) == (((_x687)._parent9)._left7));
                        _x687 = (_x687)._parent9;
                    }
                    /* node ok? */
                } else if (true) {
                    break;
                } else if ((_x687) == (_root686)) {
                    _root686 = (_x687)._right8;
                    _x687 = (_x687)._right8;
                } else {
                    if ((!(((_x687)._right8) == null)) && (true)) {
                        if ((_x687) == (_root686)) {
                            _root686 = (_x687)._right8;
                        }
                        _x687 = (_x687)._right8;
                    } else {
                        _descend688 = false;
                        _from_left689 = (!(((_x687)._parent9) == null)) && ((_x687) == (((_x687)._parent9)._left7));
                        _x687 = (_x687)._parent9;
                    }
                }
            } else if (_from_left689) {
                if (false) {
                    _x687 = null;
                    break;
                } else if (true) {
                    break;
                } else if ((!(((_x687)._right8) == null)) && (true)) {
                    _descend688 = true;
                    if ((_x687) == (_root686)) {
                        _root686 = (_x687)._right8;
                    }
                    _x687 = (_x687)._right8;
                } else if ((_x687) == (_root686)) {
                    _x687 = null;
                    break;
                } else {
                    _descend688 = false;
                    _from_left689 = (!(((_x687)._parent9) == null)) && ((_x687) == (((_x687)._parent9)._left7));
                    _x687 = (_x687)._parent9;
                }
            } else {
                if ((_x687) == (_root686)) {
                    _x687 = null;
                    break;
                } else {
                    _descend688 = false;
                    _from_left689 = (!(((_x687)._parent9) == null)) && ((_x687) == (((_x687)._parent9)._left7));
                    _x687 = (_x687)._parent9;
                }
            }
        }
        _new_x685 = _x687;
        var _mp690 = (_x687)._parent9;
        var _mr691 = (_x687)._right8;
        /* replace _x687 with _mr691 in _mp690 */
        if (!((_mp690) == null)) {
            if (((_mp690)._left7) == (_x687)) {
                (_mp690)._left7 = _mr691;
            } else {
                (_mp690)._right8 = _mr691;
            }
        }
        if (!((_mr691) == null)) {
            (_mr691)._parent9 = _mp690;
        }
        /* replace __x with _x687 in _parent682 */
        if (!((_parent682) == null)) {
            if (((_parent682)._left7) == (__x)) {
                (_parent682)._left7 = _x687;
            } else {
                (_parent682)._right8 = _x687;
            }
        }
        if (!((_x687) == null)) {
            (_x687)._parent9 = _parent682;
        }
        /* replace null with _left683 in _x687 */
        (_x687)._left7 = _left683;
        if (!((_left683) == null)) {
            (_left683)._parent9 = _x687;
        }
        /* replace _mr691 with (__x)._right8 in _x687 */
        (_x687)._right8 = (__x)._right8;
        if (!(((__x)._right8) == null)) {
            ((__x)._right8)._parent9 = _x687;
        }
        /* _min_ax12 is min of ax1 */
        var _augval692 = (_x687).ax1;
        var _child693 = (_x687)._left7;
        if (!((_child693) == null)) {
            var _val694 = (_child693)._min_ax12;
            _augval692 = ((_augval692) < (_val694)) ? (_augval692) : (_val694);
        }
        var _child695 = (_x687)._right8;
        if (!((_child695) == null)) {
            var _val696 = (_child695)._min_ax12;
            _augval692 = ((_augval692) < (_val696)) ? (_augval692) : (_val696);
        }
        (_x687)._min_ax12 = _augval692;
        /* _min_ay13 is min of ay1 */
        var _augval697 = (_x687).ay1;
        var _child698 = (_x687)._left7;
        if (!((_child698) == null)) {
            var _val699 = (_child698)._min_ay13;
            _augval697 = ((_augval697) < (_val699)) ? (_augval697) : (_val699);
        }
        var _child700 = (_x687)._right8;
        if (!((_child700) == null)) {
            var _val701 = (_child700)._min_ay13;
            _augval697 = ((_augval697) < (_val701)) ? (_augval697) : (_val701);
        }
        (_x687)._min_ay13 = _augval697;
        /* _max_ay24 is max of ay2 */
        var _augval702 = (_x687).ay2;
        var _child703 = (_x687)._left7;
        if (!((_child703) == null)) {
            var _val704 = (_child703)._max_ay24;
            _augval702 = ((_augval702) < (_val704)) ? (_val704) : (_augval702);
        }
        var _child705 = (_x687)._right8;
        if (!((_child705) == null)) {
            var _val706 = (_child705)._max_ay24;
            _augval702 = ((_augval702) < (_val706)) ? (_val706) : (_augval702);
        }
        (_x687)._max_ay24 = _augval702;
        (_x687)._height10 = 1 + ((((((_x687)._left7) == null) ? (-1) : (((_x687)._left7)._height10)) > ((((_x687)._right8) == null) ? (-1) : (((_x687)._right8)._height10))) ? ((((_x687)._left7) == null) ? (-1) : (((_x687)._left7)._height10)) : ((((_x687)._right8) == null) ? (-1) : (((_x687)._right8)._height10)));
        var _cursor707 = _mp690;
        var _changed708 = true;
        while ((_changed708) && (!((_cursor707) == (_parent682)))) {
            var _old__min_ax12709 = (_cursor707)._min_ax12;
            var _old__min_ay13710 = (_cursor707)._min_ay13;
            var _old__max_ay24711 = (_cursor707)._max_ay24;
            var _old_height712 = (_cursor707)._height10;
            /* _min_ax12 is min of ax1 */
            var _augval713 = (_cursor707).ax1;
            var _child714 = (_cursor707)._left7;
            if (!((_child714) == null)) {
                var _val715 = (_child714)._min_ax12;
                _augval713 = ((_augval713) < (_val715)) ? (_augval713) : (_val715);
            }
            var _child716 = (_cursor707)._right8;
            if (!((_child716) == null)) {
                var _val717 = (_child716)._min_ax12;
                _augval713 = ((_augval713) < (_val717)) ? (_augval713) : (_val717);
            }
            (_cursor707)._min_ax12 = _augval713;
            /* _min_ay13 is min of ay1 */
            var _augval718 = (_cursor707).ay1;
            var _child719 = (_cursor707)._left7;
            if (!((_child719) == null)) {
                var _val720 = (_child719)._min_ay13;
                _augval718 = ((_augval718) < (_val720)) ? (_augval718) : (_val720);
            }
            var _child721 = (_cursor707)._right8;
            if (!((_child721) == null)) {
                var _val722 = (_child721)._min_ay13;
                _augval718 = ((_augval718) < (_val722)) ? (_augval718) : (_val722);
            }
            (_cursor707)._min_ay13 = _augval718;
            /* _max_ay24 is max of ay2 */
            var _augval723 = (_cursor707).ay2;
            var _child724 = (_cursor707)._left7;
            if (!((_child724) == null)) {
                var _val725 = (_child724)._max_ay24;
                _augval723 = ((_augval723) < (_val725)) ? (_val725) : (_augval723);
            }
            var _child726 = (_cursor707)._right8;
            if (!((_child726) == null)) {
                var _val727 = (_child726)._max_ay24;
                _augval723 = ((_augval723) < (_val727)) ? (_val727) : (_augval723);
            }
            (_cursor707)._max_ay24 = _augval723;
            (_cursor707)._height10 = 1 + ((((((_cursor707)._left7) == null) ? (-1) : (((_cursor707)._left7)._height10)) > ((((_cursor707)._right8) == null) ? (-1) : (((_cursor707)._right8)._height10))) ? ((((_cursor707)._left7) == null) ? (-1) : (((_cursor707)._left7)._height10)) : ((((_cursor707)._right8) == null) ? (-1) : (((_cursor707)._right8)._height10)));
            _changed708 = false;
            _changed708 = (_changed708) || (!((_old__min_ax12709) == ((_cursor707)._min_ax12)));
            _changed708 = (_changed708) || (!((_old__min_ay13710) == ((_cursor707)._min_ay13)));
            _changed708 = (_changed708) || (!((_old__max_ay24711) == ((_cursor707)._max_ay24)));
            _changed708 = (_changed708) || (!((_old_height712) == ((_cursor707)._height10)));
            _cursor707 = (_cursor707)._parent9;
        }
    }
    var _cursor728 = _parent682;
    var _changed729 = true;
    while ((_changed729) && (!((_cursor728) == (null)))) {
        var _old__min_ax12730 = (_cursor728)._min_ax12;
        var _old__min_ay13731 = (_cursor728)._min_ay13;
        var _old__max_ay24732 = (_cursor728)._max_ay24;
        var _old_height733 = (_cursor728)._height10;
        /* _min_ax12 is min of ax1 */
        var _augval734 = (_cursor728).ax1;
        var _child735 = (_cursor728)._left7;
        if (!((_child735) == null)) {
            var _val736 = (_child735)._min_ax12;
            _augval734 = ((_augval734) < (_val736)) ? (_augval734) : (_val736);
        }
        var _child737 = (_cursor728)._right8;
        if (!((_child737) == null)) {
            var _val738 = (_child737)._min_ax12;
            _augval734 = ((_augval734) < (_val738)) ? (_augval734) : (_val738);
        }
        (_cursor728)._min_ax12 = _augval734;
        /* _min_ay13 is min of ay1 */
        var _augval739 = (_cursor728).ay1;
        var _child740 = (_cursor728)._left7;
        if (!((_child740) == null)) {
            var _val741 = (_child740)._min_ay13;
            _augval739 = ((_augval739) < (_val741)) ? (_augval739) : (_val741);
        }
        var _child742 = (_cursor728)._right8;
        if (!((_child742) == null)) {
            var _val743 = (_child742)._min_ay13;
            _augval739 = ((_augval739) < (_val743)) ? (_augval739) : (_val743);
        }
        (_cursor728)._min_ay13 = _augval739;
        /* _max_ay24 is max of ay2 */
        var _augval744 = (_cursor728).ay2;
        var _child745 = (_cursor728)._left7;
        if (!((_child745) == null)) {
            var _val746 = (_child745)._max_ay24;
            _augval744 = ((_augval744) < (_val746)) ? (_val746) : (_augval744);
        }
        var _child747 = (_cursor728)._right8;
        if (!((_child747) == null)) {
            var _val748 = (_child747)._max_ay24;
            _augval744 = ((_augval744) < (_val748)) ? (_val748) : (_augval744);
        }
        (_cursor728)._max_ay24 = _augval744;
        (_cursor728)._height10 = 1 + ((((((_cursor728)._left7) == null) ? (-1) : (((_cursor728)._left7)._height10)) > ((((_cursor728)._right8) == null) ? (-1) : (((_cursor728)._right8)._height10))) ? ((((_cursor728)._left7) == null) ? (-1) : (((_cursor728)._left7)._height10)) : ((((_cursor728)._right8) == null) ? (-1) : (((_cursor728)._right8)._height10)));
        _changed729 = false;
        _changed729 = (_changed729) || (!((_old__min_ax12730) == ((_cursor728)._min_ax12)));
        _changed729 = (_changed729) || (!((_old__min_ay13731) == ((_cursor728)._min_ay13)));
        _changed729 = (_changed729) || (!((_old__max_ay24732) == ((_cursor728)._max_ay24)));
        _changed729 = (_changed729) || (!((_old_height733) == ((_cursor728)._height10)));
        _cursor728 = (_cursor728)._parent9;
    }
    if (((this)._root1) == (__x)) {
        (this)._root1 = _new_x685;
    }
    (__x)._left7 = null;
    (__x)._right8 = null;
    (__x)._min_ax12 = (__x).ax1;
    (__x)._min_ay13 = (__x).ay1;
    (__x)._max_ay24 = (__x).ay2;
    (__x)._height10 = 0;
    var _previous749 = null;
    var _current750 = (this)._root1;
    var _is_left751 = false;
    while (!((_current750) == null)) {
        _previous749 = _current750;
        if ((ax2) < ((_current750).ax2)) {
            _current750 = (_current750)._left7;
            _is_left751 = true;
        } else {
            _current750 = (_current750)._right8;
            _is_left751 = false;
        }
    }
    if ((_previous749) == null) {
        (this)._root1 = __x;
    } else {
        (__x)._parent9 = _previous749;
        if (_is_left751) {
            (_previous749)._left7 = __x;
        } else {
            (_previous749)._right8 = __x;
        }
    }
    var _cursor752 = (__x)._parent9;
    var _changed753 = true;
    while ((_changed753) && (!((_cursor752) == (null)))) {
        var _old__min_ax12754 = (_cursor752)._min_ax12;
        var _old__min_ay13755 = (_cursor752)._min_ay13;
        var _old__max_ay24756 = (_cursor752)._max_ay24;
        var _old_height757 = (_cursor752)._height10;
        /* _min_ax12 is min of ax1 */
        var _augval758 = (_cursor752).ax1;
        var _child759 = (_cursor752)._left7;
        if (!((_child759) == null)) {
            var _val760 = (_child759)._min_ax12;
            _augval758 = ((_augval758) < (_val760)) ? (_augval758) : (_val760);
        }
        var _child761 = (_cursor752)._right8;
        if (!((_child761) == null)) {
            var _val762 = (_child761)._min_ax12;
            _augval758 = ((_augval758) < (_val762)) ? (_augval758) : (_val762);
        }
        (_cursor752)._min_ax12 = _augval758;
        /* _min_ay13 is min of ay1 */
        var _augval763 = (_cursor752).ay1;
        var _child764 = (_cursor752)._left7;
        if (!((_child764) == null)) {
            var _val765 = (_child764)._min_ay13;
            _augval763 = ((_augval763) < (_val765)) ? (_augval763) : (_val765);
        }
        var _child766 = (_cursor752)._right8;
        if (!((_child766) == null)) {
            var _val767 = (_child766)._min_ay13;
            _augval763 = ((_augval763) < (_val767)) ? (_augval763) : (_val767);
        }
        (_cursor752)._min_ay13 = _augval763;
        /* _max_ay24 is max of ay2 */
        var _augval768 = (_cursor752).ay2;
        var _child769 = (_cursor752)._left7;
        if (!((_child769) == null)) {
            var _val770 = (_child769)._max_ay24;
            _augval768 = ((_augval768) < (_val770)) ? (_val770) : (_augval768);
        }
        var _child771 = (_cursor752)._right8;
        if (!((_child771) == null)) {
            var _val772 = (_child771)._max_ay24;
            _augval768 = ((_augval768) < (_val772)) ? (_val772) : (_augval768);
        }
        (_cursor752)._max_ay24 = _augval768;
        (_cursor752)._height10 = 1 + ((((((_cursor752)._left7) == null) ? (-1) : (((_cursor752)._left7)._height10)) > ((((_cursor752)._right8) == null) ? (-1) : (((_cursor752)._right8)._height10))) ? ((((_cursor752)._left7) == null) ? (-1) : (((_cursor752)._left7)._height10)) : ((((_cursor752)._right8) == null) ? (-1) : (((_cursor752)._right8)._height10)));
        _changed753 = false;
        _changed753 = (_changed753) || (!((_old__min_ax12754) == ((_cursor752)._min_ax12)));
        _changed753 = (_changed753) || (!((_old__min_ay13755) == ((_cursor752)._min_ay13)));
        _changed753 = (_changed753) || (!((_old__max_ay24756) == ((_cursor752)._max_ay24)));
        _changed753 = (_changed753) || (!((_old_height757) == ((_cursor752)._height10)));
        _cursor752 = (_cursor752)._parent9;
    }
    /* rebalance AVL tree */
    var _cursor773 = __x;
    var _imbalance774;
    while (!(((_cursor773)._parent9) == null)) {
        _cursor773 = (_cursor773)._parent9;
        (_cursor773)._height10 = 1 + ((((((_cursor773)._left7) == null) ? (-1) : (((_cursor773)._left7)._height10)) > ((((_cursor773)._right8) == null) ? (-1) : (((_cursor773)._right8)._height10))) ? ((((_cursor773)._left7) == null) ? (-1) : (((_cursor773)._left7)._height10)) : ((((_cursor773)._right8) == null) ? (-1) : (((_cursor773)._right8)._height10)));
        _imbalance774 = ((((_cursor773)._left7) == null) ? (-1) : (((_cursor773)._left7)._height10)) - ((((_cursor773)._right8) == null) ? (-1) : (((_cursor773)._right8)._height10));
        if ((_imbalance774) > (1)) {
            if ((((((_cursor773)._left7)._left7) == null) ? (-1) : ((((_cursor773)._left7)._left7)._height10)) < (((((_cursor773)._left7)._right8) == null) ? (-1) : ((((_cursor773)._left7)._right8)._height10))) {
                /* rotate ((_cursor773)._left7)._right8 */
                var _a775 = (_cursor773)._left7;
                var _b776 = (_a775)._right8;
                var _c777 = (_b776)._left7;
                /* replace _a775 with _b776 in (_a775)._parent9 */
                if (!(((_a775)._parent9) == null)) {
                    if ((((_a775)._parent9)._left7) == (_a775)) {
                        ((_a775)._parent9)._left7 = _b776;
                    } else {
                        ((_a775)._parent9)._right8 = _b776;
                    }
                }
                if (!((_b776) == null)) {
                    (_b776)._parent9 = (_a775)._parent9;
                }
                /* replace _c777 with _a775 in _b776 */
                (_b776)._left7 = _a775;
                if (!((_a775) == null)) {
                    (_a775)._parent9 = _b776;
                }
                /* replace _b776 with _c777 in _a775 */
                (_a775)._right8 = _c777;
                if (!((_c777) == null)) {
                    (_c777)._parent9 = _a775;
                }
                /* _min_ax12 is min of ax1 */
                var _augval778 = (_a775).ax1;
                var _child779 = (_a775)._left7;
                if (!((_child779) == null)) {
                    var _val780 = (_child779)._min_ax12;
                    _augval778 = ((_augval778) < (_val780)) ? (_augval778) : (_val780);
                }
                var _child781 = (_a775)._right8;
                if (!((_child781) == null)) {
                    var _val782 = (_child781)._min_ax12;
                    _augval778 = ((_augval778) < (_val782)) ? (_augval778) : (_val782);
                }
                (_a775)._min_ax12 = _augval778;
                /* _min_ay13 is min of ay1 */
                var _augval783 = (_a775).ay1;
                var _child784 = (_a775)._left7;
                if (!((_child784) == null)) {
                    var _val785 = (_child784)._min_ay13;
                    _augval783 = ((_augval783) < (_val785)) ? (_augval783) : (_val785);
                }
                var _child786 = (_a775)._right8;
                if (!((_child786) == null)) {
                    var _val787 = (_child786)._min_ay13;
                    _augval783 = ((_augval783) < (_val787)) ? (_augval783) : (_val787);
                }
                (_a775)._min_ay13 = _augval783;
                /* _max_ay24 is max of ay2 */
                var _augval788 = (_a775).ay2;
                var _child789 = (_a775)._left7;
                if (!((_child789) == null)) {
                    var _val790 = (_child789)._max_ay24;
                    _augval788 = ((_augval788) < (_val790)) ? (_val790) : (_augval788);
                }
                var _child791 = (_a775)._right8;
                if (!((_child791) == null)) {
                    var _val792 = (_child791)._max_ay24;
                    _augval788 = ((_augval788) < (_val792)) ? (_val792) : (_augval788);
                }
                (_a775)._max_ay24 = _augval788;
                (_a775)._height10 = 1 + ((((((_a775)._left7) == null) ? (-1) : (((_a775)._left7)._height10)) > ((((_a775)._right8) == null) ? (-1) : (((_a775)._right8)._height10))) ? ((((_a775)._left7) == null) ? (-1) : (((_a775)._left7)._height10)) : ((((_a775)._right8) == null) ? (-1) : (((_a775)._right8)._height10)));
                /* _min_ax12 is min of ax1 */
                var _augval793 = (_b776).ax1;
                var _child794 = (_b776)._left7;
                if (!((_child794) == null)) {
                    var _val795 = (_child794)._min_ax12;
                    _augval793 = ((_augval793) < (_val795)) ? (_augval793) : (_val795);
                }
                var _child796 = (_b776)._right8;
                if (!((_child796) == null)) {
                    var _val797 = (_child796)._min_ax12;
                    _augval793 = ((_augval793) < (_val797)) ? (_augval793) : (_val797);
                }
                (_b776)._min_ax12 = _augval793;
                /* _min_ay13 is min of ay1 */
                var _augval798 = (_b776).ay1;
                var _child799 = (_b776)._left7;
                if (!((_child799) == null)) {
                    var _val800 = (_child799)._min_ay13;
                    _augval798 = ((_augval798) < (_val800)) ? (_augval798) : (_val800);
                }
                var _child801 = (_b776)._right8;
                if (!((_child801) == null)) {
                    var _val802 = (_child801)._min_ay13;
                    _augval798 = ((_augval798) < (_val802)) ? (_augval798) : (_val802);
                }
                (_b776)._min_ay13 = _augval798;
                /* _max_ay24 is max of ay2 */
                var _augval803 = (_b776).ay2;
                var _child804 = (_b776)._left7;
                if (!((_child804) == null)) {
                    var _val805 = (_child804)._max_ay24;
                    _augval803 = ((_augval803) < (_val805)) ? (_val805) : (_augval803);
                }
                var _child806 = (_b776)._right8;
                if (!((_child806) == null)) {
                    var _val807 = (_child806)._max_ay24;
                    _augval803 = ((_augval803) < (_val807)) ? (_val807) : (_augval803);
                }
                (_b776)._max_ay24 = _augval803;
                (_b776)._height10 = 1 + ((((((_b776)._left7) == null) ? (-1) : (((_b776)._left7)._height10)) > ((((_b776)._right8) == null) ? (-1) : (((_b776)._right8)._height10))) ? ((((_b776)._left7) == null) ? (-1) : (((_b776)._left7)._height10)) : ((((_b776)._right8) == null) ? (-1) : (((_b776)._right8)._height10)));
                if (!(((_b776)._parent9) == null)) {
                    /* _min_ax12 is min of ax1 */
                    var _augval808 = ((_b776)._parent9).ax1;
                    var _child809 = ((_b776)._parent9)._left7;
                    if (!((_child809) == null)) {
                        var _val810 = (_child809)._min_ax12;
                        _augval808 = ((_augval808) < (_val810)) ? (_augval808) : (_val810);
                    }
                    var _child811 = ((_b776)._parent9)._right8;
                    if (!((_child811) == null)) {
                        var _val812 = (_child811)._min_ax12;
                        _augval808 = ((_augval808) < (_val812)) ? (_augval808) : (_val812);
                    }
                    ((_b776)._parent9)._min_ax12 = _augval808;
                    /* _min_ay13 is min of ay1 */
                    var _augval813 = ((_b776)._parent9).ay1;
                    var _child814 = ((_b776)._parent9)._left7;
                    if (!((_child814) == null)) {
                        var _val815 = (_child814)._min_ay13;
                        _augval813 = ((_augval813) < (_val815)) ? (_augval813) : (_val815);
                    }
                    var _child816 = ((_b776)._parent9)._right8;
                    if (!((_child816) == null)) {
                        var _val817 = (_child816)._min_ay13;
                        _augval813 = ((_augval813) < (_val817)) ? (_augval813) : (_val817);
                    }
                    ((_b776)._parent9)._min_ay13 = _augval813;
                    /* _max_ay24 is max of ay2 */
                    var _augval818 = ((_b776)._parent9).ay2;
                    var _child819 = ((_b776)._parent9)._left7;
                    if (!((_child819) == null)) {
                        var _val820 = (_child819)._max_ay24;
                        _augval818 = ((_augval818) < (_val820)) ? (_val820) : (_augval818);
                    }
                    var _child821 = ((_b776)._parent9)._right8;
                    if (!((_child821) == null)) {
                        var _val822 = (_child821)._max_ay24;
                        _augval818 = ((_augval818) < (_val822)) ? (_val822) : (_augval818);
                    }
                    ((_b776)._parent9)._max_ay24 = _augval818;
                    ((_b776)._parent9)._height10 = 1 + (((((((_b776)._parent9)._left7) == null) ? (-1) : ((((_b776)._parent9)._left7)._height10)) > (((((_b776)._parent9)._right8) == null) ? (-1) : ((((_b776)._parent9)._right8)._height10))) ? (((((_b776)._parent9)._left7) == null) ? (-1) : ((((_b776)._parent9)._left7)._height10)) : (((((_b776)._parent9)._right8) == null) ? (-1) : ((((_b776)._parent9)._right8)._height10)));
                } else {
                    (this)._root1 = _b776;
                }
            }
            /* rotate (_cursor773)._left7 */
            var _a823 = _cursor773;
            var _b824 = (_a823)._left7;
            var _c825 = (_b824)._right8;
            /* replace _a823 with _b824 in (_a823)._parent9 */
            if (!(((_a823)._parent9) == null)) {
                if ((((_a823)._parent9)._left7) == (_a823)) {
                    ((_a823)._parent9)._left7 = _b824;
                } else {
                    ((_a823)._parent9)._right8 = _b824;
                }
            }
            if (!((_b824) == null)) {
                (_b824)._parent9 = (_a823)._parent9;
            }
            /* replace _c825 with _a823 in _b824 */
            (_b824)._right8 = _a823;
            if (!((_a823) == null)) {
                (_a823)._parent9 = _b824;
            }
            /* replace _b824 with _c825 in _a823 */
            (_a823)._left7 = _c825;
            if (!((_c825) == null)) {
                (_c825)._parent9 = _a823;
            }
            /* _min_ax12 is min of ax1 */
            var _augval826 = (_a823).ax1;
            var _child827 = (_a823)._left7;
            if (!((_child827) == null)) {
                var _val828 = (_child827)._min_ax12;
                _augval826 = ((_augval826) < (_val828)) ? (_augval826) : (_val828);
            }
            var _child829 = (_a823)._right8;
            if (!((_child829) == null)) {
                var _val830 = (_child829)._min_ax12;
                _augval826 = ((_augval826) < (_val830)) ? (_augval826) : (_val830);
            }
            (_a823)._min_ax12 = _augval826;
            /* _min_ay13 is min of ay1 */
            var _augval831 = (_a823).ay1;
            var _child832 = (_a823)._left7;
            if (!((_child832) == null)) {
                var _val833 = (_child832)._min_ay13;
                _augval831 = ((_augval831) < (_val833)) ? (_augval831) : (_val833);
            }
            var _child834 = (_a823)._right8;
            if (!((_child834) == null)) {
                var _val835 = (_child834)._min_ay13;
                _augval831 = ((_augval831) < (_val835)) ? (_augval831) : (_val835);
            }
            (_a823)._min_ay13 = _augval831;
            /* _max_ay24 is max of ay2 */
            var _augval836 = (_a823).ay2;
            var _child837 = (_a823)._left7;
            if (!((_child837) == null)) {
                var _val838 = (_child837)._max_ay24;
                _augval836 = ((_augval836) < (_val838)) ? (_val838) : (_augval836);
            }
            var _child839 = (_a823)._right8;
            if (!((_child839) == null)) {
                var _val840 = (_child839)._max_ay24;
                _augval836 = ((_augval836) < (_val840)) ? (_val840) : (_augval836);
            }
            (_a823)._max_ay24 = _augval836;
            (_a823)._height10 = 1 + ((((((_a823)._left7) == null) ? (-1) : (((_a823)._left7)._height10)) > ((((_a823)._right8) == null) ? (-1) : (((_a823)._right8)._height10))) ? ((((_a823)._left7) == null) ? (-1) : (((_a823)._left7)._height10)) : ((((_a823)._right8) == null) ? (-1) : (((_a823)._right8)._height10)));
            /* _min_ax12 is min of ax1 */
            var _augval841 = (_b824).ax1;
            var _child842 = (_b824)._left7;
            if (!((_child842) == null)) {
                var _val843 = (_child842)._min_ax12;
                _augval841 = ((_augval841) < (_val843)) ? (_augval841) : (_val843);
            }
            var _child844 = (_b824)._right8;
            if (!((_child844) == null)) {
                var _val845 = (_child844)._min_ax12;
                _augval841 = ((_augval841) < (_val845)) ? (_augval841) : (_val845);
            }
            (_b824)._min_ax12 = _augval841;
            /* _min_ay13 is min of ay1 */
            var _augval846 = (_b824).ay1;
            var _child847 = (_b824)._left7;
            if (!((_child847) == null)) {
                var _val848 = (_child847)._min_ay13;
                _augval846 = ((_augval846) < (_val848)) ? (_augval846) : (_val848);
            }
            var _child849 = (_b824)._right8;
            if (!((_child849) == null)) {
                var _val850 = (_child849)._min_ay13;
                _augval846 = ((_augval846) < (_val850)) ? (_augval846) : (_val850);
            }
            (_b824)._min_ay13 = _augval846;
            /* _max_ay24 is max of ay2 */
            var _augval851 = (_b824).ay2;
            var _child852 = (_b824)._left7;
            if (!((_child852) == null)) {
                var _val853 = (_child852)._max_ay24;
                _augval851 = ((_augval851) < (_val853)) ? (_val853) : (_augval851);
            }
            var _child854 = (_b824)._right8;
            if (!((_child854) == null)) {
                var _val855 = (_child854)._max_ay24;
                _augval851 = ((_augval851) < (_val855)) ? (_val855) : (_augval851);
            }
            (_b824)._max_ay24 = _augval851;
            (_b824)._height10 = 1 + ((((((_b824)._left7) == null) ? (-1) : (((_b824)._left7)._height10)) > ((((_b824)._right8) == null) ? (-1) : (((_b824)._right8)._height10))) ? ((((_b824)._left7) == null) ? (-1) : (((_b824)._left7)._height10)) : ((((_b824)._right8) == null) ? (-1) : (((_b824)._right8)._height10)));
            if (!(((_b824)._parent9) == null)) {
                /* _min_ax12 is min of ax1 */
                var _augval856 = ((_b824)._parent9).ax1;
                var _child857 = ((_b824)._parent9)._left7;
                if (!((_child857) == null)) {
                    var _val858 = (_child857)._min_ax12;
                    _augval856 = ((_augval856) < (_val858)) ? (_augval856) : (_val858);
                }
                var _child859 = ((_b824)._parent9)._right8;
                if (!((_child859) == null)) {
                    var _val860 = (_child859)._min_ax12;
                    _augval856 = ((_augval856) < (_val860)) ? (_augval856) : (_val860);
                }
                ((_b824)._parent9)._min_ax12 = _augval856;
                /* _min_ay13 is min of ay1 */
                var _augval861 = ((_b824)._parent9).ay1;
                var _child862 = ((_b824)._parent9)._left7;
                if (!((_child862) == null)) {
                    var _val863 = (_child862)._min_ay13;
                    _augval861 = ((_augval861) < (_val863)) ? (_augval861) : (_val863);
                }
                var _child864 = ((_b824)._parent9)._right8;
                if (!((_child864) == null)) {
                    var _val865 = (_child864)._min_ay13;
                    _augval861 = ((_augval861) < (_val865)) ? (_augval861) : (_val865);
                }
                ((_b824)._parent9)._min_ay13 = _augval861;
                /* _max_ay24 is max of ay2 */
                var _augval866 = ((_b824)._parent9).ay2;
                var _child867 = ((_b824)._parent9)._left7;
                if (!((_child867) == null)) {
                    var _val868 = (_child867)._max_ay24;
                    _augval866 = ((_augval866) < (_val868)) ? (_val868) : (_augval866);
                }
                var _child869 = ((_b824)._parent9)._right8;
                if (!((_child869) == null)) {
                    var _val870 = (_child869)._max_ay24;
                    _augval866 = ((_augval866) < (_val870)) ? (_val870) : (_augval866);
                }
                ((_b824)._parent9)._max_ay24 = _augval866;
                ((_b824)._parent9)._height10 = 1 + (((((((_b824)._parent9)._left7) == null) ? (-1) : ((((_b824)._parent9)._left7)._height10)) > (((((_b824)._parent9)._right8) == null) ? (-1) : ((((_b824)._parent9)._right8)._height10))) ? (((((_b824)._parent9)._left7) == null) ? (-1) : ((((_b824)._parent9)._left7)._height10)) : (((((_b824)._parent9)._right8) == null) ? (-1) : ((((_b824)._parent9)._right8)._height10)));
            } else {
                (this)._root1 = _b824;
            }
            _cursor773 = (_cursor773)._parent9;
        } else if ((_imbalance774) < (-1)) {
            if ((((((_cursor773)._right8)._left7) == null) ? (-1) : ((((_cursor773)._right8)._left7)._height10)) > (((((_cursor773)._right8)._right8) == null) ? (-1) : ((((_cursor773)._right8)._right8)._height10))) {
                /* rotate ((_cursor773)._right8)._left7 */
                var _a871 = (_cursor773)._right8;
                var _b872 = (_a871)._left7;
                var _c873 = (_b872)._right8;
                /* replace _a871 with _b872 in (_a871)._parent9 */
                if (!(((_a871)._parent9) == null)) {
                    if ((((_a871)._parent9)._left7) == (_a871)) {
                        ((_a871)._parent9)._left7 = _b872;
                    } else {
                        ((_a871)._parent9)._right8 = _b872;
                    }
                }
                if (!((_b872) == null)) {
                    (_b872)._parent9 = (_a871)._parent9;
                }
                /* replace _c873 with _a871 in _b872 */
                (_b872)._right8 = _a871;
                if (!((_a871) == null)) {
                    (_a871)._parent9 = _b872;
                }
                /* replace _b872 with _c873 in _a871 */
                (_a871)._left7 = _c873;
                if (!((_c873) == null)) {
                    (_c873)._parent9 = _a871;
                }
                /* _min_ax12 is min of ax1 */
                var _augval874 = (_a871).ax1;
                var _child875 = (_a871)._left7;
                if (!((_child875) == null)) {
                    var _val876 = (_child875)._min_ax12;
                    _augval874 = ((_augval874) < (_val876)) ? (_augval874) : (_val876);
                }
                var _child877 = (_a871)._right8;
                if (!((_child877) == null)) {
                    var _val878 = (_child877)._min_ax12;
                    _augval874 = ((_augval874) < (_val878)) ? (_augval874) : (_val878);
                }
                (_a871)._min_ax12 = _augval874;
                /* _min_ay13 is min of ay1 */
                var _augval879 = (_a871).ay1;
                var _child880 = (_a871)._left7;
                if (!((_child880) == null)) {
                    var _val881 = (_child880)._min_ay13;
                    _augval879 = ((_augval879) < (_val881)) ? (_augval879) : (_val881);
                }
                var _child882 = (_a871)._right8;
                if (!((_child882) == null)) {
                    var _val883 = (_child882)._min_ay13;
                    _augval879 = ((_augval879) < (_val883)) ? (_augval879) : (_val883);
                }
                (_a871)._min_ay13 = _augval879;
                /* _max_ay24 is max of ay2 */
                var _augval884 = (_a871).ay2;
                var _child885 = (_a871)._left7;
                if (!((_child885) == null)) {
                    var _val886 = (_child885)._max_ay24;
                    _augval884 = ((_augval884) < (_val886)) ? (_val886) : (_augval884);
                }
                var _child887 = (_a871)._right8;
                if (!((_child887) == null)) {
                    var _val888 = (_child887)._max_ay24;
                    _augval884 = ((_augval884) < (_val888)) ? (_val888) : (_augval884);
                }
                (_a871)._max_ay24 = _augval884;
                (_a871)._height10 = 1 + ((((((_a871)._left7) == null) ? (-1) : (((_a871)._left7)._height10)) > ((((_a871)._right8) == null) ? (-1) : (((_a871)._right8)._height10))) ? ((((_a871)._left7) == null) ? (-1) : (((_a871)._left7)._height10)) : ((((_a871)._right8) == null) ? (-1) : (((_a871)._right8)._height10)));
                /* _min_ax12 is min of ax1 */
                var _augval889 = (_b872).ax1;
                var _child890 = (_b872)._left7;
                if (!((_child890) == null)) {
                    var _val891 = (_child890)._min_ax12;
                    _augval889 = ((_augval889) < (_val891)) ? (_augval889) : (_val891);
                }
                var _child892 = (_b872)._right8;
                if (!((_child892) == null)) {
                    var _val893 = (_child892)._min_ax12;
                    _augval889 = ((_augval889) < (_val893)) ? (_augval889) : (_val893);
                }
                (_b872)._min_ax12 = _augval889;
                /* _min_ay13 is min of ay1 */
                var _augval894 = (_b872).ay1;
                var _child895 = (_b872)._left7;
                if (!((_child895) == null)) {
                    var _val896 = (_child895)._min_ay13;
                    _augval894 = ((_augval894) < (_val896)) ? (_augval894) : (_val896);
                }
                var _child897 = (_b872)._right8;
                if (!((_child897) == null)) {
                    var _val898 = (_child897)._min_ay13;
                    _augval894 = ((_augval894) < (_val898)) ? (_augval894) : (_val898);
                }
                (_b872)._min_ay13 = _augval894;
                /* _max_ay24 is max of ay2 */
                var _augval899 = (_b872).ay2;
                var _child900 = (_b872)._left7;
                if (!((_child900) == null)) {
                    var _val901 = (_child900)._max_ay24;
                    _augval899 = ((_augval899) < (_val901)) ? (_val901) : (_augval899);
                }
                var _child902 = (_b872)._right8;
                if (!((_child902) == null)) {
                    var _val903 = (_child902)._max_ay24;
                    _augval899 = ((_augval899) < (_val903)) ? (_val903) : (_augval899);
                }
                (_b872)._max_ay24 = _augval899;
                (_b872)._height10 = 1 + ((((((_b872)._left7) == null) ? (-1) : (((_b872)._left7)._height10)) > ((((_b872)._right8) == null) ? (-1) : (((_b872)._right8)._height10))) ? ((((_b872)._left7) == null) ? (-1) : (((_b872)._left7)._height10)) : ((((_b872)._right8) == null) ? (-1) : (((_b872)._right8)._height10)));
                if (!(((_b872)._parent9) == null)) {
                    /* _min_ax12 is min of ax1 */
                    var _augval904 = ((_b872)._parent9).ax1;
                    var _child905 = ((_b872)._parent9)._left7;
                    if (!((_child905) == null)) {
                        var _val906 = (_child905)._min_ax12;
                        _augval904 = ((_augval904) < (_val906)) ? (_augval904) : (_val906);
                    }
                    var _child907 = ((_b872)._parent9)._right8;
                    if (!((_child907) == null)) {
                        var _val908 = (_child907)._min_ax12;
                        _augval904 = ((_augval904) < (_val908)) ? (_augval904) : (_val908);
                    }
                    ((_b872)._parent9)._min_ax12 = _augval904;
                    /* _min_ay13 is min of ay1 */
                    var _augval909 = ((_b872)._parent9).ay1;
                    var _child910 = ((_b872)._parent9)._left7;
                    if (!((_child910) == null)) {
                        var _val911 = (_child910)._min_ay13;
                        _augval909 = ((_augval909) < (_val911)) ? (_augval909) : (_val911);
                    }
                    var _child912 = ((_b872)._parent9)._right8;
                    if (!((_child912) == null)) {
                        var _val913 = (_child912)._min_ay13;
                        _augval909 = ((_augval909) < (_val913)) ? (_augval909) : (_val913);
                    }
                    ((_b872)._parent9)._min_ay13 = _augval909;
                    /* _max_ay24 is max of ay2 */
                    var _augval914 = ((_b872)._parent9).ay2;
                    var _child915 = ((_b872)._parent9)._left7;
                    if (!((_child915) == null)) {
                        var _val916 = (_child915)._max_ay24;
                        _augval914 = ((_augval914) < (_val916)) ? (_val916) : (_augval914);
                    }
                    var _child917 = ((_b872)._parent9)._right8;
                    if (!((_child917) == null)) {
                        var _val918 = (_child917)._max_ay24;
                        _augval914 = ((_augval914) < (_val918)) ? (_val918) : (_augval914);
                    }
                    ((_b872)._parent9)._max_ay24 = _augval914;
                    ((_b872)._parent9)._height10 = 1 + (((((((_b872)._parent9)._left7) == null) ? (-1) : ((((_b872)._parent9)._left7)._height10)) > (((((_b872)._parent9)._right8) == null) ? (-1) : ((((_b872)._parent9)._right8)._height10))) ? (((((_b872)._parent9)._left7) == null) ? (-1) : ((((_b872)._parent9)._left7)._height10)) : (((((_b872)._parent9)._right8) == null) ? (-1) : ((((_b872)._parent9)._right8)._height10)));
                } else {
                    (this)._root1 = _b872;
                }
            }
            /* rotate (_cursor773)._right8 */
            var _a919 = _cursor773;
            var _b920 = (_a919)._right8;
            var _c921 = (_b920)._left7;
            /* replace _a919 with _b920 in (_a919)._parent9 */
            if (!(((_a919)._parent9) == null)) {
                if ((((_a919)._parent9)._left7) == (_a919)) {
                    ((_a919)._parent9)._left7 = _b920;
                } else {
                    ((_a919)._parent9)._right8 = _b920;
                }
            }
            if (!((_b920) == null)) {
                (_b920)._parent9 = (_a919)._parent9;
            }
            /* replace _c921 with _a919 in _b920 */
            (_b920)._left7 = _a919;
            if (!((_a919) == null)) {
                (_a919)._parent9 = _b920;
            }
            /* replace _b920 with _c921 in _a919 */
            (_a919)._right8 = _c921;
            if (!((_c921) == null)) {
                (_c921)._parent9 = _a919;
            }
            /* _min_ax12 is min of ax1 */
            var _augval922 = (_a919).ax1;
            var _child923 = (_a919)._left7;
            if (!((_child923) == null)) {
                var _val924 = (_child923)._min_ax12;
                _augval922 = ((_augval922) < (_val924)) ? (_augval922) : (_val924);
            }
            var _child925 = (_a919)._right8;
            if (!((_child925) == null)) {
                var _val926 = (_child925)._min_ax12;
                _augval922 = ((_augval922) < (_val926)) ? (_augval922) : (_val926);
            }
            (_a919)._min_ax12 = _augval922;
            /* _min_ay13 is min of ay1 */
            var _augval927 = (_a919).ay1;
            var _child928 = (_a919)._left7;
            if (!((_child928) == null)) {
                var _val929 = (_child928)._min_ay13;
                _augval927 = ((_augval927) < (_val929)) ? (_augval927) : (_val929);
            }
            var _child930 = (_a919)._right8;
            if (!((_child930) == null)) {
                var _val931 = (_child930)._min_ay13;
                _augval927 = ((_augval927) < (_val931)) ? (_augval927) : (_val931);
            }
            (_a919)._min_ay13 = _augval927;
            /* _max_ay24 is max of ay2 */
            var _augval932 = (_a919).ay2;
            var _child933 = (_a919)._left7;
            if (!((_child933) == null)) {
                var _val934 = (_child933)._max_ay24;
                _augval932 = ((_augval932) < (_val934)) ? (_val934) : (_augval932);
            }
            var _child935 = (_a919)._right8;
            if (!((_child935) == null)) {
                var _val936 = (_child935)._max_ay24;
                _augval932 = ((_augval932) < (_val936)) ? (_val936) : (_augval932);
            }
            (_a919)._max_ay24 = _augval932;
            (_a919)._height10 = 1 + ((((((_a919)._left7) == null) ? (-1) : (((_a919)._left7)._height10)) > ((((_a919)._right8) == null) ? (-1) : (((_a919)._right8)._height10))) ? ((((_a919)._left7) == null) ? (-1) : (((_a919)._left7)._height10)) : ((((_a919)._right8) == null) ? (-1) : (((_a919)._right8)._height10)));
            /* _min_ax12 is min of ax1 */
            var _augval937 = (_b920).ax1;
            var _child938 = (_b920)._left7;
            if (!((_child938) == null)) {
                var _val939 = (_child938)._min_ax12;
                _augval937 = ((_augval937) < (_val939)) ? (_augval937) : (_val939);
            }
            var _child940 = (_b920)._right8;
            if (!((_child940) == null)) {
                var _val941 = (_child940)._min_ax12;
                _augval937 = ((_augval937) < (_val941)) ? (_augval937) : (_val941);
            }
            (_b920)._min_ax12 = _augval937;
            /* _min_ay13 is min of ay1 */
            var _augval942 = (_b920).ay1;
            var _child943 = (_b920)._left7;
            if (!((_child943) == null)) {
                var _val944 = (_child943)._min_ay13;
                _augval942 = ((_augval942) < (_val944)) ? (_augval942) : (_val944);
            }
            var _child945 = (_b920)._right8;
            if (!((_child945) == null)) {
                var _val946 = (_child945)._min_ay13;
                _augval942 = ((_augval942) < (_val946)) ? (_augval942) : (_val946);
            }
            (_b920)._min_ay13 = _augval942;
            /* _max_ay24 is max of ay2 */
            var _augval947 = (_b920).ay2;
            var _child948 = (_b920)._left7;
            if (!((_child948) == null)) {
                var _val949 = (_child948)._max_ay24;
                _augval947 = ((_augval947) < (_val949)) ? (_val949) : (_augval947);
            }
            var _child950 = (_b920)._right8;
            if (!((_child950) == null)) {
                var _val951 = (_child950)._max_ay24;
                _augval947 = ((_augval947) < (_val951)) ? (_val951) : (_augval947);
            }
            (_b920)._max_ay24 = _augval947;
            (_b920)._height10 = 1 + ((((((_b920)._left7) == null) ? (-1) : (((_b920)._left7)._height10)) > ((((_b920)._right8) == null) ? (-1) : (((_b920)._right8)._height10))) ? ((((_b920)._left7) == null) ? (-1) : (((_b920)._left7)._height10)) : ((((_b920)._right8) == null) ? (-1) : (((_b920)._right8)._height10)));
            if (!(((_b920)._parent9) == null)) {
                /* _min_ax12 is min of ax1 */
                var _augval952 = ((_b920)._parent9).ax1;
                var _child953 = ((_b920)._parent9)._left7;
                if (!((_child953) == null)) {
                    var _val954 = (_child953)._min_ax12;
                    _augval952 = ((_augval952) < (_val954)) ? (_augval952) : (_val954);
                }
                var _child955 = ((_b920)._parent9)._right8;
                if (!((_child955) == null)) {
                    var _val956 = (_child955)._min_ax12;
                    _augval952 = ((_augval952) < (_val956)) ? (_augval952) : (_val956);
                }
                ((_b920)._parent9)._min_ax12 = _augval952;
                /* _min_ay13 is min of ay1 */
                var _augval957 = ((_b920)._parent9).ay1;
                var _child958 = ((_b920)._parent9)._left7;
                if (!((_child958) == null)) {
                    var _val959 = (_child958)._min_ay13;
                    _augval957 = ((_augval957) < (_val959)) ? (_augval957) : (_val959);
                }
                var _child960 = ((_b920)._parent9)._right8;
                if (!((_child960) == null)) {
                    var _val961 = (_child960)._min_ay13;
                    _augval957 = ((_augval957) < (_val961)) ? (_augval957) : (_val961);
                }
                ((_b920)._parent9)._min_ay13 = _augval957;
                /* _max_ay24 is max of ay2 */
                var _augval962 = ((_b920)._parent9).ay2;
                var _child963 = ((_b920)._parent9)._left7;
                if (!((_child963) == null)) {
                    var _val964 = (_child963)._max_ay24;
                    _augval962 = ((_augval962) < (_val964)) ? (_val964) : (_augval962);
                }
                var _child965 = ((_b920)._parent9)._right8;
                if (!((_child965) == null)) {
                    var _val966 = (_child965)._max_ay24;
                    _augval962 = ((_augval962) < (_val966)) ? (_val966) : (_augval962);
                }
                ((_b920)._parent9)._max_ay24 = _augval962;
                ((_b920)._parent9)._height10 = 1 + (((((((_b920)._parent9)._left7) == null) ? (-1) : ((((_b920)._parent9)._left7)._height10)) > (((((_b920)._parent9)._right8) == null) ? (-1) : ((((_b920)._parent9)._right8)._height10))) ? (((((_b920)._parent9)._left7) == null) ? (-1) : ((((_b920)._parent9)._left7)._height10)) : (((((_b920)._parent9)._right8) == null) ? (-1) : ((((_b920)._parent9)._right8)._height10)));
            } else {
                (this)._root1 = _b920;
            }
            _cursor773 = (_cursor773)._parent9;
        }
    }
    (__x).ax1 = ax1;
    (__x).ay1 = ay1;
    (__x).ax2 = ax2;
    (__x).ay2 = ay2;
}
RectangleHolder.prototype.findMatchingRectangles = function (bx1, by1, bx2, by2, __callback) {
    var _root967 = (this)._root1;
    var _x968 = _root967;
    var _descend969 = true;
    var _from_left970 = true;
    while (true) {
        if ((_x968) == null) {
            _x968 = null;
            break;
        }
        if (_descend969) {
            /* too small? */
            if ((false) || (((_x968).ax2) <= (bx1))) {
                if ((!(((_x968)._right8) == null)) && ((((true) && ((((_x968)._right8)._min_ax12) < (bx2))) && ((((_x968)._right8)._min_ay13) < (by2))) && ((((_x968)._right8)._max_ay24) > (by1)))) {
                    if ((_x968) == (_root967)) {
                        _root967 = (_x968)._right8;
                    }
                    _x968 = (_x968)._right8;
                } else if ((_x968) == (_root967)) {
                    _x968 = null;
                    break;
                } else {
                    _descend969 = false;
                    _from_left970 = (!(((_x968)._parent9) == null)) && ((_x968) == (((_x968)._parent9)._left7));
                    _x968 = (_x968)._parent9;
                }
            } else if ((!(((_x968)._left7) == null)) && ((((true) && ((((_x968)._left7)._min_ax12) < (bx2))) && ((((_x968)._left7)._min_ay13) < (by2))) && ((((_x968)._left7)._max_ay24) > (by1)))) {
                _x968 = (_x968)._left7;
                /* too large? */
            } else if (false) {
                if ((_x968) == (_root967)) {
                    _x968 = null;
                    break;
                } else {
                    _descend969 = false;
                    _from_left970 = (!(((_x968)._parent9) == null)) && ((_x968) == (((_x968)._parent9)._left7));
                    _x968 = (_x968)._parent9;
                }
                /* node ok? */
            } else if ((((true) && (((_x968).ax1) < (bx2))) && (((_x968).ay1) < (by2))) && (((_x968).ay2) > (by1))) {
                break;
            } else if ((_x968) == (_root967)) {
                _root967 = (_x968)._right8;
                _x968 = (_x968)._right8;
            } else {
                if ((!(((_x968)._right8) == null)) && ((((true) && ((((_x968)._right8)._min_ax12) < (bx2))) && ((((_x968)._right8)._min_ay13) < (by2))) && ((((_x968)._right8)._max_ay24) > (by1)))) {
                    if ((_x968) == (_root967)) {
                        _root967 = (_x968)._right8;
                    }
                    _x968 = (_x968)._right8;
                } else {
                    _descend969 = false;
                    _from_left970 = (!(((_x968)._parent9) == null)) && ((_x968) == (((_x968)._parent9)._left7));
                    _x968 = (_x968)._parent9;
                }
            }
        } else if (_from_left970) {
            if (false) {
                _x968 = null;
                break;
            } else if ((((true) && (((_x968).ax1) < (bx2))) && (((_x968).ay1) < (by2))) && (((_x968).ay2) > (by1))) {
                break;
            } else if ((!(((_x968)._right8) == null)) && ((((true) && ((((_x968)._right8)._min_ax12) < (bx2))) && ((((_x968)._right8)._min_ay13) < (by2))) && ((((_x968)._right8)._max_ay24) > (by1)))) {
                _descend969 = true;
                if ((_x968) == (_root967)) {
                    _root967 = (_x968)._right8;
                }
                _x968 = (_x968)._right8;
            } else if ((_x968) == (_root967)) {
                _x968 = null;
                break;
            } else {
                _descend969 = false;
                _from_left970 = (!(((_x968)._parent9) == null)) && ((_x968) == (((_x968)._parent9)._left7));
                _x968 = (_x968)._parent9;
            }
        } else {
            if ((_x968) == (_root967)) {
                _x968 = null;
                break;
            } else {
                _descend969 = false;
                _from_left970 = (!(((_x968)._parent9) == null)) && ((_x968) == (((_x968)._parent9)._left7));
                _x968 = (_x968)._parent9;
            }
        }
    }
    var _prev_cursor5 = null;
    var _cursor6 = _x968;
    for (; ;) {
        if (!(!((_cursor6) == null))) break;
        var _name971 = _cursor6;
        /* ADVANCE */
        _prev_cursor5 = _cursor6;
        do {
            var _right_min972 = null;
            if ((!(((_cursor6)._right8) == null)) && ((((true) && ((((_cursor6)._right8)._min_ax12) < (bx2))) && ((((_cursor6)._right8)._min_ay13) < (by2))) && ((((_cursor6)._right8)._max_ay24) > (by1)))) {
                var _root973 = (_cursor6)._right8;
                var _x974 = _root973;
                var _descend975 = true;
                var _from_left976 = true;
                while (true) {
                    if ((_x974) == null) {
                        _x974 = null;
                        break;
                    }
                    if (_descend975) {
                        /* too small? */
                        if ((false) || (((_x974).ax2) <= (bx1))) {
                            if ((!(((_x974)._right8) == null)) && ((((true) && ((((_x974)._right8)._min_ax12) < (bx2))) && ((((_x974)._right8)._min_ay13) < (by2))) && ((((_x974)._right8)._max_ay24) > (by1)))) {
                                if ((_x974) == (_root973)) {
                                    _root973 = (_x974)._right8;
                                }
                                _x974 = (_x974)._right8;
                            } else if ((_x974) == (_root973)) {
                                _x974 = null;
                                break;
                            } else {
                                _descend975 = false;
                                _from_left976 = (!(((_x974)._parent9) == null)) && ((_x974) == (((_x974)._parent9)._left7));
                                _x974 = (_x974)._parent9;
                            }
                        } else if ((!(((_x974)._left7) == null)) && ((((true) && ((((_x974)._left7)._min_ax12) < (bx2))) && ((((_x974)._left7)._min_ay13) < (by2))) && ((((_x974)._left7)._max_ay24) > (by1)))) {
                            _x974 = (_x974)._left7;
                            /* too large? */
                        } else if (false) {
                            if ((_x974) == (_root973)) {
                                _x974 = null;
                                break;
                            } else {
                                _descend975 = false;
                                _from_left976 = (!(((_x974)._parent9) == null)) && ((_x974) == (((_x974)._parent9)._left7));
                                _x974 = (_x974)._parent9;
                            }
                            /* node ok? */
                        } else if ((((true) && (((_x974).ax1) < (bx2))) && (((_x974).ay1) < (by2))) && (((_x974).ay2) > (by1))) {
                            break;
                        } else if ((_x974) == (_root973)) {
                            _root973 = (_x974)._right8;
                            _x974 = (_x974)._right8;
                        } else {
                            if ((!(((_x974)._right8) == null)) && ((((true) && ((((_x974)._right8)._min_ax12) < (bx2))) && ((((_x974)._right8)._min_ay13) < (by2))) && ((((_x974)._right8)._max_ay24) > (by1)))) {
                                if ((_x974) == (_root973)) {
                                    _root973 = (_x974)._right8;
                                }
                                _x974 = (_x974)._right8;
                            } else {
                                _descend975 = false;
                                _from_left976 = (!(((_x974)._parent9) == null)) && ((_x974) == (((_x974)._parent9)._left7));
                                _x974 = (_x974)._parent9;
                            }
                        }
                    } else if (_from_left976) {
                        if (false) {
                            _x974 = null;
                            break;
                        } else if ((((true) && (((_x974).ax1) < (bx2))) && (((_x974).ay1) < (by2))) && (((_x974).ay2) > (by1))) {
                            break;
                        } else if ((!(((_x974)._right8) == null)) && ((((true) && ((((_x974)._right8)._min_ax12) < (bx2))) && ((((_x974)._right8)._min_ay13) < (by2))) && ((((_x974)._right8)._max_ay24) > (by1)))) {
                            _descend975 = true;
                            if ((_x974) == (_root973)) {
                                _root973 = (_x974)._right8;
                            }
                            _x974 = (_x974)._right8;
                        } else if ((_x974) == (_root973)) {
                            _x974 = null;
                            break;
                        } else {
                            _descend975 = false;
                            _from_left976 = (!(((_x974)._parent9) == null)) && ((_x974) == (((_x974)._parent9)._left7));
                            _x974 = (_x974)._parent9;
                        }
                    } else {
                        if ((_x974) == (_root973)) {
                            _x974 = null;
                            break;
                        } else {
                            _descend975 = false;
                            _from_left976 = (!(((_x974)._parent9) == null)) && ((_x974) == (((_x974)._parent9)._left7));
                            _x974 = (_x974)._parent9;
                        }
                    }
                }
                _right_min972 = _x974;
            }
            if (!((_right_min972) == null)) {
                _cursor6 = _right_min972;
                break;
            } else {
                while ((!(((_cursor6)._parent9) == null)) && ((_cursor6) == (((_cursor6)._parent9)._right8))) {
                    _cursor6 = (_cursor6)._parent9;
                }
                _cursor6 = (_cursor6)._parent9;
                if ((!((_cursor6) == null)) && (false)) {
                    _cursor6 = null;
                }
            }
        } while ((!((_cursor6) == null)) && (!((((true) && (((_cursor6).ax1) < (bx2))) && (((_cursor6).ay1) < (by2))) && (((_cursor6).ay2) > (by1)))));
        if (__callback(_name971)) {
            var _to_remove977 = _prev_cursor5;
            var _parent978 = (_to_remove977)._parent9;
            var _left979 = (_to_remove977)._left7;
            var _right980 = (_to_remove977)._right8;
            var _new_x981;
            if (((_left979) == null) && ((_right980) == null)) {
                _new_x981 = null;
                /* replace _to_remove977 with _new_x981 in _parent978 */
                if (!((_parent978) == null)) {
                    if (((_parent978)._left7) == (_to_remove977)) {
                        (_parent978)._left7 = _new_x981;
                    } else {
                        (_parent978)._right8 = _new_x981;
                    }
                }
                if (!((_new_x981) == null)) {
                    (_new_x981)._parent9 = _parent978;
                }
            } else if ((!((_left979) == null)) && ((_right980) == null)) {
                _new_x981 = _left979;
                /* replace _to_remove977 with _new_x981 in _parent978 */
                if (!((_parent978) == null)) {
                    if (((_parent978)._left7) == (_to_remove977)) {
                        (_parent978)._left7 = _new_x981;
                    } else {
                        (_parent978)._right8 = _new_x981;
                    }
                }
                if (!((_new_x981) == null)) {
                    (_new_x981)._parent9 = _parent978;
                }
            } else if (((_left979) == null) && (!((_right980) == null))) {
                _new_x981 = _right980;
                /* replace _to_remove977 with _new_x981 in _parent978 */
                if (!((_parent978) == null)) {
                    if (((_parent978)._left7) == (_to_remove977)) {
                        (_parent978)._left7 = _new_x981;
                    } else {
                        (_parent978)._right8 = _new_x981;
                    }
                }
                if (!((_new_x981) == null)) {
                    (_new_x981)._parent9 = _parent978;
                }
            } else {
                var _root982 = (_to_remove977)._right8;
                var _x983 = _root982;
                var _descend984 = true;
                var _from_left985 = true;
                while (true) {
                    if ((_x983) == null) {
                        _x983 = null;
                        break;
                    }
                    if (_descend984) {
                        /* too small? */
                        if (false) {
                            if ((!(((_x983)._right8) == null)) && (true)) {
                                if ((_x983) == (_root982)) {
                                    _root982 = (_x983)._right8;
                                }
                                _x983 = (_x983)._right8;
                            } else if ((_x983) == (_root982)) {
                                _x983 = null;
                                break;
                            } else {
                                _descend984 = false;
                                _from_left985 = (!(((_x983)._parent9) == null)) && ((_x983) == (((_x983)._parent9)._left7));
                                _x983 = (_x983)._parent9;
                            }
                        } else if ((!(((_x983)._left7) == null)) && (true)) {
                            _x983 = (_x983)._left7;
                            /* too large? */
                        } else if (false) {
                            if ((_x983) == (_root982)) {
                                _x983 = null;
                                break;
                            } else {
                                _descend984 = false;
                                _from_left985 = (!(((_x983)._parent9) == null)) && ((_x983) == (((_x983)._parent9)._left7));
                                _x983 = (_x983)._parent9;
                            }
                            /* node ok? */
                        } else if (true) {
                            break;
                        } else if ((_x983) == (_root982)) {
                            _root982 = (_x983)._right8;
                            _x983 = (_x983)._right8;
                        } else {
                            if ((!(((_x983)._right8) == null)) && (true)) {
                                if ((_x983) == (_root982)) {
                                    _root982 = (_x983)._right8;
                                }
                                _x983 = (_x983)._right8;
                            } else {
                                _descend984 = false;
                                _from_left985 = (!(((_x983)._parent9) == null)) && ((_x983) == (((_x983)._parent9)._left7));
                                _x983 = (_x983)._parent9;
                            }
                        }
                    } else if (_from_left985) {
                        if (false) {
                            _x983 = null;
                            break;
                        } else if (true) {
                            break;
                        } else if ((!(((_x983)._right8) == null)) && (true)) {
                            _descend984 = true;
                            if ((_x983) == (_root982)) {
                                _root982 = (_x983)._right8;
                            }
                            _x983 = (_x983)._right8;
                        } else if ((_x983) == (_root982)) {
                            _x983 = null;
                            break;
                        } else {
                            _descend984 = false;
                            _from_left985 = (!(((_x983)._parent9) == null)) && ((_x983) == (((_x983)._parent9)._left7));
                            _x983 = (_x983)._parent9;
                        }
                    } else {
                        if ((_x983) == (_root982)) {
                            _x983 = null;
                            break;
                        } else {
                            _descend984 = false;
                            _from_left985 = (!(((_x983)._parent9) == null)) && ((_x983) == (((_x983)._parent9)._left7));
                            _x983 = (_x983)._parent9;
                        }
                    }
                }
                _new_x981 = _x983;
                var _mp986 = (_x983)._parent9;
                var _mr987 = (_x983)._right8;
                /* replace _x983 with _mr987 in _mp986 */
                if (!((_mp986) == null)) {
                    if (((_mp986)._left7) == (_x983)) {
                        (_mp986)._left7 = _mr987;
                    } else {
                        (_mp986)._right8 = _mr987;
                    }
                }
                if (!((_mr987) == null)) {
                    (_mr987)._parent9 = _mp986;
                }
                /* replace _to_remove977 with _x983 in _parent978 */
                if (!((_parent978) == null)) {
                    if (((_parent978)._left7) == (_to_remove977)) {
                        (_parent978)._left7 = _x983;
                    } else {
                        (_parent978)._right8 = _x983;
                    }
                }
                if (!((_x983) == null)) {
                    (_x983)._parent9 = _parent978;
                }
                /* replace null with _left979 in _x983 */
                (_x983)._left7 = _left979;
                if (!((_left979) == null)) {
                    (_left979)._parent9 = _x983;
                }
                /* replace _mr987 with (_to_remove977)._right8 in _x983 */
                (_x983)._right8 = (_to_remove977)._right8;
                if (!(((_to_remove977)._right8) == null)) {
                    ((_to_remove977)._right8)._parent9 = _x983;
                }
                /* _min_ax12 is min of ax1 */
                var _augval988 = (_x983).ax1;
                var _child989 = (_x983)._left7;
                if (!((_child989) == null)) {
                    var _val990 = (_child989)._min_ax12;
                    _augval988 = ((_augval988) < (_val990)) ? (_augval988) : (_val990);
                }
                var _child991 = (_x983)._right8;
                if (!((_child991) == null)) {
                    var _val992 = (_child991)._min_ax12;
                    _augval988 = ((_augval988) < (_val992)) ? (_augval988) : (_val992);
                }
                (_x983)._min_ax12 = _augval988;
                /* _min_ay13 is min of ay1 */
                var _augval993 = (_x983).ay1;
                var _child994 = (_x983)._left7;
                if (!((_child994) == null)) {
                    var _val995 = (_child994)._min_ay13;
                    _augval993 = ((_augval993) < (_val995)) ? (_augval993) : (_val995);
                }
                var _child996 = (_x983)._right8;
                if (!((_child996) == null)) {
                    var _val997 = (_child996)._min_ay13;
                    _augval993 = ((_augval993) < (_val997)) ? (_augval993) : (_val997);
                }
                (_x983)._min_ay13 = _augval993;
                /* _max_ay24 is max of ay2 */
                var _augval998 = (_x983).ay2;
                var _child999 = (_x983)._left7;
                if (!((_child999) == null)) {
                    var _val1000 = (_child999)._max_ay24;
                    _augval998 = ((_augval998) < (_val1000)) ? (_val1000) : (_augval998);
                }
                var _child1001 = (_x983)._right8;
                if (!((_child1001) == null)) {
                    var _val1002 = (_child1001)._max_ay24;
                    _augval998 = ((_augval998) < (_val1002)) ? (_val1002) : (_augval998);
                }
                (_x983)._max_ay24 = _augval998;
                (_x983)._height10 = 1 + ((((((_x983)._left7) == null) ? (-1) : (((_x983)._left7)._height10)) > ((((_x983)._right8) == null) ? (-1) : (((_x983)._right8)._height10))) ? ((((_x983)._left7) == null) ? (-1) : (((_x983)._left7)._height10)) : ((((_x983)._right8) == null) ? (-1) : (((_x983)._right8)._height10)));
                var _cursor1003 = _mp986;
                var _changed1004 = true;
                while ((_changed1004) && (!((_cursor1003) == (_parent978)))) {
                    var _old__min_ax121005 = (_cursor1003)._min_ax12;
                    var _old__min_ay131006 = (_cursor1003)._min_ay13;
                    var _old__max_ay241007 = (_cursor1003)._max_ay24;
                    var _old_height1008 = (_cursor1003)._height10;
                    /* _min_ax12 is min of ax1 */
                    var _augval1009 = (_cursor1003).ax1;
                    var _child1010 = (_cursor1003)._left7;
                    if (!((_child1010) == null)) {
                        var _val1011 = (_child1010)._min_ax12;
                        _augval1009 = ((_augval1009) < (_val1011)) ? (_augval1009) : (_val1011);
                    }
                    var _child1012 = (_cursor1003)._right8;
                    if (!((_child1012) == null)) {
                        var _val1013 = (_child1012)._min_ax12;
                        _augval1009 = ((_augval1009) < (_val1013)) ? (_augval1009) : (_val1013);
                    }
                    (_cursor1003)._min_ax12 = _augval1009;
                    /* _min_ay13 is min of ay1 */
                    var _augval1014 = (_cursor1003).ay1;
                    var _child1015 = (_cursor1003)._left7;
                    if (!((_child1015) == null)) {
                        var _val1016 = (_child1015)._min_ay13;
                        _augval1014 = ((_augval1014) < (_val1016)) ? (_augval1014) : (_val1016);
                    }
                    var _child1017 = (_cursor1003)._right8;
                    if (!((_child1017) == null)) {
                        var _val1018 = (_child1017)._min_ay13;
                        _augval1014 = ((_augval1014) < (_val1018)) ? (_augval1014) : (_val1018);
                    }
                    (_cursor1003)._min_ay13 = _augval1014;
                    /* _max_ay24 is max of ay2 */
                    var _augval1019 = (_cursor1003).ay2;
                    var _child1020 = (_cursor1003)._left7;
                    if (!((_child1020) == null)) {
                        var _val1021 = (_child1020)._max_ay24;
                        _augval1019 = ((_augval1019) < (_val1021)) ? (_val1021) : (_augval1019);
                    }
                    var _child1022 = (_cursor1003)._right8;
                    if (!((_child1022) == null)) {
                        var _val1023 = (_child1022)._max_ay24;
                        _augval1019 = ((_augval1019) < (_val1023)) ? (_val1023) : (_augval1019);
                    }
                    (_cursor1003)._max_ay24 = _augval1019;
                    (_cursor1003)._height10 = 1 + ((((((_cursor1003)._left7) == null) ? (-1) : (((_cursor1003)._left7)._height10)) > ((((_cursor1003)._right8) == null) ? (-1) : (((_cursor1003)._right8)._height10))) ? ((((_cursor1003)._left7) == null) ? (-1) : (((_cursor1003)._left7)._height10)) : ((((_cursor1003)._right8) == null) ? (-1) : (((_cursor1003)._right8)._height10)));
                    _changed1004 = false;
                    _changed1004 = (_changed1004) || (!((_old__min_ax121005) == ((_cursor1003)._min_ax12)));
                    _changed1004 = (_changed1004) || (!((_old__min_ay131006) == ((_cursor1003)._min_ay13)));
                    _changed1004 = (_changed1004) || (!((_old__max_ay241007) == ((_cursor1003)._max_ay24)));
                    _changed1004 = (_changed1004) || (!((_old_height1008) == ((_cursor1003)._height10)));
                    _cursor1003 = (_cursor1003)._parent9;
                }
            }
            var _cursor1024 = _parent978;
            var _changed1025 = true;
            while ((_changed1025) && (!((_cursor1024) == (null)))) {
                var _old__min_ax121026 = (_cursor1024)._min_ax12;
                var _old__min_ay131027 = (_cursor1024)._min_ay13;
                var _old__max_ay241028 = (_cursor1024)._max_ay24;
                var _old_height1029 = (_cursor1024)._height10;
                /* _min_ax12 is min of ax1 */
                var _augval1030 = (_cursor1024).ax1;
                var _child1031 = (_cursor1024)._left7;
                if (!((_child1031) == null)) {
                    var _val1032 = (_child1031)._min_ax12;
                    _augval1030 = ((_augval1030) < (_val1032)) ? (_augval1030) : (_val1032);
                }
                var _child1033 = (_cursor1024)._right8;
                if (!((_child1033) == null)) {
                    var _val1034 = (_child1033)._min_ax12;
                    _augval1030 = ((_augval1030) < (_val1034)) ? (_augval1030) : (_val1034);
                }
                (_cursor1024)._min_ax12 = _augval1030;
                /* _min_ay13 is min of ay1 */
                var _augval1035 = (_cursor1024).ay1;
                var _child1036 = (_cursor1024)._left7;
                if (!((_child1036) == null)) {
                    var _val1037 = (_child1036)._min_ay13;
                    _augval1035 = ((_augval1035) < (_val1037)) ? (_augval1035) : (_val1037);
                }
                var _child1038 = (_cursor1024)._right8;
                if (!((_child1038) == null)) {
                    var _val1039 = (_child1038)._min_ay13;
                    _augval1035 = ((_augval1035) < (_val1039)) ? (_augval1035) : (_val1039);
                }
                (_cursor1024)._min_ay13 = _augval1035;
                /* _max_ay24 is max of ay2 */
                var _augval1040 = (_cursor1024).ay2;
                var _child1041 = (_cursor1024)._left7;
                if (!((_child1041) == null)) {
                    var _val1042 = (_child1041)._max_ay24;
                    _augval1040 = ((_augval1040) < (_val1042)) ? (_val1042) : (_augval1040);
                }
                var _child1043 = (_cursor1024)._right8;
                if (!((_child1043) == null)) {
                    var _val1044 = (_child1043)._max_ay24;
                    _augval1040 = ((_augval1040) < (_val1044)) ? (_val1044) : (_augval1040);
                }
                (_cursor1024)._max_ay24 = _augval1040;
                (_cursor1024)._height10 = 1 + ((((((_cursor1024)._left7) == null) ? (-1) : (((_cursor1024)._left7)._height10)) > ((((_cursor1024)._right8) == null) ? (-1) : (((_cursor1024)._right8)._height10))) ? ((((_cursor1024)._left7) == null) ? (-1) : (((_cursor1024)._left7)._height10)) : ((((_cursor1024)._right8) == null) ? (-1) : (((_cursor1024)._right8)._height10)));
                _changed1025 = false;
                _changed1025 = (_changed1025) || (!((_old__min_ax121026) == ((_cursor1024)._min_ax12)));
                _changed1025 = (_changed1025) || (!((_old__min_ay131027) == ((_cursor1024)._min_ay13)));
                _changed1025 = (_changed1025) || (!((_old__max_ay241028) == ((_cursor1024)._max_ay24)));
                _changed1025 = (_changed1025) || (!((_old_height1029) == ((_cursor1024)._height10)));
                _cursor1024 = (_cursor1024)._parent9;
            }
            if (((this)._root1) == (_to_remove977)) {
                (this)._root1 = _new_x981;
            }
            _prev_cursor5 = null;
        }
    };
}
; 
 
 function merge(ranges) { //via https://stackoverflow.com/questions/26390938/merge-arrays-with-overlapping-values
    var result = [], last;

    ranges.sort(function (a, b) {
        return a[0] - b[0] || a[1] - b[1]
    }).forEach(function (r) {
        if (!last || r[0] > last[1])
            result.push(last = r);
        else if (r[1] > last[1])
            last[1] = r[1];
    });

    return result;
}

buildViz = function (d3) {
    return function (widthInPixels = 1000,
                     heightInPixels = 600,
                     max_snippets = null,
                     color = null,
                     sortByDist = true,
                     useFullDoc = false,
                     greyZeroScores = false,
                     asianMode = false,
                     nonTextFeaturesMode = false,
                     showCharacteristic = true,
                     wordVecMaxPValue = false,
                     saveSvgButton = false,
                     reverseSortScoresForNotCategory = false,
                     minPVal = 0.1,
                     pValueColors = false,
                     xLabelText = null,
                     yLabelText = null,
                     fullData = null,
                     showTopTerms = true,
                     showNeutral = false,
                     getTooltipContent = null,
                     xAxisValues = null,
                     yAxisValues = null,
                     colorFunc = null,
                     showAxes = true,
                     showExtra = false,
                     doCensorPoints = true,
                     centerLabelsOverPoints = false,
                     xAxisLabels = null,
                     yAxisLabels = null,
                     topic_model_preview_size = 10,
                     verticalLines = null,
                     horizontal_line_y_position = null,
                     vertical_line_x_position = null,
                     unifiedContexts = false,
                     showCategoryHeadings = true,
                     showCrossAxes = true,
                     divName = 'd3-div-1',
                     alternativeTermFunc = null,
                     includeAllContexts = false,
                     showAxesAndCrossHairs = false,
                     x_axis_values_format = '.3f',
                     y_axis_values_format = '.3f',
                     matchFullLine = false,
                     maxOverlapping = -1,
                     showCorpusStats = true,
                     sortDocLabelsByName = false,
                     alwaysJump = true,
                     highlightSelectedCategory = false,
                     showDiagonal = false,
                     useGlobalScale = false,
                     enableTermCategoryDescription = true,
                     getCustomTermHtml = null,
                     headerNames = null,
                     headerSortingAlgos = null,
                     ignoreCategories = false,
                     backgroundLabels = null,
                     labelPriorityColumn = null,
                     textColorColumn = undefined,
                     suppressTextColumn = undefined,
                     backgroundColor = undefined,
                     censorPointColumn = undefined,
                     rightOrderColumn = undefined,
                     subwordEncoding = null,
                     topTermsLength = 14,
                     topTermsLeftBuffer = 0,
                     getColumnHeaderHTML = null,
                     termWord = 'Term',
                     showTermEtc = true,
                     sortContextsByMeta = false,
                     suppressCircles = true,
                     showChart = true,
    ) {
        function formatTermForDisplay(term) {
            if (subwordEncoding === 'RoBERTa' && (term.charCodeAt(0) === 288 || term.charCodeAt(0) === 289))
                term = '_' + term.substr(1, term.length - 1);
            return term;
        }

        //var divName = 'd3-div-1';
        // Set the dimensions of the canvas / graph
        var padding = {top: 30, right: 20, bottom: 30, left: 50};
        if (!showAxes) {
            padding = {top: 30, right: 20, bottom: 30, left: 50};
        }
        var margin = padding,
            width = widthInPixels - margin.left - margin.right,
            height = heightInPixels - margin.top - margin.bottom;
        fullData.data.forEach(function (x, i) {
            x.i = i
        });

        // Set the ranges
        var x = d3.scaleLinear().range([0, width]);
        var y = d3.scaleLinear().range([height, 0]);

        if (unifiedContexts) {
            document.querySelectorAll('#' + divName + '-' + 'notcol')
                .forEach(function (x) {
                    x.style.display = 'none'
                });
            document.querySelectorAll('.' + divName + '-' + 'contexts')
                .forEach(function (x) {
                    x.style.width = '90%'
                });
        } else if (showNeutral) {
            if (showExtra) {
                document.querySelectorAll('.' + divName + '-' + 'contexts')
                    .forEach(function (x) {
                        x.style.width = '25%'
                        x.style.float = 'left'
                    });

                ['notcol', 'neutcol', 'extracol'].forEach(function (columnName) {
                    document.querySelectorAll('#' + divName + '-' + columnName)
                        .forEach(function (x) {
                            x.style.display = 'inline'
                            x.style.float = 'left'
                            x.style.width = '25%'
                        });
                })

            } else {
                document.querySelectorAll('.' + divName + '-' + 'contexts')
                    .forEach(function (x) {
                        x.style.width = '33%'
                        x.style.float = 'left'
                    });

                ['notcol', 'neutcol'].forEach(function (columnName) {
                    document.querySelectorAll('#' + divName + '-' + columnName)
                        .forEach(function (x) {
                            x.style.display = 'inline'
                            x.style.float = 'left'
                            x.style.width = '33%'
                        });
                })


            }
        } else {
            document.querySelectorAll('.' + divName + '-' + 'contexts')
                .forEach(function (x) {
                    x.style.width = '45%'
                    //x.style.display = 'inline'
                    x.style.float = 'left'
                });

            ['notcol'].forEach(function (columnName) {
                document.querySelectorAll('#' + divName + '-' + columnName)
                    .forEach(function (x) {
                        //x.style.display = 'inline'
                        x.style.float = 'left'
                        x.style.width = '45%'
                    });
            })
        }

        var yAxis = null;
        var xAxis = null;

        function axisLabelerFactory(axis) {
            if ((axis == "x" && xLabelText == null)
                || (axis == "y" && yLabelText == null))
                return function (d, i) {
                    return ["Infrequent", "Average", "Frequent"][i];
                };

            return function (d, i) {
                return ["Low", "Medium", "High"][i];
            }
        }


        function bs(ar, x) {
            function bsa(s, e) {
                var mid = Math.floor((s + e) / 2);
                var midval = ar[mid];
                if (s == e) {
                    return s;
                }
                if (midval == x) {
                    return mid;
                } else if (midval < x) {
                    return bsa(mid + 1, e);
                } else {
                    return bsa(s, mid);
                }
            }

            return bsa(0, ar.length);
        }


        console.log("fullData");
        console.log(fullData);


        var sortedX = fullData.data.map(x => x).sort(function (a, b) {
            return a.x < b.x ? -1 : (a.x == b.x ? 0 : 1);
        }).map(function (x) {
            return x.x
        });

        var sortedOx = fullData.data.map(x => x).sort(function (a, b) {
            return a.ox < b.ox ? -1 : (a.ox == b.ox ? 0 : 1);
        }).map(function (x) {
            return x.ox
        });

        var sortedY = fullData.data.map(x => x).sort(function (a, b) {
            return a.y < b.y ? -1 : (a.y == b.y ? 0 : 1);
        }).map(function (x) {
            return x.y
        });

        var sortedOy = fullData.data.map(x => x).sort(function (a, b) {
            return a.oy < b.oy ? -1 : (a.oy == b.oy ? 0 : 1);
        }).map(function (x) {
            return x.oy
        });
        console.log(fullData.data[0])

        function labelWithZScore(axis, axisName, tickPoints, axis_values_format) {
            var myVals = axisName === 'x' ? sortedOx : sortedOy;
            var myPlotedVals = axisName === 'x' ? sortedX : sortedY;
            var ticks = tickPoints.map(function (x) {
                return myPlotedVals[bs(myVals, x)]
            });
            return axis.tickValues(ticks).tickFormat(
                function (d, i) {
                    return d3.format(axis_values_format)(tickPoints[i]);
                })
        }

        if (xAxisValues) {
            xAxis = labelWithZScore(d3.axisBottom(x), 'x', xAxisValues, x_axis_values_format);
        } else if (xAxisLabels) {
            xAxis = d3.axisBottom(x)
                .ticks(xAxisLabels.length)
                .tickFormat(function (d, i) {
                    return xAxisLabels[i];
                });
        } else {
            xAxis = d3.axisBottom(x).ticks(3).tickFormat(axisLabelerFactory('x'));
        }
        if (yAxisValues) {
            yAxis = labelWithZScore(d3.axisLeft(y), 'y', yAxisValues, y_axis_values_format);
        } else if (yAxisLabels) {
            yAxis = d3.axisLeft(y)
                .ticks(yAxisLabels.length)
                .tickFormat(function (d, i) {
                    return yAxisLabels[i];
                });
        } else {
            yAxis = d3.axisLeft(y).ticks(3).tickFormat(axisLabelerFactory('y'));
        }

        // var label = d3.select("body").append("div")
        var label = d3.select('#' + divName).append("div")
            .attr("class", "label");


        var interpolateLightGreys = d3.interpolate(d3.rgb(230, 230, 230),
            d3.rgb(130, 130, 130));
        // setup fill color
        if (color == null) {
            color = d3.interpolateRdYlBu;
        }
        if ((headerNames !== undefined && headerNames !== null)
            && (headerSortingAlgos !== undefined && headerSortingAlgos !== null)) {
            showTopTerms = true;
        }

        var pixelsToAddToWidth = 200;
        if (!showTopTerms && !showCharacteristic) {
            pixelsToAddToWidth = 0;
        }

        if (backgroundColor !== undefined) {
            document.body.style.backgroundColor = backgroundColor;
        }

        // Adds the svg canvas
        // var svg = d3.select("body")
        svg = d3.select('#' + divName)
            .append("svg")
            .attr("width", width + margin.left + margin.right + pixelsToAddToWidth)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform",
                "translate(" + margin.left + "," + margin.top + ")");


        origSVGLeft = svg.node().getBoundingClientRect().left;
        origSVGTop = svg.node().getBoundingClientRect().top;
        var lastCircleSelected = null;

        function getCorpusWordCounts() {
            var binaryLabels = fullData.docs.labels.map(function (label) {
                return 1 * (fullData.docs.categories[label] != fullData.info.category_internal_name);
            });
            var wordCounts = {}; // word -> [cat counts, not-cat-counts]
            var wordCountSums = [0, 0];
            fullData.docs.texts.forEach(function (text, i) {
                text.toLowerCase().trim().split(/\W+/).forEach(function (word) {
                    if (word.trim() !== '') {
                        if (!(word in wordCounts))
                            wordCounts[word] = [0, 0];
                        wordCounts[word][binaryLabels[i]]++;
                        wordCountSums[binaryLabels[i]]++;
                    }
                })
            });
            return {
                avgDocLen: (wordCountSums[0] + wordCountSums[1]) / fullData.docs.texts.length,
                counts: wordCounts,
                sums: wordCountSums,
                uniques: [[0, 0]].concat(Object.keys(wordCounts).map(function (key) {
                    return wordCounts[key];
                })).reduce(function (a, b) {
                    return [a[0] + (b[0] > 0), a[1] + (b[1] > 0)]
                })
            };
        }

        function getContextWordCounts(query) {
            var wordCounts = {};
            var wordCountSums = [0, 0];
            var priorCountSums = [0, 0];
            gatherTermContexts(termDict[query])
                .contexts
                .forEach(function (contextSet, categoryIdx) {
                    contextSet.forEach(function (context) {
                        context.snippets.forEach(function (snippet) {
                            var tokens = snippet.toLowerCase().trim().replace('<b>', '').replace('</b>', '').split(/\W+/);
                            var matchIndices = [];
                            tokens.forEach(function (word, i) {
                                if (word === query) matchIndices.push(i)
                            });
                            tokens.forEach(function (word, i) {
                                if (word.trim() !== '') {
                                    var isValid = false;
                                    for (var matchI in matchIndices) {
                                        if (Math.abs(i - matchI) < 3) {
                                            isValid = true;
                                            break
                                        }
                                    }
                                    if (isValid) {
                                        //console.log([word, i, matchI, isValid]);
                                        if (!(word in wordCounts)) {
                                            var priorCounts = corpusWordCounts.counts[word]
                                            wordCounts[word] = [0, 0].concat(priorCounts);
                                            priorCountSums[0] += priorCounts[0];
                                            priorCountSums[1] += priorCounts[1];
                                        }
                                        wordCounts[word][categoryIdx]++;
                                        wordCountSums[categoryIdx]++;
                                    }
                                }
                            })
                        })
                    })
                });
            return {
                counts: wordCounts,
                priorSums: priorCountSums,
                sums: wordCountSums,
                uniques: [[0, 0]].concat(Object.keys(wordCounts).map(function (key) {
                    return wordCounts[key];
                })).reduce(function (a, b) {
                    return [a[0] + (b[0] > 0), a[1] + (b[1] > 0)];
                })
            }

        }

        function denseRank(ar) {
            var markedAr = ar.map((x, i) => [x, i]).sort((a, b) => a[0] - b[0]);
            var curRank = 1
            var rankedAr = markedAr.map(
                function (x, i) {
                    if (i > 0 && x[0] != markedAr[i - 1][0]) {
                        curRank++;
                    }
                    return [curRank, x[0], x[1]];
                }
            )
            return rankedAr.map(x => x).sort((a, b) => (a[2] - b[2])).map(x => x[0]);
        }


        function getDenseRanks(fullData, categoryNum) {
            console.log("GETTING DENSE RANKS")
            console.log("CAT NUM " + categoryNum)
            console.log("CAT NAME " + fullData.docs.categories[categoryNum])
            console.log(fullData)

            var fgFreqs = Array(fullData.data.length).fill(0);
            var bgFreqs = Array(fullData.data.length).fill(0);
            var categoryTermCounts = fullData.termCounts[categoryNum];

            Object.keys(categoryTermCounts).forEach(
                key => fgFreqs[key] = categoryTermCounts[key][0]
            )
            fullData.termCounts.forEach(
                function (categoryTermCounts, otherCategoryNum) {
                    if (otherCategoryNum != categoryNum) {
                        Object.keys(categoryTermCounts).forEach(
                            key => bgFreqs[key] += categoryTermCounts[key][0]
                        )
                    }
                }
            )
            var fgDenseRanks = denseRank(fgFreqs);
            var bgDenseRanks = denseRank(bgFreqs);

            var maxfgDenseRanks = Math.max(...fgDenseRanks);
            var minfgDenseRanks = Math.min(...fgDenseRanks);
            var scalefgDenseRanks = fgDenseRanks.map(
                x => (x - minfgDenseRanks) / (maxfgDenseRanks - minfgDenseRanks)
            )

            var maxbgDenseRanks = Math.max(...bgDenseRanks);
            var minbgDenseRanks = Math.min(...bgDenseRanks);
            var scalebgDenseRanks = bgDenseRanks.map(
                x => (x - minbgDenseRanks) / (maxbgDenseRanks - minbgDenseRanks)
            )

            return {
                'fg': scalefgDenseRanks,
                'bg': scalebgDenseRanks,
                'bgFreqs': bgFreqs,
                'fgFreqs': fgFreqs,
                'term': fullData.data.sort((a, b) => a.i - b.i).map(x => x.term)
            }
        }

        function getCategoryDenseRankScores(fullData, categoryNum) {
            var denseRanks = getDenseRanks(fullData, categoryNum)
            return denseRanks.fg.map((x, i) => x - denseRanks.bg[i]);
        }

        function getTermCounts(fullData) {
            var counts = Array(fullData.data.length).fill(0);
            fullData.termCounts.forEach(
                function (categoryTermCounts) {
                    Object.keys(categoryTermCounts).forEach(
                        key => counts[key] = categoryTermCounts[key][0]
                    )
                }
            )
            return counts;
        }

        function getContextWordLORIPs(query) {
            var contextWordCounts = getContextWordCounts(query);
            var ni_k = contextWordCounts.sums[0];
            var nj_k = contextWordCounts.sums[1];
            var n = ni_k + nj_k;
            //var ai_k0 = contextWordCounts.priorSums[0] + contextWordCounts.priorSums[1];
            //var aj_k0 = contextWordCounts.priorSums[0] + contextWordCounts.priorSums[1];
            var a0 = 0.00001 //corpusWordCounts.avgDocLen;
            var a_k0 = Object.keys(contextWordCounts.counts)
                .map(function (x) {
                    var counts = contextWordCounts.counts[x];
                    return a0 * (counts[2] + counts[3]) /
                        (contextWordCounts.priorSums[0] + contextWordCounts.priorSums[1]);
                })
                .reduce(function (a, b) {
                    return a + b
                });
            var ai_k0 = a_k0 / ni_k;
            var aj_k0 = a_k0 / nj_k;
            var scores = Object.keys(contextWordCounts.counts).map(
                function (word) {
                    var countData = contextWordCounts.counts[word];
                    var yi = countData[0];
                    var yj = countData[1];
                    //var ai = countData[2];
                    //var aj = countData[3];
                    //var ai = countData[2] + countData[3];
                    //var aj = ai;
                    //var ai = (countData[2] + countData[3]) * a0/ni_k;
                    //var aj = (countData[2] + countData[3]) * a0/nj_k;
                    var ai = a0 * (countData[2] + countData[3]) /
                        (contextWordCounts.priorSums[0] + contextWordCounts.priorSums[1]);
                    var aj = ai;
                    var deltahat_i_j =
                        +Math.log((yi + ai) * 1. / (ni_k + ai_k0 - yi - ai))
                        - Math.log((yj + aj) * 1. / (nj_k + aj_k0 - yj - aj));
                    var var_deltahat_i_j = 1. / (yi + ai) + 1. / (ni_k + ai_k0 - yi - ai)
                        + 1. / (yj + aj) + 1. / (nj_k + aj_k0 - yj - aj);
                    var zeta_ij = deltahat_i_j / Math.sqrt(var_deltahat_i_j);
                    return [word, yi, yj, ai, aj, ai_k0, zeta_ij];
                }
            ).sort(function (a, b) {
                return b[5] - a[5];
            });
            return scores;
        }

        function getContextWordSFS(query) {
            // from https://stackoverflow.com/questions/14846767/std-normal-cdf-normal-cdf-or-error-function
            function cdf(x, mean, variance) {
                return 0.5 * (1 + erf((x - mean) / (Math.sqrt(2 * variance))));
            }

            function erf(x) {
                // save the sign of x
                var sign = (x >= 0) ? 1 : -1;
                x = Math.abs(x);

                // constants
                var a1 = 0.254829592;
                var a2 = -0.284496736;
                var a3 = 1.421413741;
                var a4 = -1.453152027;
                var a5 = 1.061405429;
                var p = 0.3275911;

                // A&S formula 7.1.26
                var t = 1.0 / (1.0 + p * x);
                var y = 1.0 - (((((a5 * t + a4) * t) + a3) * t + a2) * t + a1) * t * Math.exp(-x * x);
                return sign * y; // erf(-x) = -erf(x);
            }

            function scale(a) {
                return Math.log(a + 0.0000001);
            }

            var contextWordCounts = getContextWordCounts(query);
            var wordList = Object.keys(contextWordCounts.counts).map(function (word) {
                return contextWordCounts.counts[word].concat([word]);
            });
            var cat_freq_xbar = wordList.map(function (x) {
                return scale(x[0])
            }).reduce(function (a, b) {
                return a + b
            }) / wordList.length;
            var cat_freq_var = wordList.map(function (x) {
                return Math.pow((scale(x[0]) - cat_freq_xbar), 2);
            }).reduce(function (a, b) {
                return a + b
            }) / wordList.length;
            var cat_prec_xbar = wordList.map(function (x) {
                return scale(x[0] / (x[0] + x[1]));
            }).reduce(function (a, b) {
                return a + b
            }) / wordList.length;
            var cat_prec_var = wordList.map(function (x) {
                return Math.pow((scale(x[0] / (x[0] + x[1])) - cat_prec_xbar), 2);
            }).reduce(function (a, b) {
                return a + b
            }) / wordList.length;

            var ncat_freq_xbar = wordList.map(function (x) {
                return scale(x[0])
            }).reduce(function (a, b) {
                return a + b
            }) / wordList.length;
            var ncat_freq_var = wordList.map(function (x) {
                return Math.pow((scale(x[0]) - ncat_freq_xbar), 2);
            }).reduce(function (a, b) {
                return a + b
            }) / wordList.length;
            var ncat_prec_xbar = wordList.map(function (x) {
                return scale(x[0] / (x[0] + x[1]));
            }).reduce(function (a, b) {
                return a + b
            }) / wordList.length;
            var ncat_prec_var = wordList.map(function (x) {
                return Math.pow((scale(x[0] / (x[0] + x[1])) - ncat_prec_xbar), 2);
            }).reduce(function (a, b) {
                return a + b
            }) / wordList.length;

            function scaledFScore(cnt, other, freq_xbar, freq_var, prec_xbar, prec_var) {
                var beta = 1.5;
                var normFreq = cdf(scale(cnt), freq_xbar, freq_var);
                var normPrec = cdf(scale(cnt / (cnt + other)), prec_xbar, prec_var);
                return (1 + Math.pow(beta, 2)) * normFreq * normPrec / (Math.pow(beta, 2) * normFreq + normPrec);
            }

            var sfs = wordList.map(function (x) {
                cat_sfs = scaledFScore(x[0], x[1], cat_freq_xbar,
                    cat_freq_var, cat_prec_xbar, cat_prec_var);
                ncat_sfs = scaledFScore(x[1], x[0], ncat_freq_xbar,
                    ncat_freq_var, ncat_prec_xbar, ncat_prec_var);
                return [cat_sfs > ncat_sfs ? cat_sfs : -ncat_sfs].concat(x);

            }).sort(function (a, b) {
                return b[0] - a[0];
            });
            return sfs;
        }

        function deselectLastCircle() {
            if (lastCircleSelected) {
                lastCircleSelected.style["stroke"] = null;
                lastCircleSelected = null;
            }
        }

        function getSentenceBoundaries(text) {
            // !!! need to use spacy's sentence splitter
            if (asianMode) {
                var sentenceRe = /\n/gmi;
            } else {
                var sentenceRe = /\(?[^\.\?\!\n\b]+[\n\.!\?]\)?/g;
            }
            var offsets = [];
            var match;
            while ((match = sentenceRe.exec(text)) != null) {
                offsets.push(match.index);
            }
            offsets.push(text.length);
            return offsets;
        }

        function getMatchingSnippet(text, boundaries, start, end) {
            var sentenceStart = null;
            var sentenceEnd = null;
            for (var i in boundaries) {
                var position = boundaries[i];
                if (position <= start && (sentenceStart == null || position > sentenceStart)) {
                    sentenceStart = position;
                }
                if (position >= end) {
                    sentenceEnd = position;
                    break;
                }
            }
            var snippet = (text.slice(sentenceStart, start) + "<b>" + text.slice(start, end)
                + "</b>" + text.slice(end, sentenceEnd)).trim();
            if (sentenceStart == null) {
                sentenceStart = 0;
            }
            return {'snippet': snippet, 'sentenceStart': sentenceStart};
        }

        function gatherTermContexts(d, includeAll = true) {
            var category_name = fullData['info']['category_name'];
            var not_category_name = fullData['info']['not_category_name'];
            var matches = [[], [], [], []];

            if (fullData.docs === undefined) return matches;
            if (!nonTextFeaturesMode) {
                return searchInText(d, includeAll);
            } else {
                return searchInExtraFeatures(d, includeAll);
            }
        }

        function searchInExtraFeatures(d) {
            var matches = [[], [], [], []];
            var term = d.term;
            var categoryNum = fullData.docs.categories.indexOf(fullData.info.category_internal_name);
            var notCategoryNumList = fullData.docs.categories.map(function (x, i) {
                if (fullData.info.not_category_internal_names.indexOf(x) > -1) {
                    return i;
                } else {
                    return -1;
                }
            }).filter(function (x) {
                return x > -1
            });
            var neutralCategoryNumList = fullData.docs.categories.map(function (x, i) {
                if (fullData.info.neutral_category_internal_names.indexOf(x) > -1) {
                    return i;
                } else {
                    return -1;
                }
            }).filter(function (x) {
                return x > -1
            });
            var extraCategoryNumList = fullData.docs.categories.map(function (x, i) {
                if (fullData.info.extra_category_internal_names.indexOf(x) > -1) {
                    return i;
                } else {
                    return -1;
                }
            }).filter(function (x) {
                return x > -1
            });

            var pattern = null;
            if ('metalists' in fullData && term in fullData.metalists) {
                // from https://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex
                function escapeRegExp(str) {
                    return str.replace(/[\\?\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|\']/g, "\\$&");
                }

                console.log('term');
                console.log(term);
                pattern = new RegExp(
                    '(\\W|^)(' + fullData.metalists[term].map(escapeRegExp).join('|') + ')(\\W|$)',
                    'gim'
                );
            }
            for (var i in fullData.docs.extra) {
                if (term in fullData.docs.extra[i]) {
                    var strength = fullData.docs.extra[i][term] /
                        Object.values(fullData.docs.extra[i]).reduce(
                            function (a, b) {
                                return a + b
                            });

                    var docLabel = fullData.docs.labels[i];
                    var numericLabel = -1;
                    if (docLabel == categoryNum) {
                        numericLabel = 0;
                    } else if (notCategoryNumList.indexOf(docLabel) > -1) {
                        numericLabel = 1;
                    } else if (neutralCategoryNumList.indexOf(docLabel) > -1) {
                        numericLabel = 2;
                    } else if (extraCategoryNumList.indexOf(docLabel) > -1) {
                        numericLabel = 3;
                    }
                    if (numericLabel == -1) {
                        continue;
                    }
                    var text = fullData.docs.texts[i];

                    if (fullData.offsets !== undefined) {

                        if (fullData.offsets[term] !== undefined && fullData.offsets[term][i] !== undefined) {
                            let curMatch = {
                                'id': i,
                                'snippets': [],
                                'strength': strength,
                                'docLabel': docLabel,
                                'meta': fullData.docs.meta ? fullData.docs.meta[i] : ""
                            }

                            // remove duplicate offsets
                            // merge overlapping offsets
                            let offsets = merge(fullData.offsets[term][i]);

                            var snippetPadding = 100;
                            if(useFullDoc) {
                                snippetPadding = 100000000000000;
                            }

                            let offsetChunks = [];
                            let curChunk = [];
                            for (let j = 0; j < offsets.length; j++) {
                                //if (j > 0 && (offsets[j][0] - offsets[j - 1][1] >= snippetPadding)) {
                                if (j > 0 && (offsets[j][0] - curChunk[0][1] >= snippetPadding)) {
                                    offsetChunks.push(curChunk);
                                    curChunk = []
                                }
                                curChunk.push(offsets[j])
                            }
                            offsetChunks.push(curChunk);

                            console.log()
                            let highlightOpen = '<b style="background-color: lightgoldenrodyellow">';
                            let highlightClose = '</b>';

                            offsetChunks.map(
                                function (curOffsets) {
                                    if (curOffsets.length > 0) {
                                        let offsetStart = curOffsets[0][0]
                                        let offsetEnd = curOffsets[curOffsets.length - 1][1];
                                        let spanStart = Math.max(0, offsetStart - snippetPadding);
                                        let spanEnd = Math.min(offsetEnd + snippetPadding, text.length);
                                        let snippet = text.substr(spanStart, spanEnd - spanStart);
                                        console.log("Snippet")
                                        console.log(snippet)
                                        console.log("curOffsets")
                                        console.log(curOffsets)
                                        curOffsets.reverse().forEach(
                                            function (offset) {
                                                let curOffsetStart = offset[0] - spanStart;
                                                let curOffsetEnd = offset[1] - spanStart;

                                                snippet = (
                                                    snippet.substr(0, curOffsetStart)
                                                    + highlightOpen
                                                    + snippet.substr(curOffsetStart, curOffsetEnd - curOffsetStart)
                                                    + highlightClose
                                                    + snippet.substr(curOffsetEnd, snippet.length - curOffsetEnd)
                                                )
                                            }
                                        )

                                        if (spanStart > 0)
                                            snippet = '...' + snippet;
                                        if (snippetPadding < text.length - offsetEnd)
                                            snippet = snippet + '...'
                                        curMatch.snippets.push(snippet)
                                    }
                                }
                            )
                            matches[numericLabel].push(curMatch);

                        }
                    } else {

                        if (!useFullDoc)
                            text = text.slice(0, 300);
                        if (pattern !== null) {


                            text = text.replace(pattern, '<b>$&</b>');
                        }
                        let curMatch = {
                            'id': i,
                            'snippets': [text],
                            'strength': strength,
                            'docLabel': docLabel,
                            'meta': fullData.docs.meta ? fullData.docs.meta[i] : ""
                        }

                        matches[numericLabel].push(curMatch);
                    }
                }
            }
            for (var i in [0, 1]) {
                if(sortContextsByMeta) {
                    matches[i] = matches[i].sort(function (a, b) {
                        return a.meta < b.meta ? 1 : -1
                    })
                } else {
                    matches[i] = matches[i].sort(function (a, b) {
                        return a.strength < b.strength ? 1 : -1
                    })
                }
            }
            return {'contexts': matches, 'info': d};
        }

        // from https://mathiasbynens.be/notes/es-unicode-property-escapes#emoji
        var emojiRE = (/(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F/g);

        function isEmoji(str) {
            if (str.match(emojiRE)) return true;
            return false;
        }

        function displayObscuredTerms(obscuredTerms, data, term, termInfo, div = '#' + divName + '-' + 'overlapped-terms') {
            d3.select('#' + divName + '-' + 'overlapped-terms')
                .selectAll('div')
                .remove();
            d3.select(div)
                .selectAll('div')
                .remove();
            if (obscuredTerms.length > 1 && maxOverlapping !== 0) {
                var obscuredDiv = d3.select(div)
                    .append('div')
                    .attr("class", "obscured")
                    .style('align', 'center')
                    .style('text-align', 'center')
                    .html("<b>\"" + term + "\" obstructs</b>: ");
                obscuredTerms.map(
                    function (term, i) {
                        if (maxOverlapping === -1 || i < maxOverlapping) {
                            makeWordInteractive(
                                data,
                                svg,
                                obscuredDiv.append("text").text(term),
                                term,
                                data.filter(t => t.term === term)[0],//termInfo
                                false
                            );
                            if (i < obscuredTerms.length - 1
                                && (maxOverlapping === -1 || i < maxOverlapping - 1)) {
                                obscuredDiv.append("text").text(", ");
                            }
                        } else if (i === maxOverlapping && i !== obscuredTerms.length - 1) {
                            obscuredDiv.append("text").text("...");
                        }
                    }
                )
            }
        }

        function displayLineChart(termInfo, contexts) {
            var divid = "#" + divName + "-lineplot",
                margin = {top: 10, right: 30, bottom: 30, left: 80},
                width = parseInt(0.9*widthInPixels) - margin.left - margin.right,
                height = 200 - margin.top - margin.bottom;
            d3.select(divid).selectAll("*").remove();

            // append the svg object to the body of the page
            var basesvg = d3.select(divid)
              .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
             var linesvg = basesvg.append("g")
                .attr("transform",
                      "translate(" + margin.left + "," + margin.top + ")")

            var docLabelCounts = fullData.docs.labels.reduce(
                function (map, label) {
                    map[label] = (map[label] || 0) + 1;
                    return map;
                },
                Object.create(null)
            );
            var numMatches = Object.create(null);
            var allContexts = contexts[0].concat(contexts[1]).concat(contexts[2]).concat(contexts[3]);
            allContexts.forEach(function (singleDoc) {
               numMatches[singleDoc.docLabel] = (numMatches[singleDoc.docLabel] || 0) + 1;
            });
            var docLabelCountsSorted = Object.keys(docLabelCounts).map(key => ({
               "label": fullData.docs.categories[key],
               "labelNum": key,
               "matches": numMatches[key] || 0,
               "overall": docLabelCounts[key],
               'percent': (numMatches[key] || 0) * 100. / docLabelCounts[key]
               })
            ).sort(function (a, b) {
               return a['label'] < b['label'] ? -1 : a['label'] > b['label'] ? 1 : 0
            }).map((v, idx) => ({...v, idx: idx}));

            var chartData = d3.entries(docLabelCountsSorted);

            var chartx = d3.scaleLinear()
               .domain(d3.extent(docLabelCountsSorted, function(d) { return d.idx; }))
               .range([ 0, width ]);

            linesvg.append("g")
               .attr("transform", "translate(0," + height + ")")
               .call(d3.axisBottom(chartx)
                     .ticks(5)
                     .tickFormat(function(d,i) {return docLabelCountsSorted[d].label}));


            var charty = d3.scaleLinear()
                .domain([0, d3.max(docLabelCountsSorted, function(d) { return +d.percent; })])
                .range([ height, 0 ]);

            linesvg.append("g").call(d3.axisLeft(charty));

            linesvg.append("text")
                .attr("transform", "rotate(-90)")
                .attr("x", 0 - (height / 2))
                .attr("y", -40)
                .attr("dy", "1em")
                .style("text-anchor", "middle")
                .text("% documents");


            basesvg.
                on("pointerenter pointermove", function(d) {
                    var matrix = this.getScreenCTM()
                        .translate(+ this.getAttribute("cx"), + this.getAttribute("cy"));
                    var mousePosition = d3.mouse(this);
                    var clickedIndex = Math.round(chartx.invert(d3.mouse(this)[0] - margin.left));
                    var clickedInfo = docLabelCountsSorted[clickedIndex];
                    var clickedLabel = clickedInfo.label;
                    console.log(clickedInfo)
                    chartTooltip.transition().duration(0).style('opacity', 0);
                    chartTooltip.transition()
                        .duration(0)
                        .style("opacity", 1)
                        .style("z-index", 10000000)
                    var yChartPos = charty(clickedInfo.percent)
                    chartTooltip.html(
                        clickedLabel + '<br/>Matched docs: ' + clickedInfo.matches
                        + ' of ' + clickedInfo.overall + '<br/>' + parseFloat(clickedInfo.percent).toFixed(4) + "%"
                    ).style("left", (window.pageXOffset + matrix.e + mousePosition[0] - margin.left) + "px")
                     .style("top", (window.pageYOffset + matrix.f + yChartPos - 60) + "px")
                }).on('pointerleave', function () {
                    chartTooltip.transition().duration(0).style('opacity', 0)
                }).on("click", function(d, i) {
                    var mousePosition = d3.mouse(this);
                    var clickedIndex = Math.round(chartx.invert(mousePosition[0] - margin.left));
                    var clickedInfo = docLabelCountsSorted[clickedIndex];
                    var clickedLabel = clickedInfo.label;
                    console.log("clicked"); console.log(mousePosition);
                    console.log(clickedLabel);
                    console.log(clickedInfo);
                    window.location.hash = divId + 'egory' + clickedIndex;
                    chartTooltip.transition().duration(0).style('opacity', 0)
                })

            console.log(chartData)
            var valueline = d3.line()
                .x(function (d) {
                    return chartx(d.idx);
                })
                .y(function (d) {
                    return charty(d.percent);
                });

            linesvg.append("path")
                .attr("class", "line")
                //.style("stroke-dasharray", "5,5")
                //.style("stroke", "#cccccc")
                //.style("stroke-width", "1px")
                .attr("fill", "none")
                .attr("stroke", function(d){ return '#0000FF' })
                .attr("stroke-width", 1)
                .attr("d", valueline(docLabelCountsSorted.sort((a, b) => b.x - a.x)))
            var chartTooltip = d3.select('#' + divName)
                .append("div")
                .attr("class", "tooltipscore")
                .style("opacity", 0);

        }

        function displayTermContexts(data, termInfo, jump = alwaysJump, includeAll = false) {
            var contexts = termInfo.contexts;
            var info = termInfo.info;
            var notmatches = termInfo.notmatches;
            if (contexts[0].length + contexts[1].length + contexts[2].length + contexts[3].length == 0) {
                //return null;
            }
            //!!! Future feature: context words
            //var contextWords = getContextWordSFS(info.term);
            //var contextWords = getContextWordLORIPs(info.term);
            //var categoryNames = [fullData.info.category_name,
            //    fullData.info.not_category_name];
            var catInternalName = fullData.info.category_internal_name;


            function addSnippets(contexts, divId, isMatch = true) {
                var meta = contexts.meta ? contexts.meta : '&nbsp;';
                var headClass = 'snippet_meta docLabel' + contexts.docLabel;
                var snippetClass = 'snippet docLabel' + contexts.docLabel;
                if (!isMatch) {
                    headClass = 'snippet_meta not_match docLabel' + contexts.docLabel;
                    snippetClass = 'snippet not_match docLabel' + contexts.docLabel;
                }
                d3.select(divId)
                    .append("div")
                    .attr('class', headClass)
                    .html(meta);
                contexts.snippets.forEach(function (snippet) {
                    d3.select(divId)
                        .append("div")
                        .attr('class', snippetClass)
                        .html(snippet);
                });

            }



            if (ignoreCategories) {
                divId = '#' + divName + '-' + 'cat';

                var numMatches = Object.create(null);
                var temp = d3.select(divId).selectAll("div").remove();
                var allContexts = contexts[0].concat(contexts[1]).concat(contexts[2]).concat(contexts[3]);
                var allNotMatches = [];
                if (notmatches !== undefined)
                    allNotMatches = notmatches[0].concat(notmatches[1]).concat(notmatches[2]).concat(notmatches[3]);
                d3.select('#' + divName + '-' + 'categoryinfo').selectAll("div").remove();
                var numDocs = fullData.docs.texts.length.toLocaleString('en');
                var numMatches = allContexts.length;
                d3.select(divId)
                    .append("div")
                    .attr('class', 'topic_preview')
                    .attr('text-align', "center")
                    .html(
                        "Matched " + numMatches + " out of " + numDocs + ' documents: '
                        + parseFloat(100 * parseInt(numMatches) / parseInt(numDocs)).toFixed(4) + '%'
                    );

                if (allContexts.length > 0) {
                    var headerClassName = 'text_header';
                    allContexts.forEach(function (singleDoc) {
                        addSnippets(singleDoc, divId);
                    });
                    if (includeAll) {
                        allNotMatches.forEach(function (singleDoc) {
                            addSnippets(singleDoc, divId, false);
                        });
                    }
                }

            } else if (unifiedContexts)
             {
                divId = '#' + divName + '-' + 'cat';
                var docLabelCounts = fullData.docs.labels.reduce(
                    function (map, label) {
                        map[label] = (map[label] || 0) + 1;
                        return map;
                    },
                    Object.create(null)
                );
                var numMatches = Object.create(null);
                var temp = d3.select(divId).selectAll("div").remove();
                var allContexts = contexts[0].concat(contexts[1]).concat(contexts[2]).concat(contexts[3]);
                allContexts.forEach(function (singleDoc) {
                    numMatches[singleDoc.docLabel] = (numMatches[singleDoc.docLabel] || 0) + 1;
                });
                var allNotMatches = [];
                if (notmatches !== undefined)
                    allNotMatches = notmatches[0].concat(notmatches[1]).concat(notmatches[2]).concat(notmatches[3]);
                displayLineChart(termInfo, contexts)
                /*contexts.forEach(function(context) {
                     context.forEach(function (singleDoc) {
                         numMatches[singleDoc.docLabel] = (numMatches[singleDoc.docLabel]||0) + 1;
                         addSnippets(singleDoc, divId);
                     });
                 });*/
                console.log("ORDERING !!!!!");
                console.log(fullData.info.category_name);
                console.log(sortDocLabelsByName);
                var docLabelCountsSorted = Object.keys(docLabelCounts).map(key => (
                    {
                        "label": fullData.docs.categories[key],
                        "labelNum": key,
                        "matches": numMatches[key] || 0,
                        "overall": docLabelCounts[key],
                        'percent': (numMatches[key] || 0) * 100. / docLabelCounts[key]
                    }))
                    .sort(function (a, b) {
                        if (highlightSelectedCategory) {
                            if (a['label'] === fullData.info.category_name) {
                                return -1;
                            }
                            if (b['label'] === fullData.info.category_name) {
                                return 1;
                            }
                        }
                        if (sortDocLabelsByName) {
                            return a['label'] < b['label'] ? 1 : a['label'] > b['label'] ? -1 : 0;
                        } else {
                            return b.percent - a.percent;
                        }
                    });

                console.log("docLabelCountsSorted")
                console.log(docLabelCountsSorted);
                console.log(numMatches)
                console.log('#' + divName + '-' + 'categoryinfo')
                d3.select('#' + divName + '-' + 'categoryinfo').selectAll("div").remove();
                if (showCategoryHeadings) {
                    d3.select('#' + divName + '-' + 'categoryinfo').attr('display', 'inline');
                }

                function getCategoryStatsHTML(counts) {
                    return counts.matches + " document"
                        + (counts.matches == 1 ? "" : "s") + " out of " + counts.overall + ': '
                        + counts['percent'].toFixed(2) + '%';
                }

                function getCategoryInlineHeadingHTML(counts) {
                    return '<a name="' + divName + '-category'
                        + counts.labelNum + '"></a>'
                        + (ignoreCategories ? "" : counts.label + ": ") + "<span class=topic_preview>"
                        + getCategoryStatsHTML(counts)
                        + "</span>";
                }


                docLabelCountsSorted.forEach(function (counts) {
                    var htmlToAdd = "";
                    if (!ignoreCategories) {
                        htmlToAdd += "<b>" + counts.label + "</b>: " + getCategoryStatsHTML(counts);
                    }

                    if (counts.matches > 0) {
                        var headerClassName = 'text_header';
                        if ((counts.label === fullData.info.category_name) && highlightSelectedCategory) {
                            d3.select(divId)
                                .append('div')
                                .attr('class', 'separator')
                                .html("<b>Selected category</b>");
                        }
                        d3.select(divId)
                            .append("div")
                            .attr('class', headerClassName)
                            .html(getCategoryInlineHeadingHTML(counts));

                        allContexts
                            .filter(singleDoc => singleDoc.docLabel == counts.labelNum)
                            .forEach(function (singleDoc) {
                                addSnippets(singleDoc, divId);
                            });
                        if (includeAll) {
                            allNotMatches
                                .filter(singleDoc => singleDoc.docLabel == counts.labelNum)
                                .forEach(function (singleDoc) {
                                    addSnippets(singleDoc, divId, false);
                                });
                        }
                        if ((counts.label === fullData.info.category_name) && highlightSelectedCategory) {
                            d3.select(divId).append('div').attr('class', 'separator').html("<b>End selected category</b>");
                            d3.select(divId).append('div').html("<br />");
                        }
                    }


                    if (showCategoryHeadings) {
                        d3.select('#' + divName + '-' + 'categoryinfo')
                            .attr('display', 'inline')
                            .append('div')
                            .html(htmlToAdd)
                            .on("click", function () {
                                window.location.hash = '#' + divName + '-' + 'category' + counts.labelNum
                            });
                    }

                })


            } else
             {
                var contextColumns = [
                    fullData.info.category_internal_name,
                    fullData.info.not_category_name
                ];
                if (showNeutral) {
                    if ('neutral_category_name' in fullData.info) {
                        contextColumns.push(fullData.info.neutral_category_name)
                    } else {
                        contextColumns.push("Neutral")
                    }
                    if (showExtra) {
                        if ('extra_category_name' in fullData.info) {
                            contextColumns.push(fullData.info.extra_category_name)
                        } else {
                            contextColumns.push("Extra")
                        }
                    }

                }
                contextColumns.map(
                    function (catName, catIndex) {
                        if (max_snippets != null) {
                            var contextsToDisplay = contexts[catIndex].slice(0, max_snippets);
                        }
                        //var divId = catName == catInternalName ? '#cat' : '#notcat';
                        var divId = null
                        if (fullData.info.category_internal_name == catName) {
                            divId = '#' + divName + '-' + 'cat'
                        } else if (fullData.info.not_category_name == catName) {
                            divId = '#' + divName + '-' + 'notcat'
                        } else if (fullData.info.neutral_category_name == catName) {
                            divId = '#' + divName + '-' + 'neut';
                        } else if (fullData.info.extra_category_name == catName) {
                            divId = '#' + divName + '-' + 'extra'
                        } else {
                            return;
                        }

                        var temp = d3.select(divId).selectAll("div").remove();
                        contexts[catIndex].forEach(function (context) {
                            addSnippets(context, divId);
                        });
                        if (includeAll) {
                            notmatches[catIndex].forEach(function (context) {
                                addSnippets(context, divId, false);
                            });
                        }
                    }
                );
            }

            var obscuredTerms = getObscuredTerms(data, termInfo.info);
            displayObscuredTerms(obscuredTerms, data, info.term, info, '#' + divName + '-' + 'overlapped-terms-clicked');

            d3.select('#' + divName + '-' + 'termstats')
                .selectAll("div")
                .remove();
            var termHtml = termWord + ': <b>' + formatTermForDisplay(info.term) + '</b>';
            if ('metalists' in fullData && info.term in fullData.metalists) {
                termHtml = 'Topic: <b>' + formatTermForDisplay(info.term) + '</b>';
            }
            if (getCustomTermHtml !== null) {
                termHtml = getCustomTermHtml(info);
            }
            d3.select('#' + divName + '-' + 'termstats')
                .append('div')
                .attr("class", "snippet_header")
                .html(termHtml);
            if ('metalists' in fullData && info.term in fullData.metalists && topic_model_preview_size > 0) {
                d3.select('#' + divName + '-' + 'termstats')
                    .attr("class", "topic_preview")
                    .append('div')
                    .html("<b>Topic preview</b>: "
                        + fullData.metalists[info.term]
                            .slice(0, topic_model_preview_size)
                            .reduce(function (x, y) {
                                return x + ', ' + y
                            }));
            }
            if ('metadescriptions' in fullData && info.term in fullData.metadescriptions) {
                d3.select('#' + divName + '-' + 'termstats')
                    .attr("class", "topic_preview")
                    .append('div')
                    .html("<b>Description</b>: " + fullData.metadescriptions[info.term]);
            }
            var message = '';
            var cat_name = fullData.info.category_name;
            var ncat_name = fullData.info.not_category_name;


            var numCatDocs = fullData.docs.labels
                .map(function (x) {
                    return (x == fullData.docs.categories.indexOf(
                        fullData.info.category_internal_name)) + 0
                })
                .reduce(function (a, b) {
                    return a + b;
                }, 0);

            var notCategoryNumList = fullData.docs.categories.map(function (x, i) {
                if (fullData.info.not_category_internal_names.indexOf(x) > -1) {
                    return i;
                } else {
                    return -1;
                }
            }).filter(function (x) {
                return x > -1
            });


            var numNCatDocs = fullData.docs.labels
                .map(function (x) {
                    return notCategoryNumList.indexOf(x) > -1
                })
                .reduce(function (a, b) {
                    return a + b;
                }, 0);



            function getFrequencyDescription(name, count25k, count, ndocs) {
                var desc = name;
                if (!enableTermCategoryDescription) {
                    return desc + ':';
                }
                desc += ' frequency: <div class=text_subhead>' + count25k + ' per 25,000 terms</div>';
                if (!isNaN(Math.round(ndocs))) {
                    desc += '<div class=text_subhead>' + Math.round(ndocs) + ' per 1,000 docs</div>';
                }
                if (count == 0) {
                    desc += '<u>Not found in any ' + name + ' documents.</u>';
                } else {
                    if (!isNaN(Math.round(ndocs))) {
                        desc += '<u>Some of the ' + count + ' mentions:</u>';
                    } else {
                        desc += count + ' mentions';
                    }
                }
                /*
                desc += '<br><b>Discriminative:</b> ';

                desc += contextWords
                    .slice(cat_name === name ? 0 : contextWords.length - 3,
                        cat_name === name ? 3 : contextWords.length)
                    .filter(function (x) {
                        //return Math.abs(x[5]) > 1.96;
                        return true;
                    })
                    .map(function (x) {return x.join(', ')}).join('<br>');
                */
                return desc;
            }

            if (!unifiedContexts && !ignoreCategories) {
                console.log("NOT UNIFIED CONTEXTS")
                let catHeader = "";
                let nCatHeader = "";
                if (getColumnHeaderHTML === null) {
                    catHeader = getFrequencyDescription(
                        cat_name,
                        info.cat25k,
                        info.cat,
                        termInfo.contexts[0].length * 1000 / numCatDocs
                    )
                    nCatHeader = getFrequencyDescription(
                        ncat_name,
                        info.ncat25k,
                        info.ncat,
                        termInfo.contexts[1].length * 1000 / numNCatDocs
                    )

                } else {
                    catHeader = getColumnHeaderHTML(0, termInfo, fullData)
                    nCatHeader = getColumnHeaderHTML(1, termInfo, fullData)
                }

                d3.select('#' + divName + '-' + 'cathead')
                    .style('fill', color(1))
                    .html(catHeader);
                d3.select('#' + divName + '-' + 'notcathead')
                    .style('fill', color(0))
                    .html(nCatHeader);
                if (showNeutral) {
                    var numList = fullData.docs.categories.map(function (x, i) {
                        if (fullData.info.neutral_category_internal_names.indexOf(x) > -1) {
                            return i;
                        } else {
                            return -1;
                        }
                    }).filter(function (x) {
                        return x > -1
                    });

                    var numDocs = fullData.docs.labels
                        .map(function (x) {
                            return numList.indexOf(x) > -1
                        })
                        .reduce(function (a, b) {
                            return a + b;
                        }, 0);

                    let neutHeader = '';
                    if (getColumnHeaderHTML === null) {
                        neutHeader = getFrequencyDescription(
                            fullData.info.neutral_category_name,
                            info.neut25k,
                            info.neut,
                            termInfo.contexts[2].length * 1000 / numDocs
                        )
                    } else {
                        neutHeader = getColumnHeaderHTML(2, termInfo, fullData);
                    }

                    d3.select("#" + divName + "-neuthead")
                        .style('fill', color(0))
                        .html(neutHeader);

                    if (showExtra) {
                        var numList = fullData.docs.categories.map(function (x, i) {
                            if (fullData.info.extra_category_internal_names.indexOf(x) > -1) {
                                return i;
                            } else {
                                return -1;
                            }
                        }).filter(function (x) {
                            return x > -1
                        });

                        var numDocs = fullData.docs.labels
                            .map(function (x) {
                                return numList.indexOf(x) > -1
                            })
                            .reduce(function (a, b) {
                                return a + b;
                            }, 0);

                        let extraHeader = '';
                        if (getColumnHeaderHTML === null) {
                            extraHeader = getFrequencyDescription(
                                fullData.info.extra_category_name,
                                info.extra25k,
                                info.extra,
                                termInfo.contexts[3].length * 1000 / numDocs
                            )
                        } else {
                            extraHeader = getColumnHeaderHTML(3, termInfo, fullData);
                        }

                        d3.select("#" + divName + "-extrahead")
                            .style('fill', color(0))
                            .html(extraHeader);

                    }
                }
            } else if (unifiedContexts && !ignoreCategories) {
                // extra unified context code goes here
                console.log("docLabelCountsSorted")
                console.log(docLabelCountsSorted)

                docLabelCountsSorted.forEach(function (counts) {
                    var htmlToAdd = (ignoreCategories ? "" : "<b>" + counts.label + "</b>: ") + getCategoryStatsHTML(counts);
                    if (showCategoryHeadings) {
                        d3.select('#' + divName + '-' + 'contexts')
                            .append('div')
                            .html(htmlToAdd)
                            .on("click", function () {
                                window.location.hash = '#' + divName + '-' + 'category' + counts.labelNum
                            });
                    }
                })
            }
            if (jump) {
                if (window.location.hash === '#' + divName + '-' + 'snippets') {
                    window.location.hash = '#' + divName + '-' + 'snippetsalt';
                } else {
                    window.location.hash = '#' + divName + '-' + 'snippets';
                }
            }
        }

        function searchInText(d, includeAll = true) {
            function stripNonWordChars(term) {
                //d.term.replace(" ", "[^\\w]+")
            }

            function removeUnderScoreJoin(term) {
                /*
                '_ _asjdklf_jaksdlf_jaksdfl skld_Jjskld asdfjkl_sjkdlf'
                  ->
                "_ _asjdklf jaksdlf jaksdfl skld Jjskld asdfjkl_sjkdlf"
                 */
                return term.replace(/(\w+)(_)(\w+)/, "$1 $3")
                    .replace(/(\w+)(_)(\w+)/, "$1 $3")
                    .replace(/(\w+)(_)(\w+)/, "$1 $3");
            }

            function buildMatcher(term) {


                var boundary = '(?:\\W|^|$)';
                var wordSep = "[^\\w]+";
                if (asianMode) {
                    boundary = '( |$|^)';
                    wordSep = ' ';
                }
                if (isEmoji(term)) {
                    boundary = '';
                    wordSep = '';
                }
                if (matchFullLine) {
                    boundary = '($|^)';
                }
                var termToRegex = term;


                // https://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex
                function escapeRegExp(string) {
                    return string.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\,\\\^\$\|\'#?]/g, "\\$&");
                    //return string.replace(/[\?#.*+^${}()|[\]\\]'\%/g, '\\$&'); // $& means the whole matched string
                }

                /*
                ['[', ']', '(', ')', '{', '}', '^', '$', '|', '?', '"',
                    '*', '+', '-', '=', '~', '`', '{'].forEach(function (a) {
                    termToRegex = termToRegex.replace(a, '\\\\' + a)
                });
                ['.', '#'].forEach(function(a) {termToRegex = termToRegex.replace(a, '\\' + a)})
                */
                termToRegex = escapeRegExp(termToRegex);
                console.log("termToRegex")
                console.log(termToRegex)

                var regexp = new RegExp(boundary + '('
                    + removeUnderScoreJoin(
                        termToRegex.replace(' ', wordSep, 'gim')
                    ) + ')' + boundary, 'gim');
                console.log(regexp);

                if (subwordEncoding === 'RoBERTa' || subwordEncoding === 'BERT') {
                    if (term.charCodeAt(0) === 288 || term.charCodeAt(0) === 289) {
                        // Starts with character Ġ indicating it's a word start
                        regexp = new RegExp(boundary + escapeRegExp(term.substr(1, term.length)), 'gim');
                    } else if (subwordEncoding == 'BERT' && term.charAt(0) === '#' && term.charAt(1) === '#') {
                        regexp = new RegExp(boundary + escapeRegExp(term.substr(2, term.length)), 'gim');
                    } else {
                        regexp = new RegExp("\w" + escapeRegExp(term), 'gim');
                    }
                }

                if (subwordEncoding === 'BERT') {
                    if (term.charCodeAt(0) === 288 || term.charCodeAt(0) === 289) {
                        // Starts with character Ġ indicating it's a word start
                        regexp = new RegExp(boundary + escapeRegExp(term.substr(1, term.length)), 'gim');
                    } else {
                        regexp = new RegExp("\w" + escapeRegExp(term), 'gim');
                    }
                }

                try {
                    regexp.exec('X');
                } catch (err) {
                    console.log("Can't search " + term);
                    console.log(err);
                    return null;
                }
                return regexp;
            }

            var matches = [[], [], [], []];
            var notmatches = [[], [], [], []];
            var pattern = buildMatcher(d.term);
            var categoryNum = fullData.docs.categories.indexOf(fullData.info.category_internal_name);
            var notCategoryNumList = fullData.docs.categories.map(function (x, i) {
                if (fullData.info.not_category_internal_names.indexOf(x) > -1) {
                    return i;
                } else {
                    return -1;
                }
            }).filter(function (x) {
                return x > -1
            });
            var neutralCategoryNumList = fullData.docs.categories.map(function (x, i) {
                if (fullData.info.neutral_category_internal_names.indexOf(x) > -1) {
                    return i;
                } else {
                    return -1;
                }
            }).filter(function (x) {
                return x > -1
            });
            var extraCategoryNumList = fullData.docs.categories.map(function (x, i) {
                if (fullData.info.extra_category_internal_names.indexOf(x) > -1) {
                    return i;
                } else {
                    return -1;
                }
            }).filter(function (x) {
                return x > -1
            });
            console.log('extraCategoryNumList')
            console.log(extraCategoryNumList);
            console.log("categoryNum");
            console.log(categoryNum);
            console.log("categoryNum");
            if (pattern !== null) {
                for (var i in fullData.docs.texts) {
                    //var numericLabel = 1 * (fullData.docs.categories[fullData.docs.labels[i]] != fullData.info.category_internal_name);

                    var docLabel = fullData.docs.labels[i];
                    var numericLabel = -1;
                    if (docLabel == categoryNum) {
                        numericLabel = 0;
                    } else if (notCategoryNumList.indexOf(docLabel) > -1) {
                        numericLabel = 1;
                    } else if (neutralCategoryNumList.indexOf(docLabel) > -1) {
                        numericLabel = 2;
                    } else if (extraCategoryNumList.indexOf(docLabel) > -1) {
                        numericLabel = 3;
                    }
                    if (numericLabel == -1) {
                        continue;
                    }

                    var text = removeUnderScoreJoin(fullData.docs.texts[i]);
                    //var pattern = new RegExp("\\b(" + stripNonWordChars(d.term) + ")\\b", "gim");
                    var match;
                    var sentenceOffsets = null;
                    var lastSentenceStart = null;
                    var matchFound = false;
                    var curMatch = {'id': i, 'snippets': [], 'notsnippets': [], 'docLabel': docLabel};
                    if (fullData.docs.meta) {
                        curMatch['meta'] = fullData.docs.meta[i];
                    }

                    while ((match = pattern.exec(text)) != null) {
                        if (sentenceOffsets == null) {
                            sentenceOffsets = getSentenceBoundaries(text);
                        }
                        var foundSnippet = getMatchingSnippet(text, sentenceOffsets,
                            match.index, pattern.lastIndex);
                        if (foundSnippet.sentenceStart == lastSentenceStart) continue; // ensure we don't duplicate sentences
                        lastSentenceStart = foundSnippet.sentenceStart;
                        curMatch.snippets.push(foundSnippet.snippet);
                        matchFound = true;
                    }
                    if (matchFound) {
                        if (useFullDoc) {
                            curMatch.snippets = [
                                text
                                    .replace(/\n$/g, '\n\n')
                                    .replace(
                                        //new RegExp("\\b(" + d.term.replace(" ", "[^\\w]+") + ")\\b",
                                        //    'gim'),
                                        pattern,
                                        '<b>$&</b>')
                            ];
                        }
                        matches[numericLabel].push(curMatch);
                    } else {
                        if (includeAll) {
                            curMatch.snippets = [
                                text.replace(/\n$/g, '\n\n')
                            ];
                            notmatches[numericLabel].push(curMatch);
                        }

                    }
                }
            }
            var toRet = {
                'contexts': matches,
                'notmatches': notmatches,
                'info': d,
                'docLabel': docLabel
            };
            return toRet;
        }

        function getDefaultTooltipContent(d) {
            var term = formatTermForDisplay(d.term);

            var message = term + "<br/>" + d.cat25k + ":" + d.ncat25k + " per 25k words";
            message += '<br/>score: ' + d.os.toFixed(5);
            return message;
        }

        function getDefaultTooltipContentWithoutScore(d) {
            var term = formatTermForDisplay(d.term);

            var message = term + "<br/>" + d.cat25k + ":" + d.ncat25k + " per 25k words";
            return message;
        }

        function getObscuredTerms(data, d) {
            //data = fullData['data']
            var matches = (data.filter(function (term) {
                    return term.x === d.x && term.y === d.y && (term.display === undefined || term.display === true);
                }).map(function (term) {
                    return formatTermForDisplay(term.term)
                }).sort()
            );
            return matches;
        }

        function showTooltip(data, d, pageX, pageY, showObscured = true) {
            deselectLastCircle();

            var obscuredTerms = getObscuredTerms(data, d);
            var message = '';
            console.log("!!!!! " + obscuredTerms.length)
            console.log(showObscured)
            if (obscuredTerms.length > 1 && showObscured)
                displayObscuredTerms(obscuredTerms, data, d.term, d);
            if (getTooltipContent !== null) {
                message += getTooltipContent(d);
            } else {
                if (sortByDist) {
                    message += getDefaultTooltipContentWithoutScore(d);
                } else {
                    message += getDefaultTooltipContent(d);
                }
            }
            pageX -= (svg.node().getBoundingClientRect().left) - origSVGLeft;
            pageY -= (svg.node().getBoundingClientRect().top) - origSVGTop;
            tooltip.transition()
                .duration(0)
                .style("opacity", 1)
                .style("z-index", 10000000);
            tooltip.html(message)
                .style("left", (pageX - 40) + "px")
                .style("top", (pageY - 85 > 0 ? pageY - 85 : 0) + "px");
            tooltip.on('click', function () {
                tooltip.transition()
                    .style('opacity', 0)
            }).on('mouseout', function () {
                tooltip.transition().style('opacity', 0)
            });
        }

        handleSearch = function (event) {
            var searchTerm = document
                .getElementById(this.divName + "-searchTerm")
                .value;
            handleSearchTerm(searchTerm);
            return false;
        };

        function highlightTerm(searchTerm, showObscured) {
            deselectLastCircle();
            var cleanedTerm = searchTerm.toLowerCase()
                .replace("'", " '")
                .trim();
            if (this.termDict[cleanedTerm] === undefined) {
                cleanedTerm = searchTerm.replace("'", " '").trim();
            }
            if (this.termDict[cleanedTerm] !== undefined) {
                showToolTipForTerm(this.data, this.svg, cleanedTerm, this.termDict[cleanedTerm], showObscured);
            }
            return cleanedTerm;
        }

        function handleSearchTerm(searchTerm, jump = false) {
            console.log("Handle search term.");
            console.log(searchTerm);
            console.log("this");
            console.log(this)
            highlighted = highlightTerm.call(this, searchTerm, true);
            console.log("found searchTerm");
            console.log(searchTerm);
            if (this.termDict[searchTerm] != null) {
                var runDisplayTermContexts = true;
                if (alternativeTermFunc != null) {
                    runDisplayTermContexts = this.alternativeTermFunc(this.termDict[searchTerm]);
                }
                if (runDisplayTermContexts) {
                    displayTermContexts(
                        this.data,
                        this.gatherTermContexts(this.termDict[searchTerm], this.includeAllContexts),
                        alwaysJump,
                        this.includeAllContexts
                    );
                }
            }
        }

        function getCircleForSearchTerm(mysvg, searchTermInfo) {
            var circle = mysvg;
            if (circle.tagName !== "circle") { // need to clean this thing up
                circle = mysvg._groups[0][searchTermInfo.ci];
                if (circle === undefined || circle.tagName != 'circle') {
                    if (mysvg._groups[0].children !== undefined) {
                        circle = mysvg._groups[0].children[searchTermInfo.ci];
                    }
                }
                if (circle === undefined || circle.tagName != 'circle') {
                    if (mysvg._groups[0][0].children !== undefined) {
                        circle = Array.prototype.filter.call(
                            mysvg._groups[0][0].children,
                            x => (x.tagName == "circle" && x.__data__['term'] == searchTermInfo.term)
                        )[0];
                    }
                }
                if ((circle === undefined || circle.tagName != 'circle') && mysvg._groups[0][0].children !== undefined) {
                    circle = mysvg._groups[0][0].children[searchTermInfo.ci];
                }
            }
            return circle;
        }

        function showToolTipForTerm(data, mysvg, searchTerm, searchTermInfo, showObscured = true) {
            //var searchTermInfo = termDict[searchTerm];
            console.log("showing tool tip")
            console.log(searchTerm)
            console.log(searchTermInfo)
            if (searchTermInfo === undefined) {
                console.log("can't show")
                d3.select("#" + divName + "-alertMessage")
                    .text(searchTerm + " didn't make it into the visualization.");
            } else {
                d3.select("#" + divName + "-alertMessage").text("");
                var circle = getCircleForSearchTerm(mysvg, searchTermInfo);
                if (circle) {
                    var mySVGMatrix = circle.getScreenCTM().translate(circle.cx.baseVal.value, circle.cy.baseVal.value);
                    var pageX = mySVGMatrix.e;
                    var pageY = mySVGMatrix.f;
                    circle.style["stroke"] = "black";
                    //@@@@@ try to move to front
                    //var circlePos = circle.position();
                    //var el = circle.node()
                    //showTooltip(searchTermInfo, pageX, pageY, circle.cx.baseVal.value, circle.cx.baseVal.value);
                    showTooltip(
                        data,
                        searchTermInfo,
                        pageX,
                        pageY,
                        showObscured
                    );

                    lastCircleSelected = circle;
                }

            }
        };


        function makeWordInteractive(data, svg, domObj, term, termInfo, showObscured = true) {
            return domObj
                .on("mouseover", function (d) {
                    showToolTipForTerm(data, svg, term, termInfo, showObscured);
                    d3.select(this).style("stroke", "black");
                })
                .on("mouseout", function (d) {
                    tooltip.transition()
                        .duration(0)
                        .style("opacity", 0);
                    d3.select(this).style("stroke", null);
                    if (showObscured) {
                        d3.select('#' + divName + '-' + 'overlapped-terms')
                            .selectAll('div')
                            .remove();
                    }
                })
                .on("click", function (d) {
                    var runDisplayTermContexts = true;
                    if (alternativeTermFunc != null) {
                        runDisplayTermContexts = alternativeTermFunc(termInfo);
                    }
                    if (runDisplayTermContexts) {
                        displayTermContexts(data, gatherTermContexts(termInfo, includeAllContexts),
                        alwaysJump, includeAllContexts);
                    }
                });
        }


        function processData(fullData) {

            modelInfo = fullData['info'];
            /*
             categoryTermList.data(modelInfo['category_terms'])
             .enter()
             .append("li")
             .text(function(d) {return d;});
             */
            var data = fullData['data'];
            termDict = Object();
            data.forEach(function (x, i) {
                termDict[x.term] = x;
                //!!!
                //termDict[x.term].i = i;
            });

            var padding = 0.1;
            if (showAxes || showAxesAndCrossHairs) {
                padding = 0.1;
            }

            // Scale the range of the data.  Add some space on either end.
            if (useGlobalScale) {
                var axisMax = Math.max(
                    d3.max(data, function (d) {
                        return d.x;
                    }),
                    d3.max(data, function (d) {
                        return d.y;
                    }),
                )
                var axisMin = Math.min(
                    d3.min(data, function (d) {
                        return d.x;
                    }),
                    d3.min(data, function (d) {
                        return d.y;
                    }),
                )
                axisMin = axisMin - (axisMax - axisMin) * padding;
                axisMax = axisMax + (axisMax - axisMin) * padding;
                x.domain([axisMin, axisMax]);
                y.domain([axisMin, axisMax]);
            } else {
                var xMax = d3.max(data, function (d) {
                    return d.x;
                });
                var yMax = d3.max(data, function (d) {
                    return d.y;
                })
                x.domain([-1 * padding, xMax + padding]);
                y.domain([-1 * padding, yMax + padding]);
            }

            /*
             data.sort(function (a, b) {
             return Math.abs(b.os) - Math.abs(a.os)
             });
             */


            //var rangeTree = null; // keep boxes of all points and labels here
            var rectHolder = new RectangleHolder();
            var axisRectHolder = new RectangleHolder();
            // Add the scatterplot
            data.forEach(function (d, i) {
                d.ci = i
            });

            //console.log('XXXXX'); console.log(data)


            function getFilter(data) {
                return data.filter(d => d.display === undefined || d.display === true);
            }


            var mysvg = svg
                .selectAll("dot")
                .data(getFilter(data))
                //.filter(function (d) {return d.display === undefined || d.display === true})
                .enter()
                .append("circle")
                .attr("r", function (d) {
                    if (suppressCircles) return 0;
                    if (pValueColors && d.p) {
                        return (d.p >= 1 - minPVal || d.p <= minPVal) ? 2 : 1.75;
                    }
                    return 2;
                })
                .attr("cx", function (d) {
                    return x(d.x);
                })
                .attr("cy", function (d) {
                    return y(d.y);
                })
                .style("fill", function (d) {
                    //.attr("fill", function (d) {
                    if (colorFunc) {
                        return colorFunc(d);
                    } else if (greyZeroScores && d.os == 0) {
                        return d3.rgb(230, 230, 230);
                    } else if (pValueColors && d.p) {
                        if (d.p >= 1 - minPVal) {
                            return wordVecMaxPValue ? d3.interpolateYlGnBu(d.s) : color(d.s);
                        } else if (d.p <= minPVal) {
                            return wordVecMaxPValue ? d3.interpolateYlGnBu(d.s) : color(d.s);
                        } else {
                            return interpolateLightGreys(d.s);
                        }
                    } else {
                        return color(d.s);
                    }
                })
                .on("mouseover", function (d) {
                    /*var mySVGMatrix = circle.getScreenCTM()n
                        .translate(circle.cx.baseVal.value, circle.cy.baseVal.value);
                    var pageX = mySVGMatrix.e;
                    var pageY = mySVGMatrix.f;*/

                    /*showTooltip(
                        d,
                        d3.event.pageX,
                        d3.event.pageY
                    );*/
                    console.log("point MOUSOEVER")
                    console.log(d)
                    showToolTipForTerm(data, this, d.term, d, true);
                    d3.select(this).style("stroke", "black");
                })
                .on("click", function (d) {
                    var runDisplayTermContexts = true;
                    if (alternativeTermFunc != null) {
                        runDisplayTermContexts = alternativeTermFunc(d);
                    }
                    if (runDisplayTermContexts) {
                        displayTermContexts(data, gatherTermContexts(d), alwaysJump, includeAllContexts);
                    }
                })
                .on("mouseout", function (d) {
                    tooltip.transition()
                        .duration(0)
                        .style("opacity", 0);
                    d3.select(this).style("stroke", null);
                    d3.select('#' + divName + '-' + 'overlapped-terms')
                        .selectAll('div')
                        .remove();
                })


            coords = Object();

            var pointStore = [];
            var pointRects = [];

            function censorPoints(datum, getX, getY) {
                if (suppressCircles !== true) {
                    var term = datum.term;
                    var curLabel = svg.append("text")
                        .attr("x", x(getX(datum)))
                        .attr("y", y(getY(datum)) + 3)
                        .attr("text-anchor", "middle")
                        .text("x");
                    var bbox = curLabel.node().getBBox();
                    var borderToRemove = .5;
                    var x1 = bbox.x + borderToRemove,
                        y1 = bbox.y + borderToRemove,
                        x2 = bbox.x + bbox.width - borderToRemove,
                        y2 = bbox.y + bbox.height - borderToRemove;
                    //rangeTree = insertRangeTree(rangeTree, x1, y1, x2, y2, '~~' + term);
                    var pointRect = new Rectangle(x1, y1, x2, y2);
                    pointRects.push(pointRect);
                    rectHolder.add(pointRect);
                    pointStore.push([x1, y1]);
                    pointStore.push([x2, y1]);
                    pointStore.push([x1, y2]);
                    pointStore.push([x2, y2]);
                    curLabel.remove();
                }
            }
            console.log("SUPPRESS CIRCLE"); console.log(suppressCircles)
            function censorCircle(xCoord, yCoord) {
                if (suppressCircles !== true) {
                    console.log("DO NOT SUPRs")
                    var curLabel = svg.append("text")
                        .attr("x", x(xCoord))
                        .attr("y", y(yCoord) + 3)
                        .attr("text-anchor", "middle")
                        .text("x");
                    var bbox = curLabel.node().getBBox();
                    var borderToRemove = .5;
                    var x1 = bbox.x + borderToRemove,
                        y1 = bbox.y + borderToRemove,
                        x2 = bbox.x + bbox.width - borderToRemove,
                        y2 = bbox.y + bbox.height - borderToRemove;
                    var pointRect = new Rectangle(x1, y1, x2, y2);
                    pointRects.push(pointRect);
                    rectHolder.add(pointRect);
                    pointStore.push([x1, y1]);
                    pointStore.push([x2, y1]);
                    pointStore.push([x1, y2]);
                    pointStore.push([x2, y2]);
                    curLabel.remove();
                }
            }

            var configs = [
                {'anchor': 'end', 'group': 1, 'xoff': -5, 'yoff': -3, 'alignment-baseline': 'ideographic'},
                {'anchor': 'end', 'group': 1, 'xoff': -5, 'yoff': 10, 'alignment-baseline': 'ideographic'},

                {'anchor': 'end', 'group': 2, 'xoff': 10, 'yoff': 15, 'alignment-baseline': 'ideographic'},
                {'anchor': 'end', 'group': 2, 'xoff': -10, 'yoff': -15, 'alignment-baseline': 'ideographic'},
                {'anchor': 'end', 'group': 2, 'xoff': 10, 'yoff': -15, 'alignment-baseline': 'ideographic'},
                {'anchor': 'end', 'group': 2, 'xoff': -10, 'yoff': 15, 'alignment-baseline': 'ideographic'},

                {'anchor': 'start', 'group': 1, 'xoff': 3, 'yoff': 10, 'alignment-baseline': 'ideographic'},
                {'anchor': 'start', 'group': 1, 'xoff': 3, 'yoff': -3, 'alignment-baseline': 'ideographic'},

                {'anchor': 'start', 'group': 2, 'xoff': 5, 'yoff': 10, 'alignment-baseline': 'ideographic'},
                {'anchor': 'start', 'group': 2, 'xoff': 5, 'yoff': -3, 'alignment-baseline': 'ideographic'},

                {'anchor': 'start', 'group': 3, 'xoff': 10, 'yoff': 15, 'alignment-baseline': 'ideographic'},
                {'anchor': 'start', 'group': 3, 'xoff': -10, 'yoff': -15, 'alignment-baseline': 'ideographic'},
                {'anchor': 'start', 'group': 3, 'xoff': 10, 'yoff': -15, 'alignment-baseline': 'ideographic'},
                {'anchor': 'start', 'group': 3, 'xoff': -10, 'yoff': 15, 'alignment-baseline': 'ideographic'},
            ];
            if (centerLabelsOverPoints) {
                console.log("CENTERING LABEL")
                configs = [{'anchor': 'middle', 'xoff': 0, 'yoff': 0, 'alignment-baseline': 'middle'}];
            }
            console.log("CONFIGS")
            console.log(configs)

            function labelPointsIfPossible(datum, myX, myY) {
                if (suppressTextColumn !== undefined
                    && datum.etc !== undefined
                    && datum.etc[suppressTextColumn] === true) {
                    return false;
                }

                var term = datum.term;
                if (datum.x > datum.y) {
                    configs.sort((a, b) => a.anchor == 'end' && b.anchor == 'end'
                        ? a.group - b.group : (a.anchor == 'end') - (b.anchor == 'end'));
                } else {
                    configs.sort((a, b) => a.anchor == 'start' && b.anchor == 'start'
                        ? a.group - b.group : (a.anchor == 'start') - (b.anchor == 'start'));
                }
                var matchedElement = null;

                var termColor = 'rgb(0,0,0)';
                if (textColorColumn !== undefined && datum.etc !== undefined && datum.etc[textColorColumn] !== undefined) {
                    termColor = datum.etc[textColorColumn];
                }
                term = formatTermForDisplay(term);

                for (var configI in configs) {
                    var config = configs[configI];
                    var curLabel = svg.append("text")
                        //.attr("x", x(data[i].x) + config['xoff'])
                        //.attr("y", y(data[i].y) + config['yoff'])
                        .attr("x", x(myX) + config['xoff'])
                        .attr("y", y(myY) + config['yoff'])
                        .attr('class', 'label')
                        .attr('class', 'pointlabel')
                        .attr('font-family', 'Helvetica, Arial, Sans-Serif')
                        .attr('font-size', '10px')
                        .attr("text-anchor", config['anchor'])
                        .attr("alignment-baseline", config['alignment'])
                        .attr("fill", termColor)
                        .text(term);
                    var bbox = curLabel.node().getBBox();
                    var borderToRemove = doCensorPoints ? 0.5 : .25;

                    var x1 = bbox.x + borderToRemove,
                        y1 = bbox.y + borderToRemove,
                        x2 = bbox.x + bbox.width - borderToRemove,
                        y2 = bbox.y + bbox.height - borderToRemove;
                    //matchedElement = searchRangeTree(rangeTree, x1, y1, x2, y2);
                    var matchedElement = false;
                    rectHolder.findMatchingRectangles(x1, y1, x2, y2, function (elem) {
                        matchedElement = true;
                        return false;
                    });
                    if (matchedElement) {
                        curLabel.remove();
                    } else {
                        curLabel = makeWordInteractive(data, svg, curLabel, term, datum);
                        break;
                    }
                }

                if (!matchedElement) {
                    coords[term] = [x1, y1, x2, y2];
                    //rangeTree = insertRangeTree(rangeTree, x1, y1, x2, y2, term);
                    var labelRect = new Rectangle(x1, y1, x2, y2)
                    rectHolder.add(labelRect);
                    pointStore.push([x1, y1]);
                    pointStore.push([x2, y1]);
                    pointStore.push([x1, y2]);
                    pointStore.push([x2, y2]);
                    return {label: curLabel, rect: labelRect};
                } else {
                    //curLabel.remove();
                    return false;
                }

            }

            var radius = 2;

            function euclideanDistanceSort(a, b) {
                var aCatDist = a.x * a.x + (1 - a.y) * (1 - a.y);
                var aNotCatDist = a.y * a.y + (1 - a.x) * (1 - a.x);
                var bCatDist = b.x * b.x + (1 - b.y) * (1 - b.y);
                var bNotCatDist = b.y * b.y + (1 - b.x) * (1 - b.x);
                return (Math.min(aCatDist, aNotCatDist) > Math.min(bCatDist, bNotCatDist)) * 2 - 1;
            }

            function euclideanDistanceSortForCategory(a, b) {
                var aCatDist = a.x * a.x + (1 - a.y) * (1 - a.y);
                var bCatDist = b.x * b.x + (1 - b.y) * (1 - b.y);
                return (aCatDist > bCatDist) * 2 - 1;
            }

            function euclideanDistanceSortForNotCategory(a, b) {
                var aNotCatDist = a.y * a.y + (1 - a.x) * (1 - a.x);
                var bNotCatDist = b.y * b.y + (1 - b.x) * (1 - b.x);
                return (aNotCatDist > bNotCatDist) * 2 - 1;
            }

            function scoreSort(a, b) {
                return a.s - b.s;
            }

            function scoreSortReverse(a, b) {
                return b.s - a.s;
            }

            function backgroundScoreSort(a, b) {
                if (b.bg === a.bg)
                    return (b.cat + b.ncat) - (a.cat + a.ncat);
                return b.bg - a.bg;
            }

            function arePointsPredictiveOfDifferentCategories(a, b) {
                var aCatDist = a.x * a.x + (1 - a.y) * (1 - a.y);
                var bCatDist = b.x * b.x + (1 - b.y) * (1 - b.y);
                var aNotCatDist = a.y * a.y + (1 - a.x) * (1 - a.x);
                var bNotCatDist = b.y * b.y + (1 - b.x) * (1 - b.x);
                var aGood = aCatDist < aNotCatDist;
                var bGood = bCatDist < bNotCatDist;
                return {aGood: aGood, bGood: bGood};
            }

            function scoreSortForCategory(a, b) {
                var __ret = arePointsPredictiveOfDifferentCategories(a, b);
                if (sortByDist) {
                    var aGood = __ret.aGood;
                    var bGood = __ret.bGood;
                    if (aGood && !bGood) return -1;
                    if (!aGood && bGood) return 1;
                }
                return b.s - a.s;
            }

            function scoreSortForNotCategory(a, b) {
                var __ret = arePointsPredictiveOfDifferentCategories(a, b);
                if (sortByDist) {
                    var aGood = __ret.aGood;
                    var bGood = __ret.bGood;
                    if (aGood && !bGood) return 1;
                    if (!aGood && bGood) return -1;
                }
                if (reverseSortScoresForNotCategory)
                    return a.s - b.s;
                else
                    return b.s - a.s;
            }

            var sortedData = data.map(x => x).sort(sortByDist ? euclideanDistanceSort : scoreSort);
            if (doCensorPoints) {
                for (var i in sortedData) {
                    var d = sortedData[i];
                    if(censorPointColumn === undefined || (
                        d.etc !== undefined && (d.etc[censorPointColumn] === false
                                                || df.etc[censorPointColumn] === undefined))) {
                        censorPoints(
                            d,
                            function (d) {
                                return d.x
                            },
                            function (d) {
                                return d.y
                            }
                        );
                    }

                }
            }


            function registerFigureBBox(curLabel, axis = false) {
                var bbox = curLabel.node().getBBox();
                var borderToRemove = 1.5;
                var x1 = bbox.x + borderToRemove,
                    y1 = bbox.y + borderToRemove,
                    x2 = bbox.x + bbox.width - borderToRemove,
                    y2 = bbox.y + bbox.height - borderToRemove;
                var rect = new Rectangle(x1, y1, x2, y2)
                if (axis) {
                    axisRectHolder.add(rect)
                } else {
                    rectHolder.add(rect);
                }
                //return insertRangeTree(rangeTree, x1, y1, x2, y2, '~~_other_');
            }

            function drawXLabel(svg, labelText) {
                return svg.append("text")
                    .attr("class", "x label")
                    .attr("text-anchor", "end")
                    .attr("x", width)
                    .attr("y", height - 6)
                    .attr('font-family', 'Helvetica, Arial, Sans-Serif')
                    .attr('font-size', '10px')
                    .text(labelText);
            }

            function drawYLabel(svg, labelText) {
                return svg.append("text")
                    .attr("class", "y label")
                    .attr("text-anchor", "end")
                    .attr("y", 6)
                    .attr("dy", ".75em")
                    .attr("transform", "rotate(-90)")
                    .attr('font-family', 'Helvetica, Arial, Sans-Serif')
                    .attr('font-size', '10px')
                    .text(labelText);
            }

            d3.selection.prototype.moveToBack = function () {
                return this.each(function () {
                    var firstChild = this.parentNode.firstChild;
                    if (firstChild) {
                        this.parentNode.insertBefore(this, firstChild);
                    }
                });
            };


            if (verticalLines) {
                if (typeof (verticalLines) === "number") {
                    verticalLines = [verticalLines]; // r likes to make single element vectors doubles; this is a hackish workaround
                }
                for (i in verticalLines) {
                    svg.append("g")
                        .attr("transform", "translate(" + x(verticalLines[i]) + ", 1)")
                        .append("line")
                        .attr("y2", height)
                        .style("stroke", "#dddddd")
                        .style("stroke-width", "1px")
                        .moveToBack();
                }
            }

            if (fullData['line'] !== undefined) {
                var valueline = d3.line()
                    .x(function (d) {
                        return x(d.x);
                    })
                    .y(function (d) {
                        return y(d.y);
                    });
                fullData.line = fullData.line.sort((a, b) => b.x - a.x);
                svg.append("path")
                    .attr("class", "line")
                    .style("stroke-dasharray", "5,5")
                    .style("stroke", "#3b719f")
                    .style("stroke-width", "1.25px")
                    .attr("d", valueline(fullData['line'])).moveToBack();
            }
            if (showAxes || showAxesAndCrossHairs) {

                var myXAxis = svg.append("g")
                    .attr("class", "x axis")
                    .attr("transform", "translate(0," + height + ")")
                    .call(xAxis);

                //rangeTree = registerFigureBBox(myXAxis);


                var xLabel = drawXLabel(svg, getLabelText('x'));

                //console.log('xLabel');
                //console.log(xLabel);

                //rangeTree = registerFigureBBox(xLabel);
                // Add the Y Axis

                if (!yAxisValues) {
                    var myYAxis = svg.append("g")
                        .attr("class", "y axis")
                        .call(yAxis)
                        .selectAll("text")
                        .style("text-anchor", "end")
                        .attr("dx", "30px")
                        .attr("dy", "-13px")
                        .attr('font-family', 'Helvetica, Arial, Sans-Serif')
                        .attr('font-size', '10px')
                        .attr("transform", "rotate(-90)");
                } else {
                    var myYAxis = svg.append("g")
                        .attr("class", "y axis")
                        .call(yAxis)
                        .selectAll("text")
                        .style("text-anchor", "end")
                        .attr('font-family', 'Helvetica, Arial, Sans-Serif')
                        .attr('font-size', '10px');
                }
                registerFigureBBox(myYAxis, true);
                registerFigureBBox(myXAxis, true);

                function getLabelText(axis) {
                    if (axis == 'y') {
                        if (yLabelText == null)
                            return modelInfo['category_name'] + " Frequency";
                        else
                            return yLabelText;
                    } else {
                        if (xLabelText == null)
                            return modelInfo['not_category_name'] + " Frequency";
                        else
                            return xLabelText;
                    }
                }

                var yLabel = drawYLabel(svg, getLabelText('y'))

            }

            if (!showAxes || showAxesAndCrossHairs) {
                horizontal_line_y_position_translated = 0.5;
                if (horizontal_line_y_position !== null) {
                    var loOy = null, hiOy = null, loY = null, hiY = null;
                    for (i in fullData.data) {
                        var curOy = fullData.data[i].oy;
                        if (curOy < horizontal_line_y_position && (curOy > loOy || loOy === null)) {
                            loOy = curOy;
                            loY = fullData.data[i].y
                        }
                        if (curOy > horizontal_line_y_position && (curOy < hiOy || hiOy === null)) {
                            hiOy = curOy;
                            hiY = fullData.data[i].y
                        }
                    }
                    horizontal_line_y_position_translated = loY + (hiY - loY) / 2.
                    if (loY === null) {
                        horizontal_line_y_position_translated = 0;
                    }
                }
                if (vertical_line_x_position === null) {
                    vertical_line_x_position_translated = 0.5;
                } else {
                    if (vertical_line_x_position !== null) {
                        var loOx = null, hiOx = null, loX = null, hiX = null;
                        for (i in fullData.data) {
                            var curOx = fullData.data[i].ox;
                            if (curOx < vertical_line_x_position && (curOx > loOx || loOx === null)) {
                                loOx = curOx;
                                loX = fullData.data[i].x;
                            }
                            if (curOx > vertical_line_x_position && (curOx < hiOx || hiOx === null)) {
                                hiOx = curOx;
                                hiX = fullData.data[i].x
                            }
                        }
                        vertical_line_x_position_translated = loX + (hiX - loX) / 2.
                        if (loX === null) {
                            vertical_line_x_position_translated = 0;
                        }
                    }
                }
                if (showCrossAxes) {
                    var x_line = svg.append("g")
                        .attr("transform", "translate(0, " + y(horizontal_line_y_position_translated) + ")")
                        .append("line")
                        .attr("x2", width)
                        .style("stroke", "#cccccc")
                        .style("stroke-width", "1px")
                        .moveToBack();
                    var y_line = svg.append("g")
                        .attr("transform", "translate(" + x(vertical_line_x_position_translated) + ", 0)")
                        .append("line")
                        .attr("y2", height)
                        .style("stroke", "#cccccc")
                        .style("stroke-width", "1px")
                        .moveToBack();
                }
            }

            if (showDiagonal) {
                var diagonal = svg.append("g")
                    .append("line")
                    .attr("x1", 0)
                    .attr("y1", height)
                    .attr("x2", width)
                    .attr("y2", 0)
                    .style("stroke-dasharray", "5,5")
                    .style("stroke", "#cccccc")
                    .style("stroke-width", "1px")
                    .moveToBack();
            }

            if (horizontal_line_y_position !== null) {
                console.log("Height"); console.log(height); console.log(margin)
                var horizontal = svg.append("g")
                    .append("line")
                    .attr("x1", 0)
                    .attr("y1", (height)/2 + 3)
                    .attr("x2", width)
                    .attr("y2", (height)/2 + 3)
                    .style("stroke-dasharray", "5,5")
                    .style("stroke", "#cccccc")
                    .style("stroke-width", "1px")
                    .moveToBack();
            }

            function showWordList(word, termDataList, xOffset = null) {
                var maxWidth = word.node().getBBox().width;
                var wordObjList = [];
                for (var i in termDataList) {
                    var datum = termDataList[i];
                    var curTerm = datum.term;
                    word = (function (word, curTerm) {
                        var termColor = 'rgb(0,0,0)';
                        if (textColorColumn !== undefined && datum.etc !== undefined && datum.etc[textColorColumn] !== undefined) {
                            console.log("tcc" + 'datum.etc[textColorColumn]')
                            termColor = datum.etc[textColorColumn];
                            if(termColor[0] !== '#')
                                termColor = '#' + termColor;
                        }
                        var curWordPrinted = svg.append("text")
                            .attr("text-anchor", "start")
                            .attr('font-family', 'Helvetica, Arial, Sans-Serif')
                            .attr('font-size', '12px')
                            .attr("fill", termColor)
                            .attr("x", xOffset == null ? word.node().getBBox().x : xOffset)
                            .attr("y", word.node().getBBox().y
                                + 2 * word.node().getBBox().height)
                            .text(formatTermForDisplay(curTerm));
                        wordObjList.push(curWordPrinted)
                        return makeWordInteractive(
                            termDataList, //data,
                            svg,
                            curWordPrinted,
                            curTerm,
                            termDataList[i]);
                    })(word, curTerm);
                    if (word.node().getBBox().width > maxWidth)
                        maxWidth = word.node().getBBox().width;
                    registerFigureBBox(word);
                }
                return {
                    'word': word,
                    'maxWidth': maxWidth,
                    'wordObjList': wordObjList
                };
            }

            function pickEuclideanDistanceSortAlgo(category) {
                if (category == true) return euclideanDistanceSortForCategory;
                return euclideanDistanceSortForNotCategory;
            }

            function pickScoreSortAlgo(isTopPane) {
                console.log("PICK SCORE ALGO")
                console.log(isTopPane)
                if (isTopPane === true) {
                    if (headerSortingAlgos !== null && headerSortingAlgos['upper'] !== undefined)
                        return headerSortingAlgos['upper'];
                    return scoreSortForCategory;
                } else {
                    if (headerSortingAlgos !== null && headerSortingAlgos['lower'] !== undefined)
                        return headerSortingAlgos['lower'];
                    return scoreSortForNotCategory;
                }

            }

            function pickTermSortingAlgorithm(isUpperPane) {
                if (sortByDist) return pickEuclideanDistanceSortAlgo(isUpperPane);
                return pickScoreSortAlgo(isUpperPane);
            }

            function showAssociatedWordList(data, word, header, isUpperPane, xOffset, length = topTermsLength) {
                var sortedData = null;
                var sortingAlgo = pickTermSortingAlgorithm(isUpperPane);
                console.log("showAssociatedWordList");
                console.log(header);
                console.log("WORD");
                console.log(word)
                sortedData = data.filter(term => (term.display === undefined || term.display === true)).sort(sortingAlgo);
                if (wordVecMaxPValue) {
                    function signifTest(x) {
                        if (isUpperPane)
                            return x.p >= 1 - minPVal;
                        return x.p <= minPVal;
                    }

                    sortedData = sortedData.filter(signifTest)
                }
                return showWordList(word, sortedData.slice(0, length), xOffset);

            }

            var characteristicXOffset = width;

            function showCatHeader(startingOffset, catName, registerFigureBBox) {
                var catHeader = svg.append("text")
                    .attr("text-anchor", "start")
                    .attr("x", startingOffset //width
                    )
                    .attr("dy", "6px")
                    .attr('font-family', 'Helvetica, Arial, Sans-Serif')
                    .attr('font-size', '12px')
                    .attr('font-weight', 'bolder')
                    .attr('font-decoration', 'underline')
                    .text(catName
                        //"Top " + fullData['info']['category_name']
                    );
                registerFigureBBox(catHeader);
                return catHeader;
            }

            function showNotCatHeader(startingOffset, word, notCatName) {
                console.log("showNotCatHeader")
                return svg.append("text")
                    .attr('font-family', 'Helvetica, Arial, Sans-Serif')
                    .attr('font-size', '12px')
                    .attr('font-weight', 'bolder')
                    .attr('font-decoration', 'underline')
                    .attr("text-anchor", "start")
                    .attr("x", startingOffset)
                    .attr("y", word.node().getBBox().y + 3 * word.node().getBBox().height)
                    .text(notCatName);
            }

            function showTopTermsPane(data,
                                      registerFigureBBox,
                                      showAssociatedWordList,
                                      upperHeaderName,
                                      lowerHeaderName,
                                      startingOffset) {
                data = data.filter(term => (term.display === undefined || term.display === true));
                //var catHeader = showCatHeader(startingOffset, catName, registerFigureBBox);
                var catHeader = svg.append("text")
                    .attr("text-anchor", "start")
                    .attr("x", startingOffset)
                    .attr("dy", "6px")
                    .attr('font-family', 'Helvetica, Arial, Sans-Serif')
                    .attr('font-size', '12px')
                    .attr('font-weight', 'bolder')
                    .attr('font-decoration', 'underline')
                    .text(upperHeaderName
                        //"Top " + fullData['info']['category_name']
                    );
                registerFigureBBox(catHeader);
                var maxWidth = catHeader.node().getBBox().width
                var word = catHeader;
                var wordListData = showAssociatedWordList(data, word, catHeader, true, startingOffset);
                word = wordListData.word;
                maxWidth = Math.max(wordListData.maxWidth, maxWidth)

                var notCatHeader = showNotCatHeader(startingOffset, word, lowerHeaderName);
                word = notCatHeader;
                maxWidth = Math.max(notCatHeader.node().getBBox().width, maxWidth)
                console.log("characteristicXOffset", characteristicXOffset)
                console.log(catHeader.node().getBBox().x + maxWidth + 10)
                console.log(notCatHeader.node().getBBox().x + maxWidth + 10)

                var notWordListData = showAssociatedWordList(data, word, notCatHeader, false, startingOffset);
                word = wordListData.word;
                if (wordListData.maxWidth > maxWidth) {
                    maxWidth = wordListData.maxWidth;
                }
                /*
                characteristicXOffset = Math.max(
                    catHeader.node().getBBox().x + maxWidth + 10,
                    notCatHeader.node().getBBox().x + maxWidth + 10
                )*/
                characteristicXOffset = catHeader.node().getBBox().x + Math.max(notWordListData.maxWidth, maxWidth) + 10

                return {
                    wordListData, notWordListData,
                    word, maxWidth, characteristicXOffset, startingOffset,
                    catHeader, notCatHeader, registerFigureBBox
                };
            }

            var payload = Object();
            if (showTopTerms) {
                var upperHeaderName = "Top " + fullData['info']['category_name'];
                var lowerHeaderName = "Top " + fullData['info']['not_category_name'];
                if (headerNames !== null) {
                    if (headerNames.upper !== undefined)
                        upperHeaderName = headerNames.upper;
                    if (headerNames.lower !== undefined)
                        lowerHeaderName = headerNames.lower;
                }
                payload.topTermsPane = showTopTermsPane(
                    data,
                    registerFigureBBox,
                    showAssociatedWordList,
                    upperHeaderName,
                    lowerHeaderName,
                    width + topTermsLeftBuffer
                );
                payload.showTopTermsPane = showTopTermsPane;
                payload.showAssociatedWordList = showAssociatedWordList;
                payload.showWordList = showWordList;

                /*var wordListData = topTermsPane.wordListData;
                var word = topTermsPane.word;
                var maxWidth = topTermsPane.maxWidth;
                var catHeader = topTermsPane.catHeader;
                var notCatHeader = topTermsPane.notCatHeader;
                var startingOffset = topTermsPane.startingOffset;*/
                characteristicXOffset = payload.topTermsPane.characteristicXOffset;
            }


            //if ((!nonTextFeaturesMode && !asianMode && showCharacteristic)
            if (showCharacteristic
                || (headerNames !== null && headerNames.right !== undefined)) {
                var sortMethod = backgroundScoreSort;
                var title = 'Characteristic';
                if (headerNames !== null && headerNames.right !== undefined) {
                    title = headerNames.right;
                }
                if (wordVecMaxPValue) {
                    title = 'Most similar';
                    sortMethod = scoreSortReverse;
                } else if (data.reduce(function (a, b) {
                    return a + b.bg
                }, 0) === 0) {
                    title = 'Most frequent';
                }
                word = svg.append("text")
                    .attr('font-family', 'Helvetica, Arial, Sans-Serif')
                    .attr("text-anchor", "start")
                    .attr('font-size', '12px')
                    .attr('font-weight', 'bolder')
                    .attr('font-decoration', 'underline')
                    .attr("x", characteristicXOffset)
                    .attr("dy", "6px")
                    .text(title);

                var rightSortMethod = sortMethod;
                if (rightOrderColumn !== undefined && rightOrderColumn !== null) {
                    rightSortMethod = ((a, b) => b.etc[rightOrderColumn] - a.etc[rightOrderColumn]);
                }

                var wordListData = showWordList(
                    word,
                    data.filter(term => (term.display === undefined || term.display === true))
                        .sort(rightSortMethod).slice(0, topTermsLength * 2 + 2),
                    characteristicXOffset
                );

                word = wordListData.word;
                maxWidth = wordListData.maxWidth;
                console.log(maxWidth);
                console.log(word.node().getBBox().x + maxWidth);

                svg.attr('width', word.node().getBBox().x + 3 * maxWidth + 10);
            }

            function performPartialLabeling(
                data,
                existingLabels,
                getX,
                getY,
                labelPriorityFunction = ((a, b) => Math.min(a.x, 1 - a.x, a.y, 1 - a.y) - Math.min(b.x, 1 - b.x, b.y, 1 - b.y))
            ) {
                for (i in existingLabels) {
                    rectHolder.remove(existingLabels[i].rect);
                    existingLabels[i].label.remove();
                }

                var labeledPoints = [];

                //var filteredData = data.filter(d=>d.display === undefined || d.display === true);
                //for (var i = 0; i < filteredData.length; i++) {
                data.sort(labelPriorityFunction).forEach(function (datum, i) {
                    //console.log(datum.i, datum.ci, i)
                    //var label = labelPointsIfPossible(i, getX(filteredData[i]), getY(filteredData[i]));
                    if (datum.display === undefined || datum.display === true) {
                        var label = labelPointsIfPossible(datum, getX(datum), getY(datum));
                        if (label !== false) {
                            //console.log("labeled")
                            labeledPoints.push(label)
                        }
                    }
                    //if (labelPointsIfPossible(i), true) numPointsLabeled++;
                })
                return labeledPoints;
            }

            //var labeledPoints = performPartialLabeling();
            var labeledPoints = [];
            var labelPriorityFunction = ((a, b) => Math.min(a.x, 1 - a.x, a.y, 1 - a.y) - Math.min(b.x, 1 - b.x, b.y, 1 - b.y))
            if (labelPriorityColumn !== undefined && labelPriorityColumn !== null) {
                labelPriorityFunction = (a, b) => b.etc[labelPriorityColumn] - a.etc[labelPriorityColumn];
            }

            labeledPoints = performPartialLabeling(
                data,
                labeledPoints,
                function (d) {
                    return d.x
                },
                function (d) {
                    return d.y
                },
                labelPriorityFunction
            );

            if (backgroundLabels !== null) {
                backgroundLabels.map(
                    function (label) {
                        svg.append("text")
                            .attr("x", x(label.X))
                            .attr("y", y(label.Y))
                            .attr("text-anchor", "middle")
                            .style("font-size", "30")
                            .style("fill", "rgb(200,200,200)")
                            .text(label.Text)
                            .lower()
                            .on('mouseover', function (d) {
                                d3.select(this).style('stroke', 'black').style('stroke-width', '1px').raise()
                            })
                            .on('mouseout', function (d) {
                                d3.select(this).style('stroke-width', '0px').style('fill', 'rgb(200,200,200)').lower()
                            })
                    }
                )
            }


            /*
            // pointset has to be sorted by X
            function convex(pointset) {
                function _cross(o, a, b) {
                    return (a[0] - o[0]) * (b[1] - o[1]) - (a[1] - o[1]) * (b[0] - o[0]);
                }

                function _upperTangent(pointset) {
                    var lower = [];
                    for (var l = 0; l < pointset.length; l++) {
                        while (lower.length >= 2 && (_cross(lower[lower.length - 2], lower[lower.length - 1], pointset[l]) <= 0)) {
                            lower.pop();
                        }
                        lower.push(pointset[l]);
                    }
                    lower.pop();
                    return lower;
                }

                function _lowerTangent(pointset) {
                    var reversed = pointset.reverse(),
                        upper = [];
                    for (var u = 0; u < reversed.length; u++) {
                        while (upper.length >= 2 && (_cross(upper[upper.length - 2], upper[upper.length - 1], reversed[u]) <= 0)) {
                            upper.pop();
                        }
                        upper.push(reversed[u]);
                    }
                    upper.pop();
                    return upper;
                }

                var convex,
                    upper = _upperTangent(pointset),
                    lower = _lowerTangent(pointset);
                convex = lower.concat(upper);
                convex.push(pointset[0]);
                return convex;
            }

            console.log("POINTSTORE")
            console.log(pointStore);
            pointStore.sort();
            var convexHull = convex(pointStore);
            var minX = convexHull.sort(function (a,b) {
                return a[0] < b[0] ? -1 : 1;
            })[0][0];
            var minY = convexHull.sort(function (a,b) {
                return a[1] < b[1] ? -1 : 1;
            })[0][0];
            //svg.append("text").text("BLAH BLAH").attr("text-anchor", "middle").attr("cx", x(0)).attr("y", minY);
            console.log("POINTSTORE")
            console.log(pointStore);
            console.log(convexHull);
            for (i in convexHull) {
                var i = parseInt(i);
                if (i + 1 == convexHull.length) {
                    var nextI = 0;
                } else {
                    var nextI = i + 1;
                }
                console.log(i, ',', nextI);
                svg.append("line")
                    .attr("x2", width)
                    .style("stroke", "#cc0000")
                    .style("stroke-width", "1px")
                    .attr("x1", convexHull[i][0])     // x position of the first end of the line
                    .attr("y1", convexHull[i][1])      // y position of the first end of the line
                    .attr("x2", convexHull[nextI][0])     // x position of the second end of the line
                    .attr("y2", convexHull[nextI][1]);    // y position of the second end of the line
            }*/

            function populateCorpusStats() {
                var wordCounts = {};
                var docCounts = {}
                fullData.docs.labels.forEach(function (x, i) {
                    var cnt = (
                        fullData.docs.texts[i]
                            .trim()
                            .replace(/['";:,.?¿\-!¡]+/g, '')
                            .match(/\S+/g) || []
                    ).length;
                    var name = null;
                    if (unifiedContexts) {
                        var name = fullData.docs.categories[x];
                        wordCounts[name] = wordCounts[name] ? wordCounts[name] + cnt : cnt;
                    } else {
                        if (fullData.docs.categories[x] == fullData.info.category_internal_name) {
                            name = fullData.info.category_name;
                        } else if (fullData.info.not_category_internal_names.indexOf(fullData.docs.categories[x]) > -1) {
                            name = fullData.info.not_category_name;
                        } else if (fullData.info.neutral_category_internal_names.indexOf(fullData.docs.categories[x]) > -1) {
                            name = fullData.info.neutral_category_name;
                        } else if (fullData.info.extra_category_internal_names.indexOf(fullData.docs.categories[x]) > -1) {
                            name = fullData.info.extra_category_name;
                        }
                        if (name) {
                            wordCounts[name] = wordCounts[name] ? wordCounts[name] + cnt : cnt
                        }
                    }
                    //!!!

                });
                fullData.docs.labels.forEach(function (x) {

                    if (unifiedContexts) {
                        var name = fullData.docs.categories[x];
                        docCounts[name] = docCounts[name] ? docCounts[name] + 1 : 1
                    } else {
                        var name = null;
                        if (fullData.docs.categories[x] == fullData.info.category_internal_name) {
                            name = fullData.info.category_name;
                        } else if (fullData.info.not_category_internal_names.indexOf(fullData.docs.categories[x]) > -1) {
                            name = fullData.info.not_category_name;
                        } else if (fullData.info.neutral_category_internal_names.indexOf(fullData.docs.categories[x]) > -1) {
                            name = fullData.info.neutral_category_name;
                        } else if (fullData.info.extra_category_internal_names.indexOf(fullData.docs.categories[x]) > -1) {
                            name = fullData.info.extra_category_name;
                        }
                        if (name) {
                            docCounts[name] = docCounts[name] ? docCounts[name] + 1 : 1
                        }
                    }
                });
                console.log("docCounts");
                console.log(docCounts)
                var messages = [];
                if (ignoreCategories) {
                    var wordCount = getCorpusWordCounts();
                    messages.push(
                        '<b>Document count: </b>' + fullData.docs.texts.length.toLocaleString('en') +
                        '; <b>word count: </b>'
                        + wordCount['sums'].reduce((a, b) => a + b, 0).toLocaleString('en')
                    )
                } else if (unifiedContexts) {
                    fullData.docs.categories.forEach(function (x, i) {
                        if (docCounts[x] > 0) {
                            var message = '<b>' + x + '</b>: ';
                            message += 'document count: '
                                + Number(docCounts[x]).toLocaleString('en')
                                + '; word count: '
                                + Number(wordCounts[x]).toLocaleString('en')
                            messages.push(message);
                        }
                    });
                } else {
                    [fullData.info.category_name,
                        fullData.info.not_category_name,
                        fullData.info.neutral_category_name,
                        fullData.info.extra_category_name].forEach(function (x, i) {
                        if (docCounts[x] > 0) {
                            messages.push('<b>' + x + '</b> document count: '
                                + Number(docCounts[x]).toLocaleString('en')
                                + '; word count: '
                                + Number(wordCounts[x]).toLocaleString('en'));
                        }
                    });
                }

                if (showCorpusStats) {
                    d3.select('#' + divName + '-' + 'corpus-stats')
                        .style('width', width + margin.left + margin.right + 200)
                        .append('div')
                        .html(messages.join('<br />'));
                }
            }


            if (fullData.docs) {
                populateCorpusStats();
            }

            if (saveSvgButton) {
                // from https://stackoverflow.com/questions/23218174/how-do-i-save-export-an-svg-file-after-creating-an-svg-with-d3-js-ie-safari-an
                var svgElement = document.getElementById(divName);

                var serializer = new XMLSerializer();
                var source = serializer.serializeToString(svgElement);

                if (!source.match(/^<svg[^>]+xmlns="http\:\/\/www\.w3\.org\/2000\/svg"/)) {
                    source = source.replace(/^<svg/, '<svg xmlns="https://www.w3.org/2000/svg"');
                }
                if (!source.match(/^<svg[^>]+"http\:\/\/www\.w3\.org\/1999\/xlink"/)) {
                    source = source.replace(/^<svg/, '<svg xmlns:xlink="https://www.w3.org/1999/xlink"');
                }

                source = '<?xml version="1.0" standalone="no"?>\r\n' + source;

                var url = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(source);

                var downloadLink = document.createElement("a");
                downloadLink.href = url;
                downloadLink.download = fullData['info']['category_name'] + ".svg";
                downloadLink.innerText = 'Download SVG';
                document.body.appendChild(downloadLink);

            }

            function rerender(xCoords, yCoords, color) {
                labeledPoints.forEach(function (p) {
                    p.label.remove();
                    rectHolder.remove(p.rect);
                });
                pointRects.forEach(function (rect) {
                    rectHolder.remove(rect);
                });
                pointRects = []
                /*
                var circles = d3.select('#' + divName).selectAll('circle')
                    .attr("cy", function (d) {return y(yCoords[d.i])})
                    .transition(0)
                    .attr("cx", function (d) {return x(xCoords[d.i])})
                    .transition(0);
                */
                d3.select('#' + divName).selectAll("dot").remove();
                d3.select('#' + divName).selectAll("circle").remove();
                console.log(this.fullData)
                console.log(this)
                console.log("X/Y coords")
                console.log(this.fullData.data.filter(d => d.display === undefined || d.display === true).map(d => [d.x, d.y]))
                var circles = this.svg//.select('#' + divName)
                    .selectAll("dot")
                    .data(this.fullData.data.filter(d => d.display === undefined || d.display === true))
                    //.filter(function (d) {return d.display === undefined || d.display === true})
                    .enter()
                    .append("circle")
                    .attr("cy", d => d.y)
                    .attr("cx", d => d.x)
                    .attr("r", d => 2)
                    .on("mouseover", function (d) {
                        /*var mySVGMatrix = circle.getScreenCTM()n
                            .translate(circle.cx.baseVal.value, circle.cy.baseVal.value);
                        var pageX = mySVGMatrix.e;
                        var pageY = mySVGMatrix.f;*/

                        /*showTooltip(
                            d,
                            d3.event.pageX,
                            d3.event.pageY
                        );*/
                        showToolTipForTerm(data, this, d.term, d, true);
                        d3.select(this).style("stroke", "black");
                    })
                    .on("click", function (d) {
                        var runDisplayTermContexts = true;
                        if (alternativeTermFunc != null) {
                            runDisplayTermContexts = alternativeTermFunc(d);
                        }
                        if (runDisplayTermContexts) {
                            displayTermContexts(data, gatherTermContexts(d), alwaysJump, includeAllContexts);
                        }
                    })
                    .on("mouseout", function (d) {
                        tooltip.transition()
                            .duration(0)
                            .style("opacity", 0);
                        d3.select(this).style("stroke", null);
                        d3.select('#' + divName + '-' + 'overlapped-terms')
                            .selectAll('div')
                            .remove();
                    });

                if (color !== null) {
                    console.log("COLOR")
                    console.log(color)
                    circles.style("fill", d => color(d));
                }
                xCoords.forEach((xCoord, i) => censorCircle(xCoord, yCoords[i]))
                labeledPoints = [];
                labeledPoints = performPartialLabeling(
                    this.fullData.data,
                    labeledPoints,
                    (d => d.ox), //function (d) {return xCoords[d.ci]},
                    (d => d.oy) //function (d) {return yCoords[d.ci]}

                );
            }

            //return [performPartialLabeling, labeledPoints];
            return {
                ...payload,
                ...{
                    'rerender': rerender,
                    'performPartialLabeling': performPartialLabeling,
                    'showToolTipForTerm': showToolTipForTerm,
                    'svg': svg,
                    'data': data,
                    'xLabel': xLabel,
                    'yLabel': yLabel,
                    'drawXLabel': drawXLabel,
                    'drawYLabel': drawYLabel,
                    'populateCorpusStats': populateCorpusStats
                }
            };
        }


        //fullData = getDataAndInfo();
        if (fullData.docs) {
            var corpusWordCounts = getCorpusWordCounts();
        }
        var payload = processData(fullData);

        // The tool tip is down here in order to make sure it has the highest z-index
        var tooltip = d3.select('#' + divName)
            .append("div")
            //.attr("class", getTooltipContent == null && sortByDist ? "tooltip" : "tooltipscore")
            .attr("class", "tooltipscore")
            .style("opacity", 0);

        plotInterface = {}
        if (payload.topTermsPane) {
            plotInterface.topTermsPane = payload.topTermsPane;
            plotInterface.showTopTermsPane = payload.showTopTermsPane;
            plotInterface.showAssociatedWordList = payload.showAssociatedWordList;
        }
        plotInterface.includeAllContexts = includeAllContexts;
        plotInterface.divName = divName;
        plotInterface.displayTermContexts = displayTermContexts;
        plotInterface.gatherTermContexts = gatherTermContexts;
        plotInterface.xLabel = payload.xLabel;
        plotInterface.yLabel = payload.yLabel;
        plotInterface.drawXLabel = payload.drawXLabel;
        plotInterface.drawYLabel = payload.drawYLabel;
        plotInterface.svg = payload.svg;
        plotInterface.termDict = termDict;
        plotInterface.showToolTipForTerm = payload.showToolTipForTerm;
        plotInterface.fullData = fullData;
        plotInterface.data = payload.data;
        plotInterface.rerender = payload.rerender;
        plotInterface.populateCorpusStats = payload.populateCorpusStats;
        plotInterface.handleSearch = handleSearch;
        plotInterface.handleSearchTerm = handleSearchTerm;
        plotInterface.highlightTerm = highlightTerm;
        plotInterface.y = y;
        plotInterface.x = x;
        plotInterface.tooltip = tooltip;
        plotInterface.alternativeTermFunc = alternativeTermFunc;

        plotInterface.showTooltipSimple = function (term) {
            plotInterface.showToolTipForTerm(
                plotInterface.data,
                plotInterface.svg,
                term.replace("'", "\\'"),
                plotInterface.termDict[term.replace("'", "\\'")]
            )
        };

        plotInterface.drawCategoryAssociation = function (category, otherCategory = null) {
            console.log("+++++++ Entering drawCategoryAssociation")
            console.log("Category: " + category)
            console.log("Other Category: " + otherCategory)
            var categoryNum = this.fullData.info.categories.indexOf(category);

            var otherCategoryNum = null;
            if (otherCategory !== null)
                otherCategoryNum = this.fullData.info.categories.indexOf(otherCategory);

            console.log("cat/other: " + category + "/" + otherCategory + " ::: " + categoryNum + "/" + otherCategoryNum)

            console.log("Full Data")
            console.log(this.fullData)
            /*
            var rawLogTermCounts = getTermCounts(this.fullData).map(Math.log);
            var maxRawLogTermCounts = Math.max(...rawLogTermCounts);
            var minRawLogTermCounts = Math.min(...rawLogTermCounts);
            var logTermCounts = rawLogTermCounts.map(
                x => (x - minRawLogTermCounts) / maxRawLogTermCounts
            )
            */

            //var rawScores = getCategoryDenseRankScores(this.fullData, categoryNum);
            //console.log("RAW SCORES")
            //console.log(rawScores);
            /*
            function logOddsRatioUninformativeDirichletPrior(fgFreqs, bgFreqs, alpha) {
                var fgVocabSize = fgFreqs.reduce((x,y) => x+y);
                var fgL = fgFreqs.map(x => (x + alpha)/((1+alpha)*fgVocabSize - x - alpha))
                var bgVocabSize = bgFreqs.reduce((x,y) => x+y);
                var bgL = bgFreqs.map(x => (x + alpha)/((1+alpha)*bgVocabSize - x - alpha))
                var pooledVar = fgFreqs.map(function(x, i) {
                    return (
                        1/(x + alpha)
                        + 1/((1+alpha)*fgVocabSize - x - alpha)
                        + 1/(bgFreqs[i] + alpha)
                        + 1/((1+alpha)*bgVocabSize - bgFreqs[i] - alpha))
                })
                return pooledVar.map(function(x, i) {
                    return (Math.log(fgL[i]) - Math.log(bgL[i]))/x;
                })
            }
            var rawScores = logOddsRatioUninformativeDirichletPrior(
                denseRanks.fgFreqs, denseRanks.bgFreqs, 0.01);
            */


            var denseRanks = getDenseRanks(this.fullData, categoryNum)
            if (otherCategoryNum !== null) {
                var otherDenseRanks = getDenseRanks(this.fullData, otherCategoryNum);
                denseRanks.bg = otherDenseRanks.fg;
                denseRanks.bgFreqs = otherDenseRanks.fgFreqs;
            }

            var rawScores = denseRanks.fg.map((x, i) => x - denseRanks.bg[i]);
            var minRawScores = Math.min(...rawScores);
            var maxRawScores = Math.max(...rawScores);

            var scores = rawScores.map(
                function (rawScore) {
                    if (rawScore == 0) {
                        return 0.5;
                    } else if (rawScore > 0) {
                        return rawScore / (2. * maxRawScores) + 0.5;
                    } else if (rawScore < 0) {
                        return 0.5 - rawScore / (2. * minRawScores);
                    }
                }
            )
            var fgFreqSum = denseRanks.fgFreqs.reduce((a, b) => a + b, 0)
            var bgFreqSum = denseRanks.bgFreqs.reduce((a, b) => a + b, 0)

            //!!! OLD and good
            var ox = denseRanks.bg;
            var oy = denseRanks.fg;

            var oxmax = Math.max(...ox)
            var oxmin = Math.min(...ox)
            var ox = ox.map(x => (x - oxmin) / (oxmax - oxmin))
            var oymax = Math.max(...oy)
            var oymin = Math.min(...oy)
            var oy = oy.map(x => (x - oymin) / (oymax - oymin))
            //var ox = logTermCounts
            //var oy = scores;
            var xf = this.x;
            var yf = this.y;

            this.fullData.data = this.fullData.data.map(function (term, i) {
                //term.ci = i;
                term.s = scores[term.i];
                term.os = rawScores[term.i];
                term.cat = denseRanks.fgFreqs[term.i];
                term.ncat = denseRanks.bgFreqs[term.i];
                term.cat25k = parseInt(denseRanks.fgFreqs[term.i] * 25000 / fgFreqSum);
                term.ncat25k = parseInt(denseRanks.bgFreqs[term.i] * 25000 / bgFreqSum);
                term.x = xf(ox[term.i]) // logTermCounts[term.i];
                term.y = yf(oy[term.i]) // scores[term.i];
                term.ox = ox[term.i];
                term.oy = oy[term.i];
                term.display = true;
                return term;
            })

            // Feature selection
            var targetTermsToShow = 1500;

            var sortedBg = denseRanks.bg.map((x, i) => [x, i]).sort((a, b) => b[0] - a[0]).map(x => x[1]).slice(0, parseInt(targetTermsToShow / 2));
            var sortedFg = denseRanks.fg.map((x, i) => [x, i]).sort((a, b) => b[0] - a[0]).map(x => x[1]).slice(0, parseInt(targetTermsToShow / 2));
            var sortedScores = denseRanks.fg.map((x, i) => [x, i]).sort((a, b) => b[0] - a[0]).map(x => x[1]);
            var myFullData = this.fullData

            sortedBg.concat(sortedFg)//.concat(sortedScores.slice(0, parseInt(targetTermsToShow/2))).concat(sortedScores.slice(-parseInt(targetTermsToShow/4)))
                .forEach(function (i) {
                    myFullData.data[i].display = true;
                })

            console.log('newly filtered')
            console.log(myFullData)

            // begin rescaling to ignore hidden terms
            /*
            function scaleDenseRanks(ranks) {
                var max = Math.max(...ranks);
                return ranks.map(x=>x/max)
            }
            var filteredData = myFullData.data.filter(d=>d.display);
            var catRanks = scaleDenseRanks(denseRank(filteredData.map(d=>d.cat)))
            var ncatRanks = scaleDenseRanks(denseRank(filteredData.map(d=>d.ncat)))
            var rawScores = catRanks.map((x,i) => x - ncatRanks[i]);
            function stretch_0_1(scores) {
                var max = 1.*Math.max(...rawScores);
                var min = -1.*Math.min(...rawScores);
                return scores.map(function(x, i) {
                    if(x == 0) return 0.5;
                    if(x > 0) return (x/max + 1)/2;
                    return (x/min + 1)/2;
                })
            }
            var scores = stretch_0_1(rawScores);
            console.log(scores)
            filteredData.forEach(function(d, i) {
                d.x = xf(catRanks[i]);
                d.y = yf(ncatRanks[i]);
                d.ox = catRanks[i];
                d.oy = ncatRanks[i];
                d.s = scores[i];
                d.os = rawScores[i];
            });
            console.log("rescaled");
            */
            // end rescaling


            this.rerender(//denseRanks.bg,
                fullData.data.map(x => x.ox), //ox
                //denseRanks.fg,
                fullData.data.map(x => x.oy), //oy,
                d => d3.interpolateRdYlBu(d.s));
            if (this.yLabel !== undefined) {
                this.yLabel.remove()
            }
            if (this.xLabel !== undefined) {
                this.xLabel.remove()
            }
            var leftName = this.fullData.info.categories[categoryNum];
            var bottomName = "Not " + this.fullData.info.categories[categoryNum];
            if (otherCategoryNum !== null) {
                bottomName = this.fullData.info.categories[otherCategoryNum];
            }


            this.yLabel = this.drawYLabel(this.svg, leftName + ' Frequncy Rank')
            this.xLabel = this.drawXLabel(this.svg, bottomName + ' Frequency Rank')
            if (this.topTermsPane !== undefined) {
                this.topTermsPane.catHeader.remove()
                this.topTermsPane.notCatHeader.remove()
                this.topTermsPane.wordListData.wordObjList.map(x => x.remove())
                this.topTermsPane.notWordListData.wordObjList.map(x => x.remove())
            }
            this.showWordList = payload.showWordList;


            this.showAssociatedWordList = function (
                data,
                word,
                header,
                isUpperPane,
                xOffset = this.topTermsPane.startingOffset,
                length = 14
            ) {
                var sortedData = null;
                if (!isUpperPane) {
                    sortedData = data.map(x => x).sort((a, b) => scores[a.i] - scores[b.i])
                } else {
                    sortedData = data.map(x => x).sort((a, b) => scores[b.i] - scores[a.i])
                }
                console.log('sortedData');
                console.log(isUpperPane);
                console.log(sortedData.slice(0, length))
                console.log(payload)
                console.log(word)
                return payload.showWordList(word, sortedData.slice(0, length), xOffset);
            }
            if (this.topTermsPane !== undefined)
                this.topTermsPane = payload.showTopTermsPane(
                    this.data,
                    this.topTermsPane.registerFigureBBox,
                    this.showAssociatedWordList,
                    "Top " + leftName,
                    "Top " + bottomName,
                    this.topTermsPane.startingOffset
                )

            fullData.info.category_name = leftName;
            fullData.info.not_category_name = bottomName;
            fullData.info.category_internal_name = this.fullData.info.categories[categoryNum];
            if (otherCategoryNum === null) {
                fullData.info.not_category_internal_names = this.fullData.info.categories
                    .filter(x => x !== this.fullData.info.categories[categoryNum]);
            } else {
                fullData.info.not_category_internal_names = this.fullData.info.categories
                    .filter(x => x === this.fullData.info.categories[otherCategoryNum]);

                fullData.info.neutral_category_internal_names = this.fullData.info.categories
                    .filter(x => (x !== this.fullData.info.categories[categoryNum]
                        && x !== this.fullData.info.categories[otherCategoryNum]));
                fullData.info.neutral_category_name = "All Others";

            }
            console.log("fullData.info.not_category_internal_names");
            console.log(fullData.info.not_category_internal_names);
            ['snippets', 'snippetsalt', 'termstats',
                'overlapped-terms-clicked', 'categoryinfo',
                'cathead', 'cat', 'corpus-stats', 'notcathead',
                'notcat', 'neuthead', 'neut'
            ].forEach(function (divSubName) {
                var mydiv = '#' + divName + '-' + divSubName;
                console.log("Clearing");
                console.log(mydiv);
                d3.select(mydiv).selectAll("*").remove();
                d3.select(mydiv).html("");

            });
            this.populateCorpusStats();

            console.log(fullData)
        };

        plotInterface.yAxisLogCounts = function (termInfo) {
            console.log("yAxisLogCounts");
            console.log(termInfo)
            //var categoryNum = this.fullData.docs.categories.indexOf(categoryName);
            //console.log("CatNum"); console.log(categoryNum)
            var categoryNum = termInfo.i;

            var denseRanks = getDenseRanks(this.fullData, categoryNum)
            console.log("denseRanks")
            console.log(denseRanks);

            var rawScores = denseRanks.fg.map((x, i) => x - denseRanks.bg[i]);
            var minRawScores = Math.min(...rawScores);
            var maxRawScores = Math.max(...rawScores);

            var scores = rawScores.map(
                function (rawScore) {
                    if (rawScore == 0) {
                        return 0.5;
                    } else if (rawScore > 0) {
                        return rawScore / (2. * maxRawScores) + 0.5;
                    } else if (rawScore < 0) {
                        return 0.5 - rawScore / (2. * minRawScores);
                    }
                }
            )
            var fgFreqSum = denseRanks.fgFreqs.reduce((a, b) => a + b, 0)
            var bgFreqSum = denseRanks.bgFreqs.reduce((a, b) => a + b, 0)

            var oy = denseRanks.fgFreqs.map(count => Math.log(count + 1) / Math.log(2))

            var oymax = Math.max(...oy)
            var oymin = Math.min(...oy)
            oy = oy.map(y => (y - oymin) / (oymax - oymin))
            var xf = this.x;
            var yf = this.y;
            var ox = this.fullData.data.map(term => term.ox);
            var oxmax = Math.max(...ox)
            var oxmin = Math.min(...ox)
            ox = ox.map(y => (y - oxmin) / (oxmax - oxmin))


            this.fullData.data = this.fullData.data.map(function (term, i) {
                term.s = 1;//scores[i];
                term.os = rawScores[i];
                term.cat = denseRanks.fgFreqs[i];
                term.ncat = denseRanks.bgFreqs[i];
                term.cat25k = parseInt(denseRanks.fgFreqs[i] * 25000 / fgFreqSum);
                term.ncat25k = parseInt(denseRanks.bgFreqs[i] * 25000 / bgFreqSum);
                //term.x = xf(term.ox) // scores[term.i];
                //term.ox = term.ox;
                term.y = yf(oy[i]) // scores[term.i];
                term.oy = oy[i];
                term.x = xf(ox[i]) // scores[term.i];
                term.ox = ox[i];
                term.display = true;
                return term;
            })


            this.rerender(//denseRanks.bg,
                this.fullData.data.map(point => point.ox), //ox
                this.fullData.data.map(point => point.oy), //oy,
                d => d3.interpolateRdYlBu(d.s)
            );

            if (this.yLabel !== undefined) {
                this.yLabel.remove()
                this.yLabel = this.drawYLabel(this.svg, this.fullData.info.categories[categoryNum] + ' log freq.')
            }

            if (this.topTermsPane !== undefined) {
                this.topTermsPane.catHeader.remove()
                this.topTermsPane.notCatHeader.remove()
                this.topTermsPane.wordListData.wordObjList.map(x => x.remove())
                this.topTermsPane.notWordListData.wordObjList.map(x => x.remove())
            }
            this.showWordList = payload.showWordList;


            this.showAssociatedWordList = function (data, word, header, isUpperPane, xOffset = this.topTermsPane.startingOffset, length = 14) {
                var sortedData = null;
                if (!isUpperPane) {
                    sortedData = data.map(x => x).sort((a, b) => scores[a.i] - scores[b.i])
                } else {
                    sortedData = data.map(x => x).sort((a, b) => scores[b.i] - scores[a.i])
                }
                console.log('sortedData');
                console.log(isUpperPane);
                console.log(sortedData.slice(0, length))
                console.log(payload)
                console.log(word)
                return payload.showWordList(word, sortedData.slice(0, length), xOffset);
            }
            var leftName = this.fullData.info.categories[categoryNum];
            var bottomName = "Not " + this.fullData.info.categories[categoryNum];

            if (this.topTermsPane !== undefined)
                this.topTermsPane = payload.showTopTermsPane(
                    this.data,
                    this.topTermsPane.registerFigureBBox,
                    this.showAssociatedWordList,
                    "Top " + leftName,
                    "Top " + bottomName,
                    this.topTermsPane.startingOffset
                )

            fullData.info.category_name = leftName;
            fullData.info.not_category_name = bottomName;
            fullData.info.category_internal_name = this.fullData.info.categories[categoryNum];
            fullData.info.not_category_internal_names = this.fullData.info.categories
                .filter(x => x !== this.fullData.info.categories[categoryNum]);

            console.log("fullData.info.not_category_internal_names");
            console.log(fullData.info.not_category_internal_names);
            ['snippets', 'snippetsalt', 'termstats',
                'overlapped-terms-clicked', 'categoryinfo',
                'cathead', 'cat', 'corpus-stats', 'notcathead',
                'notcat', 'neuthead', 'neut'
            ].forEach(function (divSubName) {
                var mydiv = '#' + divName + '-' + divSubName;
                console.log("Clearing");
                console.log(mydiv);
                d3.select(mydiv).selectAll("*").remove();
                d3.select(mydiv).html("");

            });
            this.populateCorpusStats();
        };

        return plotInterface
    };
}(d3);

; 
 
 // Adapted from https://www.w3schools.com/howto/howto_js_autocomplete.asp
function autocomplete(inputField, autocompleteValues, myPlotInterface) {
    var currentFocus; // current position in autocomplete list.

    inputField.addEventListener("input", function (e) {
        var matchedCandidateListDiv, matchedCandidateDiv, i, userInput = this.value;

        closeAllLists();
        if (!userInput) {
            return false;
        }
        currentFocus = -1;

        matchedCandidateListDiv = document.createElement("div");
        matchedCandidateListDiv.setAttribute("id", this.id + "autocomplete-list");
        matchedCandidateListDiv.setAttribute("class", "autocomplete-items");

        this.parentNode.appendChild(matchedCandidateListDiv);
        autocompleteValues.map(function (candidate) {
            var candidatePrefix = candidate.substr(0, userInput.length);
            if (candidatePrefix.toLowerCase() === userInput.toLowerCase()) {
                matchedCandidateDiv = document.createElement("div");
                matchedCandidateDiv.innerHTML = "<strong>" + candidatePrefix + "</strong>";
                matchedCandidateDiv.innerHTML += candidate.substr(userInput.length);
                matchedCandidateDiv.innerHTML += '<input type=hidden value="' + encodeURIComponent(candidate) + '">';
                matchedCandidateDiv.addEventListener("click", function (e) {
                    console.log("CLICK")
                    console.log(this.getElementsByTagName("input")[0].value)
                    inputField.value = decodeURIComponent(this.getElementsByTagName("input")[0].value);
                    console.log(inputField.value)
                    closeAllLists();
                    myPlotInterface.handleSearchTerm(inputField.value);
                });
                matchedCandidateListDiv.appendChild(matchedCandidateDiv);
            }
        });
    });

    inputField.addEventListener("keydown", function (keyboardEvent) {

        var candidateDivList = document.getElementById(this.id + "autocomplete-list");

        if (!candidateDivList)
            return true;

        var selectedCandidate = Array.prototype.find.call(
            candidateDivList.children,
            x => x.className !== ""
        );

        if (keyboardEvent.keyCode === 40 || keyboardEvent.keyCode === 9) { // down or tab
            keyboardEvent.preventDefault();
            currentFocus++;
            addActive(candidateDivList.getElementsByTagName("div"));
        } else if (keyboardEvent.keyCode === 38) { //up
            currentFocus--;
            addActive(candidateDivList.getElementsByTagName("div"));
        } else if (keyboardEvent.keyCode === 13) { // enter
            keyboardEvent.preventDefault();
            var selectedTerm = inputField.value;
            console.log("selected term");console.log(selectedTerm);
            console.log(myPlotInterface);
            //if (selectedCandidate)
            //    selectedTerm = selectedCandidate.children[1].value;
            myPlotInterface.handleSearchTerm(selectedTerm);
            closeAllLists(null);
        } else if (keyboardEvent.keyCode === 27) { // esc
            closeAllLists(null);
        }
    });

    function addActive(candidateDivList) {
        if (!candidateDivList) return false;

        removeActive(candidateDivList);

        if (currentFocus >= candidateDivList.length)
            currentFocus = 0;
        if (currentFocus < 0)
            currentFocus = (candidateDivList.length - 1);

        candidateDivList[currentFocus].classList.add("autocomplete-active");

        var selectedCandidate = Array.prototype.find.call(
            candidateDivList,
            x => x.className !== ""
        );

        if (selectedCandidate) {
            var candidateValue = decodeURIComponent(selectedCandidate.children[1].value);

            myPlotInterface.highlightTerm(candidateValue);
            inputField.value = candidateValue;
        }

    }

    function removeActive(candidateDivList) {
        Array.prototype.find.call(
            candidateDivList,
            x => x.classList.remove("autocomplete-active")
        );
    }

    function closeAllLists(elmnt) {
        /*close all autocomplete lists in the document,
        except the one passed as an argument:*/
        var x = document.getElementsByClassName("autocomplete-items");
        for (var i = 0; i < x.length; i++) {
            if (elmnt != x[i] && elmnt != inputField) {
                x[i].parentNode.removeChild(x[i]);
            }
        }
    }

    /*execute a function when someone clicks in the document:*/
    document.addEventListener("click", function (e) {
        closeAllLists(e.target);
    });
}

function getDataAndInfo() { return{"info": {"category_name": "Youth", "not_category_name": "Adult", "category_terms": ["things", "try", "actually", "awareness", "hearing", "native american", "tend", "american", "especially", "thoughts"], "not_category_terms": ["able", "having", "sure", "going", "threat", "different", "police", "services", "programs", "find"], "category_internal_name": "Youth", "not_category_internal_names": ["Adult"], "categories": ["Youth", "Adult"], "neutral_category_internal_names": [], "extra_category_internal_names": [], "neutral_category_name": "Neutral", "extra_category_name": "Extra"}, "data": [{"x": 0.8672566371681416, "y": 0.8259587020648967, "ox": 0.8672566371681416, "oy": 0.8259587020648967, "term": "time", "cat25k": 89, "ncat25k": 104, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 21, "ncat": 24, "s": 0.20943952802359883, "os": -0.07192982456140351, "bg": 9.904043911255765e-08}, {"x": 1.0, "y": 1.0, "ox": 1.0, "oy": 1.0, "term": "i", "cat25k": 3029, "ncat25k": 3788, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 712, "ncat": 876, "s": 0.43952802359882004, "os": 0.0, "bg": 1.0290836107425155e-06}, {"x": 0.7522123893805309, "y": 0.8525073746312685, "ox": 0.7522123893805309, "oy": 0.8525073746312685, "term": "ask", "cat25k": 106, "ncat25k": 69, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 25, "ncat": 16, "s": 0.9026548672566371, "os": 0.13508771929824565, "bg": 7.705727078671095e-07}, {"x": 0.9203539823008849, "y": 0.9292035398230089, "ox": 0.9203539823008849, "oy": 0.9292035398230089, "term": "like", "cat25k": 153, "ncat25k": 138, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 36, "ncat": 32, "s": 0.6342182890855457, "os": 0.03771929824561404, "bg": 2.612373056653522e-07}, {"x": 0.09144542772861357, "y": 0.22123893805309736, "ox": 0.09144542772861357, "oy": 0.22123893805309736, "term": "hear", "cat25k": 26, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 6, "ncat": 4, "s": 0.6194690265486726, "os": 0.02894736842105264, "bg": 4.215796505189013e-07}, {"x": 0.8289085545722714, "y": 0.8938053097345132, "ox": 0.8289085545722714, "oy": 0.8938053097345132, "term": "trying", "cat25k": 136, "ncat25k": 91, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 32, "ncat": 21, "s": 0.9292035398230089, "os": 0.1640350877192983, "bg": 1.8442224928473742e-06}, {"x": 0.967551622418879, "y": 0.7581120943952803, "ox": 0.967551622418879, "oy": 0.7581120943952803, "term": "having", "cat25k": 72, "ncat25k": 221, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 17, "ncat": 51, "s": 0.0029498525073746312, "os": -0.4543859649122807, "bg": 1.2434368932187962e-06}, {"x": 0.5899705014749262, "y": 0.2861356932153392, "ox": 0.5899705014749262, "oy": 0.2861356932153392, "term": "share", "cat25k": 30, "ncat25k": 48, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 11, "s": 0.17994100294985252, "os": -0.07719298245614034, "bg": 3.017391161422607e-07}, {"x": 0.2861356932153392, "y": 0.5781710914454278, "ox": 0.2861356932153392, "oy": 0.5781710914454278, "term": "problem", "cat25k": 47, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 11, "ncat": 7, "s": 0.7227138643067846, "os": 0.05964912280701756, "bg": 2.5527181321398376e-07}, {"x": 0.16519174041297935, "y": 0.5368731563421829, "ox": 0.16519174041297935, "oy": 0.5368731563421829, "term": "ill", "cat25k": 43, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 10, "ncat": 5, "s": 0.7876106194690266, "os": 0.07807017543859648, "bg": 1.856655546950301e-06}, {"x": 0.7551622418879056, "y": 0.5398230088495575, "ox": 0.7551622418879056, "oy": 0.5398230088495575, "term": "information", "cat25k": 43, "ncat25k": 69, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 10, "ncat": 16, "s": 0.10619469026548672, "os": -0.11491228070175438, "bg": 5.57575864385978e-08}, {"x": 0.05014749262536873, "y": 0.696165191740413, "ox": 0.05014749262536873, "oy": 0.696165191740413, "term": "great", "cat25k": 64, "ncat25k": 13, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 15, "ncat": 3, "s": 0.9587020648967552, "os": 0.19649122807017544, "bg": 1.1940237043953923e-07}, {"x": 0.943952802359882, "y": 0.9705014749262537, "ox": 0.943952802359882, "oy": 0.9705014749262537, "term": "native", "cat25k": 251, "ncat25k": 177, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 59, "ncat": 41, "s": 0.9174041297935103, "os": 0.15000000000000002, "bg": 5.685882295413426e-06}, {"x": 0.8997050147492626, "y": 0.9528023598820059, "ox": 0.8997050147492626, "oy": 0.9528023598820059, "term": "american", "cat25k": 196, "ncat25k": 117, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 46, "ncat": 27, "s": 0.9793510324483775, "os": 0.2421052631578947, "bg": 6.416196096179747e-07}, {"x": 0.9233038348082596, "y": 0.9498525073746312, "ox": 0.9233038348082596, "oy": 0.9498525073746312, "term": "mental", "cat25k": 183, "ncat25k": 138, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 43, "ncat": 32, "s": 0.9056047197640118, "os": 0.13771929824561402, "bg": 4.203040597253189e-06}, {"x": 0.9587020648967551, "y": 0.9616519174041298, "ox": 0.9587020648967551, "oy": 0.9616519174041298, "term": "health", "cat25k": 204, "ncat25k": 195, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 48, "ncat": 45, "s": 0.6932153392330384, "os": 0.047368421052631615, "bg": 4.2231395406043376e-07}, {"x": 0.7374631268436578, "y": 0.8082595870206489, "ox": 0.7374631268436578, "oy": 0.8082595870206489, "term": "culture", "cat25k": 85, "ncat25k": 65, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 20, "ncat": 15, "s": 0.7699115044247788, "os": 0.06929824561403508, "bg": 1.0201023110155545e-06}, {"x": 0.48672566371681414, "y": 0.5427728613569321, "ox": 0.48672566371681414, "oy": 0.5427728613569321, "term": "these", "cat25k": 43, "ncat25k": 39, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 10, "ncat": 9, "s": 0.46607669616519176, "os": 0.00789473684210526, "bg": 7.023794517930227e-08}, {"x": 0.2890855457227139, "y": 0.44542772861356933, "ox": 0.2890855457227139, "oy": 0.44542772861356933, "term": "focus", "cat25k": 38, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 7, "s": 0.5870206489675517, "os": 0.02631578947368421, "bg": 4.875012895932552e-07}, {"x": 0.9852507374631269, "y": 0.9852507374631269, "ox": 0.9852507374631269, "oy": 0.9852507374631269, "term": "suicide", "cat25k": 481, "ncat25k": 346, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 113, "ncat": 80, "s": 0.45722713864306785, "os": 0.0052631578947368585, "bg": 3.50573719341034e-05}, {"x": 0.887905604719764, "y": 0.8761061946902655, "ox": 0.887905604719764, "oy": 0.8761061946902655, "term": "prevention", "cat25k": 123, "ncat25k": 112, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 29, "ncat": 26, "s": 0.6047197640117994, "os": 0.026315789473684237, "bg": 3.833275114015541e-06}, {"x": 0.7581120943952803, "y": 0.855457227138643, "ox": 0.7581120943952803, "oy": 0.855457227138643, "term": "efforts", "cat25k": 111, "ncat25k": 69, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 26, "ncat": 16, "s": 0.9203539823008849, "os": 0.1517543859649123, "bg": 2.1968423581753223e-06}, {"x": 0.799410029498525, "y": 0.8112094395280236, "ox": 0.799410029498525, "oy": 0.8112094395280236, "term": "the", "cat25k": 85, "ncat25k": 82, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 20, "ncat": 19, "s": 0.4365781710914454, "os": -0.0008771929824561431, "bg": 3.3713889224252634e-09}, {"x": 0.36578171091445427, "y": 0.44837758112094395, "ox": 0.36578171091445427, "oy": 0.44837758112094395, "term": "purpose", "cat25k": 38, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 8, "s": 0.471976401179941, "os": 0.008771929824561403, "bg": 5.28532410221425e-07}, {"x": 0.8436578171091446, "y": 0.8613569321533924, "ox": 0.8436578171091446, "oy": 0.8613569321533924, "term": "understand", "cat25k": 115, "ncat25k": 95, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 27, "ncat": 22, "s": 0.7640117994100295, "os": 0.06315789473684214, "bg": 1.5874527218512967e-06}, {"x": 0.831858407079646, "y": 0.8643067846607669, "ox": 0.831858407079646, "oy": 0.8643067846607669, "term": "perspective", "cat25k": 115, "ncat25k": 91, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 27, "ncat": 21, "s": 0.8112094395280236, "os": 0.08070175438596494, "bg": 4.451056530133444e-06}, {"x": 0.8348082595870207, "y": 0.8289085545722714, "ox": 0.8348082595870207, "oy": 0.8289085545722714, "term": "best", "cat25k": 89, "ncat25k": 91, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 21, "ncat": 21, "s": 0.3893805309734513, "os": -0.019298245614035092, "bg": 2.2588727675231022e-07}, {"x": 0.9616519174041298, "y": 0.9174041297935103, "ox": 0.9616519174041298, "oy": 0.9174041297935103, "term": "support", "cat25k": 149, "ncat25k": 195, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 35, "ncat": 45, "s": 0.10029498525073745, "os": -0.11929824561403513, "bg": 4.2834950566445775e-07}, {"x": 0.6371681415929203, "y": 0.8141592920353983, "ox": 0.6371681415929203, "oy": 0.8141592920353983, "term": "young", "cat25k": 85, "ncat25k": 52, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 20, "ncat": 12, "s": 0.8938053097345132, "os": 0.1219298245614035, "bg": 4.693602370621217e-07}, {"x": 0.9911504424778761, "y": 0.9970501474926253, "ox": 0.9911504424778761, "oy": 0.9970501474926253, "term": "people", "cat25k": 825, "ncat25k": 502, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 194, "ncat": 116, "s": 0.6991150442477876, "os": 0.053508771929824506, "bg": 1.2908120684016306e-06}, {"x": 0.5929203539823009, "y": 0.45132743362831856, "ox": 0.5929203539823009, "oy": 0.45132743362831856, "term": "high", "cat25k": 38, "ncat25k": 48, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 11, "s": 0.2890855457227139, "os": -0.043859649122807015, "bg": 1.1579861290689429e-07}, {"x": 0.8731563421828908, "y": 0.8967551622418879, "ox": 0.8731563421828908, "oy": 0.8967551622418879, "term": "risk", "cat25k": 136, "ncat25k": 108, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 32, "ncat": 25, "s": 0.8377581120943953, "os": 0.09385964912280709, "bg": 1.2458976088995386e-06}, {"x": 0.3687315634218289, "y": 0.45427728613569324, "ox": 0.3687315634218289, "oy": 0.45427728613569324, "term": "ask native", "cat25k": 38, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 8, "s": 0.471976401179941, "os": 0.008771929824561403, "bg": 0.0}, {"x": 0.8908554572271387, "y": 0.9557522123893806, "ox": 0.8908554572271387, "oy": 0.9557522123893806, "term": "native american", "cat25k": 196, "ncat25k": 112, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 46, "ncat": 26, "s": 0.9852507374631267, "os": 0.2596491228070175, "bg": 0.0}, {"x": 0.37168141592920356, "y": 0.45722713864306785, "ox": 0.37168141592920356, "oy": 0.45722713864306785, "term": "american mental", "cat25k": 38, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 8, "s": 0.471976401179941, "os": 0.008771929824561403, "bg": 0.0}, {"x": 0.9144542772861357, "y": 0.9351032448377581, "ox": 0.9144542772861357, "oy": 0.9351032448377581, "term": "mental health", "cat25k": 162, "ncat25k": 130, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 38, "ncat": 30, "s": 0.8613569321533923, "os": 0.10614035087719298, "bg": 0.0}, {"x": 0.3746312684365782, "y": 0.46017699115044247, "ox": 0.3746312684365782, "oy": 0.46017699115044247, "term": "health culture", "cat25k": 38, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 8, "s": 0.471976401179941, "os": 0.008771929824561403, "bg": 0.0}, {"x": 0.3775811209439528, "y": 0.4631268436578171, "ox": 0.3775811209439528, "oy": 0.4631268436578171, "term": "culture these", "cat25k": 38, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 8, "s": 0.471976401179941, "os": 0.008771929824561403, "bg": 0.0}, {"x": 0.2920353982300885, "y": 0.46607669616519176, "ox": 0.2920353982300885, "oy": 0.46607669616519176, "term": "these focus", "cat25k": 38, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 7, "s": 0.5870206489675517, "os": 0.02631578947368421, "bg": 0.0}, {"x": 0.2949852507374631, "y": 0.4690265486725664, "ox": 0.2949852507374631, "oy": 0.4690265486725664, "term": "focus suicide", "cat25k": 38, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 7, "s": 0.5870206489675517, "os": 0.02631578947368421, "bg": 0.0}, {"x": 0.8761061946902655, "y": 0.8702064896755162, "ox": 0.8761061946902655, "oy": 0.8702064896755162, "term": "suicide prevention", "cat25k": 119, "ncat25k": 108, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 28, "ncat": 25, "s": 0.6106194690265487, "os": 0.02719298245614038, "bg": 0.0}, {"x": 0.3805309734513274, "y": 0.616519174041298, "ox": 0.3805309734513274, "oy": 0.616519174041298, "term": "prevention efforts", "cat25k": 51, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 12, "ncat": 8, "s": 0.7197640117994101, "os": 0.05877192982456142, "bg": 0.0}, {"x": 0.29793510324483774, "y": 0.471976401179941, "ox": 0.29793510324483774, "oy": 0.471976401179941, "term": "efforts the", "cat25k": 38, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 7, "s": 0.5870206489675517, "os": 0.02631578947368421, "bg": 0.0}, {"x": 0.3008849557522124, "y": 0.4749262536873156, "ox": 0.3008849557522124, "oy": 0.4749262536873156, "term": "the purpose", "cat25k": 38, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 7, "s": 0.5870206489675517, "os": 0.02631578947368421, "bg": 0.0}, {"x": 0.3834808259587021, "y": 0.4778761061946903, "ox": 0.3834808259587021, "oy": 0.4778761061946903, "term": "purpose understand", "cat25k": 38, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 8, "s": 0.471976401179941, "os": 0.008771929824561403, "bg": 0.0}, {"x": 0.3864306784660767, "y": 0.5457227138643068, "ox": 0.3864306784660767, "oy": 0.5457227138643068, "term": "understand perspective", "cat25k": 43, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 10, "ncat": 8, "s": 0.584070796460177, "os": 0.025438596491228066, "bg": 0.0}, {"x": 0.3893805309734513, "y": 0.4808259587020649, "ox": 0.3893805309734513, "oy": 0.4808259587020649, "term": "perspective best", "cat25k": 38, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 8, "s": 0.471976401179941, "os": 0.008771929824561403, "bg": 0.0}, {"x": 0.39233038348082594, "y": 0.4837758112094395, "ox": 0.39233038348082594, "oy": 0.4837758112094395, "term": "best support", "cat25k": 38, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 8, "s": 0.471976401179941, "os": 0.008771929824561403, "bg": 0.0}, {"x": 0.3952802359882006, "y": 0.48672566371681414, "ox": 0.3952802359882006, "oy": 0.48672566371681414, "term": "support young", "cat25k": 38, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 8, "s": 0.471976401179941, "os": 0.008771929824561403, "bg": 0.0}, {"x": 0.5958702064896755, "y": 0.6696165191740413, "ox": 0.5958702064896755, "oy": 0.6696165191740413, "term": "young people", "cat25k": 60, "ncat25k": 48, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 14, "ncat": 11, "s": 0.6401179941002949, "os": 0.03947368421052633, "bg": 0.0}, {"x": 0.39823008849557523, "y": 0.36283185840707965, "ox": 0.39823008849557523, "oy": 0.36283185840707965, "term": "people high", "cat25k": 34, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 8, "s": 0.40707964601769914, "os": -0.00789473684210526, "bg": 0.0}, {"x": 0.40117994100294985, "y": 0.4896755162241888, "ox": 0.40117994100294985, "oy": 0.4896755162241888, "term": "high risk", "cat25k": 38, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 8, "s": 0.471976401179941, "os": 0.008771929824561403, "bg": 0.0}, {"x": 0.8702064896755162, "y": 0.8849557522123894, "ox": 0.8702064896755162, "oy": 0.8849557522123894, "term": "risk suicide", "cat25k": 132, "ncat25k": 104, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 31, "ncat": 24, "s": 0.8407079646017699, "os": 0.09473684210526317, "bg": 0.0}, {"x": 0.5457227138643068, "y": 0.7610619469026548, "ox": 0.5457227138643068, "oy": 0.7610619469026548, "term": "primary", "cat25k": 72, "ncat25k": 43, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 17, "ncat": 10, "s": 0.864306784660767, "os": 0.10701754385964912, "bg": 8.288125191701267e-07}, {"x": 0.8790560471976401, "y": 0.887905604719764, "ox": 0.8790560471976401, "oy": 0.887905604719764, "term": "obstacles", "cat25k": 132, "ncat25k": 108, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 31, "ncat": 25, "s": 0.7846607669616519, "os": 0.07719298245614037, "bg": 2.8554922078206837e-05}, {"x": 0.4896755162241888, "y": 0.7227138643067846, "ox": 0.4896755162241888, "oy": 0.7227138643067846, "term": "addressing", "cat25k": 68, "ncat25k": 39, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 16, "ncat": 9, "s": 0.8761061946902655, "os": 0.10789473684210527, "bg": 5.323394626544171e-06}, {"x": 0.855457227138643, "y": 0.9203539823008849, "ox": 0.855457227138643, "oy": 0.9203539823008849, "term": "youth", "cat25k": 149, "ncat25k": 99, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 35, "ncat": 23, "s": 0.9498525073746312, "os": 0.17894736842105263, "bg": 2.255036151825908e-06}, {"x": 0.49262536873156343, "y": 0.7256637168141593, "ox": 0.49262536873156343, "oy": 0.7256637168141593, "term": "primary obstacles", "cat25k": 68, "ncat25k": 39, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 16, "ncat": 9, "s": 0.8761061946902655, "os": 0.10789473684210527, "bg": 0.0}, {"x": 0.40412979351032446, "y": 0.672566371681416, "ox": 0.40412979351032446, "oy": 0.672566371681416, "term": "obstacles efforts", "cat25k": 60, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 14, "ncat": 8, "s": 0.8200589970501475, "os": 0.09210526315789475, "bg": 0.0}, {"x": 0.40707964601769914, "y": 0.6755162241887905, "ox": 0.40707964601769914, "oy": 0.6755162241887905, "term": "efforts addressing", "cat25k": 60, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 14, "ncat": 8, "s": 0.8200589970501475, "os": 0.09210526315789475, "bg": 0.0}, {"x": 0.41002949852507375, "y": 0.7286135693215339, "ox": 0.41002949852507375, "oy": 0.7286135693215339, "term": "addressing native", "cat25k": 68, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 16, "ncat": 8, "s": 0.8967551622418879, "os": 0.12543859649122807, "bg": 0.0}, {"x": 0.41297935103244837, "y": 0.7315634218289085, "ox": 0.41297935103244837, "oy": 0.7315634218289085, "term": "american youth", "cat25k": 68, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 16, "ncat": 8, "s": 0.8967551622418879, "os": 0.12543859649122807, "bg": 0.0}, {"x": 0.5486725663716814, "y": 0.7345132743362832, "ox": 0.5486725663716814, "oy": 0.7345132743362832, "term": "youth suicide", "cat25k": 68, "ncat25k": 43, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 16, "ncat": 10, "s": 0.8171091445427728, "os": 0.09035087719298246, "bg": 0.0}, {"x": 0.02064896755162242, "y": 0.36578171091445427, "ox": 0.02064896755162242, "oy": 0.36578171091445427, "term": "explain", "cat25k": 34, "ncat25k": 9, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 2, "s": 0.8495575221238938, "os": 0.09736842105263158, "bg": 8.000630769729884e-07}, {"x": 0.7138643067846607, "y": 0.7374631268436578, "ox": 0.7138643067846607, "oy": 0.7374631268436578, "term": "what", "cat25k": 68, "ncat25k": 61, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 16, "ncat": 14, "s": 0.5634218289085545, "os": 0.020175438596491235, "bg": 7.385436045178959e-08}, {"x": 0.7610619469026548, "y": 0.8790560471976401, "ox": 0.7610619469026548, "oy": 0.8790560471976401, "term": "come", "cat25k": 128, "ncat25k": 69, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 30, "ncat": 16, "s": 0.9705014749262537, "os": 0.21842105263157902, "bg": 5.960855232149427e-07}, {"x": 0.9941002949852508, "y": 0.9941002949852508, "ox": 0.9941002949852508, "oy": 0.9941002949852508, "term": "think", "cat25k": 770, "ncat25k": 1012, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 181, "ncat": 234, "s": 0.44247787610619466, "os": 0.0017543859649122862, "bg": 3.809592543927895e-06}, {"x": 0.8141592920353983, "y": 0.7404129793510325, "ox": 0.8141592920353983, "oy": 0.7404129793510325, "term": "thank", "cat25k": 68, "ncat25k": 86, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 16, "ncat": 20, "s": 0.1710914454277286, "os": -0.0850877192982456, "bg": 1.1383634981214632e-06}, {"x": 0.640117994100295, "y": 0.8908554572271387, "ox": 0.640117994100295, "oy": 0.8908554572271387, "term": "try", "cat25k": 132, "ncat25k": 52, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 31, "ncat": 12, "s": 0.9970501474926253, "os": 0.30526315789473685, "bg": 7.51759061570422e-07}, {"x": 0.9380530973451328, "y": 0.9321533923303835, "ox": 0.9380530973451328, "oy": 0.9321533923303835, "term": "need", "cat25k": 157, "ncat25k": 160, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 37, "ncat": 37, "s": 0.56047197640118, "os": 0.019298245614035037, "bg": 4.6338171403706254e-07}, {"x": 0.8023598820058997, "y": 0.640117994100295, "ox": 0.8023598820058997, "oy": 0.640117994100295, "term": "look", "cat25k": 55, "ncat25k": 82, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 13, "ncat": 19, "s": 0.10324483775811209, "os": -0.11754385964912278, "bg": 3.6982005330516913e-07}, {"x": 0.6430678466076696, "y": 0.5486725663716814, "ox": 0.6430678466076696, "oy": 0.5486725663716814, "term": "issues", "cat25k": 43, "ncat25k": 52, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 10, "ncat": 12, "s": 0.2861356932153392, "os": -0.04473684210526316, "bg": 2.930980732798474e-07}, {"x": 0.8938053097345132, "y": 0.9734513274336283, "ox": 0.8938053097345132, "oy": 0.9734513274336283, "term": "things", "cat25k": 251, "ncat25k": 112, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 59, "ncat": 26, "s": 1.0, "os": 0.3429824561403509, "bg": 1.1487722037563473e-06}, {"x": 0.30383480825958703, "y": 0.09144542772861357, "ox": 0.30383480825958703, "oy": 0.09144542772861357, "term": "difficult", "cat25k": 17, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 4, "ncat": 7, "s": 0.24778761061946902, "os": -0.05701754385964912, "bg": 5.18251571845239e-07}, {"x": 0.7404129793510325, "y": 0.49262536873156343, "ox": 0.7404129793510325, "oy": 0.49262536873156343, "term": "life", "cat25k": 38, "ncat25k": 65, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 15, "s": 0.10914454277286134, "os": -0.11403508771929824, "bg": 1.565693908543572e-07}, {"x": 0.9970501474926253, "y": 0.9911504424778761, "ox": 0.9970501474926253, "oy": 0.9911504424778761, "term": "know", "cat25k": 659, "ncat25k": 1172, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 155, "ncat": 271, "s": 0.3333333333333333, "os": -0.03245614035087718, "bg": 2.7832646075502327e-06}, {"x": 0.02359882005899705, "y": 0.2890855457227139, "ox": 0.02359882005899705, "oy": 0.2890855457227139, "term": "awesome", "cat25k": 30, "ncat25k": 9, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 2, "s": 0.7994100294985251, "os": 0.08070175438596491, "bg": 1.171553356737932e-06}, {"x": 0.49557522123893805, "y": 0.551622418879056, "ox": 0.49557522123893805, "oy": 0.551622418879056, "term": "answer", "cat25k": 43, "ncat25k": 39, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 10, "ncat": 9, "s": 0.46607669616519176, "os": 0.00789473684210526, "bg": 5.876559981173975e-07}, {"x": 0.23303834808259588, "y": 0.2920353982300885, "ox": 0.23303834808259588, "oy": 0.2920353982300885, "term": "a", "cat25k": 30, "ncat25k": 26, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 6, "s": 0.5132743362831858, "os": 0.01052631578947369, "bg": 2.8630612720059385e-09}, {"x": 0.7817109144542773, "y": 0.6194690265486725, "ox": 0.7817109144542773, "oy": 0.6194690265486725, "term": "follow", "cat25k": 51, "ncat25k": 74, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 12, "ncat": 17, "s": 0.13864306784660768, "os": -0.09912280701754383, "bg": 8.406147113922585e-07}, {"x": 0.9262536873156342, "y": 0.8377581120943953, "ox": 0.9262536873156342, "oy": 0.8377581120943953, "term": "reach", "cat25k": 98, "ncat25k": 138, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 23, "ncat": 32, "s": 0.058997050147492625, "os": -0.17894736842105263, "bg": 3.0810532395636254e-06}, {"x": 0.551622418879056, "y": 0.6991150442477876, "ox": 0.551622418879056, "oy": 0.6991150442477876, "term": "disconnected", "cat25k": 64, "ncat25k": 43, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 15, "ncat": 10, "s": 0.7758112094395281, "os": 0.0736842105263158, "bg": 2.809037685487781e-05}, {"x": 0.9705014749262537, "y": 0.967551622418879, "ox": 0.9705014749262537, "oy": 0.967551622418879, "term": "community", "cat25k": 247, "ncat25k": 225, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 58, "ncat": 52, "s": 0.616519174041298, "os": 0.02807017543859658, "bg": 8.401649853367722e-07}, {"x": 0.8171091445427728, "y": 0.3687315634218289, "ox": 0.8171091445427728, "oy": 0.3687315634218289, "term": "services", "cat25k": 34, "ncat25k": 86, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 20, "s": 0.02064896755162242, "os": -0.21842105263157893, "bg": 9.960497095398098e-08}, {"x": 0.49852507374631266, "y": 0.6224188790560472, "ox": 0.49852507374631266, "oy": 0.6224188790560472, "term": "let", "cat25k": 51, "ncat25k": 39, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 12, "ncat": 9, "s": 0.6430678466076697, "os": 0.041228070175438614, "bg": 2.935491258620743e-07}, {"x": 0.168141592920354, "y": 0.2949852507374631, "ox": 0.168141592920354, "oy": 0.2949852507374631, "term": "use", "cat25k": 30, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 5, "s": 0.6135693215339233, "os": 0.028070175438596495, "bg": 3.333359384462856e-08}, {"x": 0.5014749262536873, "y": 0.5811209439528023, "ox": 0.5014749262536873, "oy": 0.5811209439528023, "term": "people disconnected", "cat25k": 47, "ncat25k": 39, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 11, "ncat": 9, "s": 0.5752212389380531, "os": 0.02456140350877195, "bg": 0.0}, {"x": 0.415929203539823, "y": 0.29793510324483774, "ox": 0.415929203539823, "oy": 0.29793510324483774, "term": "disconnected community", "cat25k": 30, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 8, "s": 0.3510324483775811, "os": -0.024561403508771923, "bg": 0.0}, {"x": 0.1710914454277286, "y": 0.0943952802359882, "ox": 0.1710914454277286, "oy": 0.0943952802359882, "term": "health services", "cat25k": 17, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 4, "ncat": 5, "s": 0.36578171091445427, "os": -0.021929824561403508, "bg": 0.0}, {"x": 0.41887905604719766, "y": 0.6430678466076696, "ox": 0.41887905604719766, "oy": 0.6430678466076696, "term": "friends", "cat25k": 55, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 13, "ncat": 8, "s": 0.7817109144542773, "os": 0.07543859649122808, "bg": 3.7924294295702153e-07}, {"x": 0.9085545722713865, "y": 0.9026548672566371, "ox": 0.9085545722713865, "oy": 0.9026548672566371, "term": "thing", "cat25k": 140, "ncat25k": 121, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 33, "ncat": 28, "s": 0.7138643067846607, "os": 0.05789473684210522, "bg": 1.2517207954685655e-06}, {"x": 0.0943952802359882, "y": 0.1504424778761062, "ox": 0.0943952802359882, "oy": 0.1504424778761062, "term": "got", "cat25k": 21, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 4, "s": 0.5339233038348082, "os": 0.012280701754385975, "bg": 1.2407641052734578e-07}, {"x": 0.8820058997050148, "y": 0.9233038348082596, "ox": 0.8820058997050148, "oy": 0.9233038348082596, "term": "friend", "cat25k": 149, "ncat25k": 108, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 35, "ncat": 25, "s": 0.911504424778761, "os": 0.14385964912280702, "bg": 7.764915174222469e-07}, {"x": 0.8584070796460177, "y": 0.7640117994100295, "ox": 0.8584070796460177, "oy": 0.7640117994100295, "term": "mean", "cat25k": 72, "ncat25k": 99, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 17, "ncat": 23, "s": 0.09734513274336283, "os": -0.12105263157894736, "bg": 9.95937620243906e-07}, {"x": 0.9351032448377581, "y": 0.8407079646017699, "ox": 0.9351032448377581, "oy": 0.8407079646017699, "term": "way", "cat25k": 98, "ncat25k": 151, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 23, "ncat": 35, "s": 0.035398230088495575, "os": -0.19649122807017538, "bg": 3.7966840847840665e-07}, {"x": 0.5988200589970502, "y": 0.22418879056047197, "ox": 0.5988200589970502, "oy": 0.22418879056047197, "term": "connection", "cat25k": 26, "ncat25k": 48, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 6, "ncat": 11, "s": 0.1504424778761062, "os": -0.093859649122807, "bg": 5.544993249459983e-07}, {"x": 0.9292035398230089, "y": 0.9262536873156342, "ox": 0.9292035398230089, "oy": 0.9262536873156342, "term": "you", "cat25k": 149, "ncat25k": 138, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 35, "ncat": 32, "s": 0.5663716814159292, "os": 0.021052631578947323, "bg": 4.4723387908402487e-08}, {"x": 0.6460176991150443, "y": 0.37168141592920356, "ox": 0.6460176991150443, "oy": 0.37168141592920356, "term": "somebody", "cat25k": 34, "ncat25k": 52, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 12, "s": 0.17699115044247787, "os": -0.07807017543859648, "bg": 3.602420322117618e-06}, {"x": 0.02654867256637168, "y": 0.49557522123893805, "ox": 0.02654867256637168, "oy": 0.49557522123893805, "term": "world", "cat25k": 38, "ncat25k": 9, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 2, "s": 0.8820058997050148, "os": 0.11403508771929824, "bg": 5.093201371634319e-08}, {"x": 0.17404129793510326, "y": 0.584070796460177, "ox": 0.17404129793510326, "oy": 0.584070796460177, "term": "real", "cat25k": 47, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 11, "ncat": 5, "s": 0.8407079646017699, "os": 0.09473684210526317, "bg": 1.0749487418250695e-07}, {"x": 0.4218289085545723, "y": 0.09734513274336283, "ox": 0.4218289085545723, "oy": 0.09734513274336283, "term": "feels", "cat25k": 17, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 4, "ncat": 8, "s": 0.1976401179941003, "os": -0.07456140350877193, "bg": 1.9629013284670832e-06}, {"x": 0.6017699115044248, "y": 0.3008849557522124, "ox": 0.6017699115044248, "oy": 0.3008849557522124, "term": "away", "cat25k": 30, "ncat25k": 48, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 11, "s": 0.17994100294985252, "os": -0.07719298245614034, "bg": 3.1900302622220824e-07}, {"x": 0.7433628318584071, "y": 0.6460176991150443, "ox": 0.7433628318584071, "oy": 0.6460176991150443, "term": "overall", "cat25k": 55, "ncat25k": 65, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 13, "ncat": 15, "s": 0.28023598820059, "os": -0.04736842105263156, "bg": 7.087999731668582e-07}, {"x": 0.9174041297935103, "y": 0.8997050147492626, "ox": 0.9174041297935103, "oy": 0.8997050147492626, "term": "feeling", "cat25k": 136, "ncat25k": 134, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 32, "ncat": 31, "s": 0.39823008849557523, "os": -0.011403508771929749, "bg": 4.7438615936965376e-06}, {"x": 0.7905604719764012, "y": 0.7020648967551623, "ox": 0.7905604719764012, "oy": 0.7020648967551623, "term": "sacramento", "cat25k": 64, "ncat25k": 78, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 15, "ncat": 18, "s": 0.22418879056047197, "os": -0.06666666666666665, "bg": 4.241499953761224e-06}, {"x": 0.9882005899705014, "y": 0.9882005899705014, "ox": 0.9882005899705014, "oy": 0.9882005899705014, "term": "feel", "cat25k": 489, "ncat25k": 350, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 115, "ncat": 81, "s": 0.45427728613569324, "os": 0.004385964912280715, "bg": 4.263728997993992e-06}, {"x": 0.8466076696165191, "y": 0.943952802359882, "ox": 0.8466076696165191, "oy": 0.943952802359882, "term": "actually", "cat25k": 174, "ncat25k": 95, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 41, "ncat": 22, "s": 0.9941002949852508, "os": 0.2798245614035088, "bg": 1.814024430186852e-06}, {"x": 0.6784660766961652, "y": 0.8731563421828908, "ox": 0.6784660766961652, "oy": 0.8731563421828908, "term": "especially", "cat25k": 119, "ncat25k": 56, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 28, "ncat": 13, "s": 0.976401179941003, "os": 0.23771929824561405, "bg": 1.3816221507728872e-06}, {"x": 0.6814159292035398, "y": 0.30383480825958703, "ox": 0.6814159292035398, "oy": 0.30383480825958703, "term": "start", "cat25k": 30, "ncat25k": 56, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 13, "s": 0.11504424778761062, "os": -0.11228070175438595, "bg": 2.470240823530862e-07}, {"x": 0.6843657817109144, "y": 0.5870206489675516, "ox": 0.6843657817109144, "oy": 0.5870206489675516, "term": "thinking", "cat25k": 47, "ncat25k": 56, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 11, "ncat": 13, "s": 0.2831858407079646, "os": -0.045614035087719274, "bg": 1.1608924641367062e-06}, {"x": 0.09734513274336283, "y": 0.30678466076696165, "ox": 0.09734513274336283, "oy": 0.30678466076696165, "term": "school", "cat25k": 30, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 4, "s": 0.6696165191740413, "os": 0.0456140350877193, "bg": 6.412658709550199e-08}, {"x": 0.6873156342182891, "y": 0.6253687315634219, "ox": 0.6873156342182891, "oy": 0.6253687315634219, "term": "place", "cat25k": 51, "ncat25k": 56, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 12, "ncat": 13, "s": 0.3421828908554572, "os": -0.02894736842105261, "bg": 2.262603520672621e-07}, {"x": 0.4247787610619469, "y": 0.22713864306784662, "ox": 0.4247787610619469, "oy": 0.22713864306784662, "term": "feelings", "cat25k": 26, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 6, "ncat": 8, "s": 0.30678466076696165, "os": -0.041228070175438586, "bg": 2.47493006333788e-06}, {"x": 0.7640117994100295, "y": 0.831858407079646, "ox": 0.7640117994100295, "oy": 0.831858407079646, "term": "my", "cat25k": 89, "ncat25k": 69, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 21, "ncat": 16, "s": 0.7669616519174041, "os": 0.06842105263157894, "bg": 6.982399565433568e-08}, {"x": 0.9823008849557522, "y": 0.976401179941003, "ox": 0.9823008849557522, "oy": 0.976401179941003, "term": "family", "cat25k": 255, "ncat25k": 298, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 60, "ncat": 69, "s": 0.2949852507374631, "os": -0.04385964912280693, "bg": 1.0150355564594879e-06}, {"x": 0.911504424778761, "y": 0.9056047197640118, "ox": 0.911504424778761, "oy": 0.9056047197640118, "term": "member", "cat25k": 145, "ncat25k": 125, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 34, "ncat": 29, "s": 0.7109144542772862, "os": 0.05701754385964919, "bg": 4.438603649109923e-07}, {"x": 0.7168141592920354, "y": 0.7050147492625368, "ox": 0.7168141592920354, "oy": 0.7050147492625368, "term": "struggling", "cat25k": 64, "ncat25k": 61, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 15, "ncat": 14, "s": 0.44837758112094395, "os": 0.0035087719298245723, "bg": 1.23182317475663e-05}, {"x": 0.7197640117994101, "y": 0.6489675516224189, "ox": 0.7197640117994101, "oy": 0.6489675516224189, "term": "depression", "cat25k": 55, "ncat25k": 61, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 13, "ncat": 14, "s": 0.3392330383480826, "os": -0.029824561403508754, "bg": 3.4744636891842583e-06}, {"x": 0.5545722713864307, "y": 0.5899705014749262, "ox": 0.5545722713864307, "oy": 0.5899705014749262, "term": "think overall", "cat25k": 47, "ncat25k": 43, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 11, "ncat": 10, "s": 0.46017699115044247, "os": 0.007017543859649145, "bg": 0.0}, {"x": 0.6902654867256637, "y": 0.6519174041297935, "ox": 0.6902654867256637, "oy": 0.6519174041297935, "term": "overall feeling", "cat25k": 55, "ncat25k": 56, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 13, "ncat": 13, "s": 0.39528023598820056, "os": -0.012280701754385948, "bg": 0.0}, {"x": 0.504424778761062, "y": 0.49852507374631266, "ox": 0.504424778761062, "oy": 0.49852507374631266, "term": "suicide sacramento", "cat25k": 38, "ncat25k": 39, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 9, "s": 0.40412979351032446, "os": -0.008771929824561403, "bg": 0.0}, {"x": 0.5073746312684366, "y": 0.5929203539823009, "ox": 0.5073746312684366, "oy": 0.5929203539823009, "term": "sacramento native", "cat25k": 47, "ncat25k": 39, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 11, "ncat": 9, "s": 0.5752212389380531, "os": 0.02456140350877195, "bg": 0.0}, {"x": 0.5103244837758112, "y": 0.6548672566371682, "ox": 0.5103244837758112, "oy": 0.6548672566371682, "term": "american community", "cat25k": 55, "ncat25k": 39, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 13, "ncat": 9, "s": 0.7168141592920354, "os": 0.05789473684210528, "bg": 0.0}, {"x": 0.17699115044247787, "y": 0.5014749262536873, "ox": 0.17699115044247787, "oy": 0.5014749262536873, "term": "my friend", "cat25k": 38, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 5, "s": 0.7286135693215339, "os": 0.06140350877192982, "bg": 0.0}, {"x": 0.8053097345132744, "y": 0.8820058997050148, "ox": 0.8053097345132744, "oy": 0.8820058997050148, "term": "friend family", "cat25k": 128, "ncat25k": 82, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 30, "ncat": 19, "s": 0.9380530973451328, "os": 0.1657894736842106, "bg": 0.0}, {"x": 0.9026548672566371, "y": 0.9085545722713865, "ox": 0.9026548672566371, "oy": 0.9085545722713865, "term": "family member", "cat25k": 145, "ncat25k": 117, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 34, "ncat": 27, "s": 0.8289085545722713, "os": 0.0921052631578948, "bg": 0.0}, {"x": 0.4277286135693215, "y": 0.504424778761062, "ox": 0.4277286135693215, "oy": 0.504424778761062, "term": "suicide struggling", "cat25k": 38, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 8, "s": 0.471976401179941, "os": 0.008771929824561403, "bg": 0.0}, {"x": 0.4306784660766962, "y": 0.5073746312684366, "ox": 0.4306784660766962, "oy": 0.5073746312684366, "term": "struggling depression", "cat25k": 38, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 8, "s": 0.471976401179941, "os": 0.008771929824561403, "bg": 0.0}, {"x": 0.9056047197640118, "y": 0.9410029498525073, "ox": 0.9056047197640118, "oy": 0.9410029498525073, "term": "talk", "cat25k": 170, "ncat25k": 117, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 40, "ncat": 27, "s": 0.9469026548672566, "os": 0.17543859649122806, "bg": 1.369233015338843e-06}, {"x": 0.029498525073746312, "y": 0.30973451327433627, "ox": 0.029498525073746312, "oy": 0.30973451327433627, "term": "happening", "cat25k": 30, "ncat25k": 9, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 2, "s": 0.7994100294985251, "os": 0.08070175438596491, "bg": 1.508185804134088e-06}, {"x": 0.5575221238938053, "y": 0.3746312684365782, "ox": 0.5575221238938053, "oy": 0.3746312684365782, "term": "training", "cat25k": 34, "ncat25k": 43, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 10, "s": 0.29793510324483774, "os": -0.04298245614035087, "bg": 2.0437907604261882e-07}, {"x": 0.9793510324483776, "y": 0.911504424778761, "ox": 0.9793510324483776, "oy": 0.911504424778761, "term": "going", "cat25k": 145, "ncat25k": 290, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 34, "ncat": 67, "s": 0.008849557522123894, "os": -0.2763157894736842, "bg": 1.3007226621934515e-06}, {"x": 0.4336283185840708, "y": 0.6784660766961652, "ox": 0.4336283185840708, "oy": 0.6784660766961652, "term": "do", "cat25k": 60, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 14, "ncat": 8, "s": 0.8200589970501475, "os": 0.09210526315789475, "bg": 4.6278481807646925e-08}, {"x": 0.7669616519174042, "y": 0.6814159292035398, "ox": 0.7669616519174042, "oy": 0.6814159292035398, "term": "prepared", "cat25k": 60, "ncat25k": 69, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 14, "ncat": 16, "s": 0.27728613569321536, "os": -0.0482456140350877, "bg": 1.8452224346449122e-06}, {"x": 0.976401179941003, "y": 0.9823008849557522, "ox": 0.976401179941003, "oy": 0.9823008849557522, "term": "help", "cat25k": 353, "ncat25k": 281, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 83, "ncat": 65, "s": 0.6430678466076697, "os": 0.041228070175438614, "bg": 4.843975817131508e-07}, {"x": 0.6047197640117994, "y": 0.6578171091445427, "ox": 0.6047197640117994, "oy": 0.6578171091445427, "term": "depressed", "cat25k": 55, "ncat25k": 48, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 13, "ncat": 11, "s": 0.5693215339233038, "os": 0.022807017543859665, "bg": 1.4231861936707353e-05}, {"x": 0.8082595870206489, "y": 0.7433628318584071, "ox": 0.8082595870206489, "oy": 0.7433628318584071, "term": "definitely", "cat25k": 68, "ncat25k": 82, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 16, "ncat": 19, "s": 0.2182890855457227, "os": -0.0675438596491228, "bg": 4.3924611311114505e-06}, {"x": 0.8613569321533924, "y": 0.8171091445427728, "ox": 0.8613569321533924, "oy": 0.8171091445427728, "term": "its", "cat25k": 85, "ncat25k": 99, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 20, "ncat": 23, "s": 0.21238938053097345, "os": -0.07105263157894737, "bg": 1.636094827021249e-07}, {"x": 0.10029498525073746, "y": 0.3775811209439528, "ox": 0.10029498525073746, "oy": 0.3775811209439528, "term": "situation", "cat25k": 34, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 4, "s": 0.7315634218289085, "os": 0.062280701754385964, "bg": 5.595140396759798e-07}, {"x": 0.6489675516224189, "y": 0.5103244837758112, "ox": 0.6489675516224189, "oy": 0.5103244837758112, "term": "or", "cat25k": 38, "ncat25k": 52, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 12, "s": 0.23303834808259588, "os": -0.06140350877192982, "bg": 1.6211496530057315e-08}, {"x": 0.9734513274336283, "y": 0.9587020648967551, "ox": 0.9734513274336283, "oy": 0.9587020648967551, "term": "person", "cat25k": 200, "ncat25k": 242, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 47, "ncat": 56, "s": 0.3185840707964602, "os": -0.03947368421052633, "bg": 1.403617264778531e-06}, {"x": 0.05309734513274336, "y": 0.3805309734513274, "ox": 0.05309734513274336, "oy": 0.3805309734513274, "term": "helping", "cat25k": 34, "ncat25k": 13, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 3, "s": 0.7964601769911503, "os": 0.07982456140350877, "bg": 9.041059602322418e-07}, {"x": 0.30678466076696165, "y": 0.7669616519174042, "ox": 0.30678466076696165, "oy": 0.7669616519174042, "term": "said", "cat25k": 72, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 17, "ncat": 7, "s": 0.9233038348082595, "os": 0.15964912280701754, "bg": 1.5208673118458294e-07}, {"x": 0.6076696165191741, "y": 0.7079646017699115, "ox": 0.6076696165191741, "oy": 0.7079646017699115, "term": "followup", "cat25k": 64, "ncat25k": 48, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 15, "ncat": 11, "s": 0.7079646017699115, "os": 0.05614035087719299, "bg": 1.1781792146529242e-05}, {"x": 0.6519174041297935, "y": 0.8436578171091446, "ox": 0.6519174041297935, "oy": 0.8436578171091446, "term": "turn", "cat25k": 98, "ncat25k": 52, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 23, "ncat": 12, "s": 0.9410029498525073, "os": 0.17192982456140354, "bg": 8.712734762148815e-07}, {"x": 0.10324483775811209, "y": 0.3834808259587021, "ox": 0.10324483775811209, "oy": 0.3834808259587021, "term": "do feel", "cat25k": 34, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 4, "s": 0.7315634218289085, "os": 0.062280701754385964, "bg": 0.0}, {"x": 0.4365781710914454, "y": 0.3864306784660767, "ox": 0.4365781710914454, "oy": 0.3864306784660767, "term": "feel prepared", "cat25k": 34, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 8, "s": 0.40707964601769914, "os": -0.00789473684210526, "bg": 0.0}, {"x": 0.43952802359882004, "y": 0.5132743362831859, "ox": 0.43952802359882004, "oy": 0.5132743362831859, "term": "prepared help", "cat25k": 38, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 8, "s": 0.471976401179941, "os": 0.008771929824561403, "bg": 0.0}, {"x": 0.30973451327433627, "y": 0.5162241887905604, "ox": 0.30973451327433627, "oy": 0.5162241887905604, "term": "help friend", "cat25k": 38, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 7, "s": 0.5870206489675517, "os": 0.02631578947368421, "bg": 0.0}, {"x": 0.31268436578171094, "y": 0.5958702064896755, "ox": 0.31268436578171094, "oy": 0.5958702064896755, "term": "member depressed", "cat25k": 47, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 11, "ncat": 7, "s": 0.7227138643067846, "os": 0.05964912280701756, "bg": 0.0}, {"x": 0.4424778761061947, "y": 0.5988200589970502, "ox": 0.4424778761061947, "oy": 0.5988200589970502, "term": "depressed risk", "cat25k": 47, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 11, "ncat": 8, "s": 0.6489675516224189, "os": 0.04210526315789476, "bg": 0.0}, {"x": 0.17994100294985252, "y": 0.6017699115044248, "ox": 0.17994100294985252, "oy": 0.6017699115044248, "term": "well", "cat25k": 47, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 11, "ncat": 5, "s": 0.8407079646017699, "os": 0.09473684210526317, "bg": 8.837414020764471e-08}, {"x": 0.2359882005899705, "y": 0.8023598820058997, "ox": 0.2359882005899705, "oy": 0.8023598820058997, "term": "d", "cat25k": 81, "ncat25k": 26, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 19, "ncat": 6, "s": 0.9646017699115045, "os": 0.21052631578947367, "bg": 1.3830956888639057e-07}, {"x": 0.9410029498525073, "y": 0.9144542772861357, "ox": 0.9410029498525073, "oy": 0.9144542772861357, "term": "good", "cat25k": 145, "ncat25k": 169, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 34, "ncat": 39, "s": 0.22713864306784662, "os": -0.06578947368421051, "bg": 3.9911366913935534e-07}, {"x": 0.23893805309734514, "y": 0.6283185840707964, "ox": 0.23893805309734514, "oy": 0.6283185840707964, "term": "bad", "cat25k": 51, "ncat25k": 26, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 12, "ncat": 6, "s": 0.8348082595870207, "os": 0.09385964912280703, "bg": 3.785054772213353e-07}, {"x": 0.10619469026548672, "y": 0.31268436578171094, "ox": 0.10619469026548672, "oy": 0.31268436578171094, "term": "happen", "cat25k": 30, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 4, "s": 0.6696165191740413, "os": 0.0456140350877193, "bg": 8.08169803234898e-07}, {"x": 0.44542772861356933, "y": 0.15339233038348082, "ox": 0.44542772861356933, "oy": 0.15339233038348082, "term": "tell", "cat25k": 21, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 8, "s": 0.23893805309734514, "os": -0.05789473684210525, "bg": 2.3729589210601172e-07}, {"x": 0.24188790560471976, "y": 0.3893805309734513, "ox": 0.24188790560471976, "oy": 0.3893805309734513, "term": "just", "cat25k": 34, "ncat25k": 26, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 6, "s": 0.607669616519174, "os": 0.027192982456140352, "bg": 6.049472321057456e-08}, {"x": 0.18289085545722714, "y": 0.15634218289085547, "ox": 0.18289085545722714, "oy": 0.15634218289085547, "term": "for", "cat25k": 21, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 5, "s": 0.4247787610619469, "os": -0.005263157894736831, "bg": 3.370785102449779e-09}, {"x": 0.8967551622418879, "y": 0.8466076696165191, "ox": 0.8967551622418879, "oy": 0.8466076696165191, "term": "care", "cat25k": 102, "ncat25k": 112, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 24, "ncat": 26, "s": 0.2625368731563422, "os": -0.05701754385964908, "bg": 4.437720942199337e-07}, {"x": 0.8200589970501475, "y": 0.8053097345132744, "ox": 0.8200589970501475, "oy": 0.8053097345132744, "term": "um", "cat25k": 81, "ncat25k": 86, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 19, "ncat": 20, "s": 0.3303834808259587, "os": -0.03508771929824561, "bg": 7.806636421622021e-06}, {"x": 0.7463126843657817, "y": 0.10029498525073746, "ox": 0.7463126843657817, "oy": 0.10029498525073746, "term": "lets", "cat25k": 17, "ncat25k": 65, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 4, "ncat": 15, "s": 0.03244837758112094, "os": -0.19736842105263158, "bg": 2.391298492701631e-06}, {"x": 0.31563421828908556, "y": 0.6607669616519174, "ox": 0.31563421828908556, "oy": 0.6607669616519174, "term": "stigma", "cat25k": 55, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 13, "ncat": 7, "s": 0.8318584070796461, "os": 0.09298245614035089, "bg": 3.3238299495359525e-05}, {"x": 0.2448377581120944, "y": 0.05604719764011799, "ox": 0.2448377581120944, "oy": 0.05604719764011799, "term": "easy", "cat25k": 13, "ncat25k": 26, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 3, "ncat": 6, "s": 0.26548672566371684, "os": -0.05614035087719298, "bg": 1.433547430987434e-07}, {"x": 0.56047197640118, "y": 0.10324483775811209, "ox": 0.56047197640118, "oy": 0.10324483775811209, "term": "comfortable", "cat25k": 17, "ncat25k": 43, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 4, "ncat": 10, "s": 0.1238938053097345, "os": -0.10964912280701754, "bg": 1.4333537842203617e-06}, {"x": 0.18584070796460178, "y": 0.10619469026548672, "ox": 0.18584070796460178, "oy": 0.10619469026548672, "term": "bringing", "cat25k": 17, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 4, "ncat": 5, "s": 0.36578171091445427, "os": -0.021929824561403508, "bg": 1.1260824467519403e-06}, {"x": 0.3185840707964602, "y": 0.39233038348082594, "ox": 0.3185840707964602, "oy": 0.39233038348082594, "term": "safe", "cat25k": 34, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 7, "s": 0.5103244837758112, "os": 0.009649122807017546, "bg": 4.748170114589963e-07}, {"x": 0.5634218289085545, "y": 0.5191740412979351, "ox": 0.5634218289085545, "oy": 0.5191740412979351, "term": "bring", "cat25k": 38, "ncat25k": 43, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 10, "s": 0.34808259587020646, "os": -0.02631578947368421, "bg": 6.594680865778166e-07}, {"x": 0.6548672566371682, "y": 0.7699115044247787, "ox": 0.6548672566371682, "oy": 0.7699115044247787, "term": "parents", "cat25k": 72, "ncat25k": 52, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 17, "ncat": 12, "s": 0.7728613569321534, "os": 0.07192982456140351, "bg": 9.500346942842405e-07}, {"x": 0.10914454277286136, "y": 0.1592920353982301, "ox": 0.10914454277286136, "oy": 0.1592920353982301, "term": "course", "cat25k": 21, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 4, "s": 0.5339233038348082, "os": 0.012280701754385975, "bg": 1.0112884227448543e-07}, {"x": 0.3215339233038348, "y": 0.10914454277286136, "ox": 0.3215339233038348, "oy": 0.10914454277286136, "term": "system", "cat25k": 17, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 4, "ncat": 7, "s": 0.24778761061946902, "os": -0.05701754385964912, "bg": 5.541713405036707e-08}, {"x": 0.05604719764011799, "y": 0.23008849557522124, "ox": 0.05604719764011799, "oy": 0.23008849557522124, "term": "lack", "cat25k": 26, "ncat25k": 13, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 6, "ncat": 3, "s": 0.6784660766961652, "os": 0.046491228070175444, "bg": 5.643334134477769e-07}, {"x": 0.24778761061946902, "y": 0.058997050147492625, "ox": 0.24778761061946902, "oy": 0.058997050147492625, "term": "therapy", "cat25k": 13, "ncat25k": 26, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 3, "ncat": 6, "s": 0.26548672566371684, "os": -0.05614035087719298, "bg": 4.678664999086491e-07}, {"x": 0.25073746312684364, "y": 0.5221238938053098, "ox": 0.25073746312684364, "oy": 0.5221238938053098, "term": "struggle", "cat25k": 38, "ncat25k": 26, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 6, "s": 0.6578171091445427, "os": 0.043859649122807015, "bg": 2.816480655331208e-06}, {"x": 0.32448377581120946, "y": 0.061946902654867256, "ox": 0.32448377581120946, "oy": 0.061946902654867256, "term": "finding", "cat25k": 13, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 3, "ncat": 7, "s": 0.20353982300884957, "os": -0.07368421052631578, "bg": 5.388421102091612e-07}, {"x": 0.11209439528023599, "y": 0.5250737463126843, "ox": 0.11209439528023599, "oy": 0.5250737463126843, "term": "points", "cat25k": 38, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 4, "s": 0.7905604719764011, "os": 0.07894736842105263, "bg": 2.89550508583775e-07}, {"x": 0.9528023598820059, "y": 0.9793510324483776, "ox": 0.9528023598820059, "oy": 0.9793510324483776, "term": "lot", "cat25k": 311, "ncat25k": 186, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 73, "ncat": 43, "s": 0.9351032448377581, "os": 0.16491228070175445, "bg": 2.180053063243302e-06}, {"x": 0.6932153392330384, "y": 0.8584070796460177, "ox": 0.6932153392330384, "oy": 0.8584070796460177, "term": "talking", "cat25k": 111, "ncat25k": 56, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 26, "ncat": 13, "s": 0.9616519174041298, "os": 0.20438596491228073, "bg": 2.12928639341498e-06}, {"x": 0.8377581120943953, "y": 0.8672566371681416, "ox": 0.8377581120943953, "oy": 0.8672566371681416, "term": "hard", "cat25k": 115, "ncat25k": 91, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 27, "ncat": 21, "s": 0.8112094395280236, "os": 0.08070175438596494, "bg": 7.380705881484623e-07}, {"x": 0.5663716814159292, "y": 0.16224188790560473, "ox": 0.5663716814159292, "oy": 0.16224188790560473, "term": "helpful", "cat25k": 21, "ncat25k": 43, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 10, "s": 0.15339233038348082, "os": -0.09298245614035086, "bg": 6.490295623446548e-07}, {"x": 0.2536873156342183, "y": 0.11209439528023599, "ox": 0.2536873156342183, "oy": 0.11209439528023599, "term": "health care", "cat25k": 17, "ncat25k": 26, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 4, "ncat": 6, "s": 0.32153392330383485, "os": -0.039473684210526314, "bg": 0.0}, {"x": 0.11504424778761062, "y": 0.528023598820059, "ox": 0.11504424778761062, "oy": 0.528023598820059, "term": "seek", "cat25k": 38, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 4, "s": 0.7905604719764011, "os": 0.07894736842105263, "bg": 1.0766285839671533e-06}, {"x": 0.8495575221238938, "y": 0.6047197640117994, "ox": 0.8495575221238938, "oy": 0.6047197640117994, "term": "find", "cat25k": 47, "ncat25k": 95, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 11, "ncat": 22, "s": 0.02654867256637168, "os": -0.20350877192982453, "bg": 1.3145913112386055e-07}, {"x": 0.6578171091445427, "y": 0.06489675516224189, "ox": 0.6578171091445427, "oy": 0.06489675516224189, "term": "appreciate", "cat25k": 13, "ncat25k": 52, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 3, "ncat": 12, "s": 0.06784660766961652, "os": -0.16140350877192983, "bg": 2.1500889670979766e-06}, {"x": 0.696165191740413, "y": 0.5545722713864307, "ox": 0.696165191740413, "oy": 0.5545722713864307, "term": "to", "cat25k": 43, "ncat25k": 56, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 10, "ncat": 13, "s": 0.23008849557522126, "os": -0.062280701754385964, "bg": 3.790065008418557e-09}, {"x": 0.9557522123893806, "y": 0.23303834808259588, "ox": 0.9557522123893806, "oy": 0.23303834808259588, "term": "able", "cat25k": 26, "ncat25k": 186, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 6, "ncat": 43, "s": 0.0, "os": -0.5850877192982455, "bg": 8.957691188367623e-07}, {"x": 0.7846607669616519, "y": 0.11504424778761062, "ox": 0.7846607669616519, "oy": 0.11504424778761062, "term": "different", "cat25k": 17, "ncat25k": 74, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 4, "ncat": 17, "s": 0.014749262536873156, "os": -0.2324561403508772, "bg": 2.335820346139767e-07}, {"x": 0.7699115044247787, "y": 0.7728613569321534, "ox": 0.7699115044247787, "oy": 0.7728613569321534, "term": "experience", "cat25k": 72, "ncat25k": 69, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 17, "ncat": 16, "s": 0.44247787610619466, "os": 0.0017543859649122862, "bg": 4.812291502457852e-07}, {"x": 0.6106194690265486, "y": 0.6637168141592921, "ox": 0.6106194690265486, "oy": 0.6637168141592921, "term": "yes", "cat25k": 55, "ncat25k": 48, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 13, "ncat": 11, "s": 0.5693215339233038, "os": 0.022807017543859665, "bg": 3.0073427656884903e-07}, {"x": 0.6607669616519174, "y": 0.7109144542772862, "ox": 0.6607669616519174, "oy": 0.7109144542772862, "term": "talked", "cat25k": 64, "ncat25k": 52, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 15, "ncat": 12, "s": 0.6371681415929203, "os": 0.038596491228070184, "bg": 5.626849826880587e-06}, {"x": 0.6135693215339233, "y": 0.5309734513274337, "ox": 0.6135693215339233, "oy": 0.5309734513274337, "term": "guess", "cat25k": 38, "ncat25k": 48, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 11, "s": 0.2890855457227139, "os": -0.043859649122807015, "bg": 1.3909371887886706e-06}, {"x": 0.5132743362831859, "y": 0.8200589970501475, "ox": 0.5132743362831859, "oy": 0.8200589970501475, "term": "curious", "cat25k": 85, "ncat25k": 39, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 20, "ncat": 9, "s": 0.943952802359882, "os": 0.17456140350877192, "bg": 6.84428692619652e-06}, {"x": 0.11799410029498525, "y": 0.16519174041297935, "ox": 0.11799410029498525, "oy": 0.16519174041297935, "term": "curious perspective", "cat25k": 21, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 4, "s": 0.5339233038348082, "os": 0.012280701754385975, "bg": 0.0}, {"x": 0.3274336283185841, "y": 0.5575221238938053, "ox": 0.3274336283185841, "oy": 0.5575221238938053, "term": "times", "cat25k": 43, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 10, "ncat": 7, "s": 0.6519174041297935, "os": 0.04298245614035087, "bg": 1.6751656607042313e-07}, {"x": 0.12094395280235988, "y": 0.168141592920354, "ox": 0.12094395280235988, "oy": 0.168141592920354, "term": "space", "cat25k": 21, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 4, "s": 0.5339233038348082, "os": 0.012280701754385975, "bg": 1.4812451893476548e-07}, {"x": 0.9646017699115044, "y": 0.9469026548672567, "ox": 0.9646017699115044, "oy": 0.9469026548672567, "term": "yeah", "cat25k": 179, "ncat25k": 199, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 42, "ncat": 46, "s": 0.3274336283185841, "os": -0.0368421052631579, "bg": 6.802558596891895e-06}, {"x": 0.7935103244837758, "y": 0.6843657817109144, "ox": 0.7935103244837758, "oy": 0.6843657817109144, "term": "stuff", "cat25k": 60, "ncat25k": 78, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 14, "ncat": 18, "s": 0.17404129793510323, "os": -0.08333333333333331, "bg": 7.856747336556516e-07}, {"x": 0.8230088495575221, "y": 0.56047197640118, "ox": 0.8230088495575221, "oy": 0.56047197640118, "term": "oh", "cat25k": 43, "ncat25k": 86, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 10, "ncat": 20, "s": 0.053097345132743355, "os": -0.1850877192982456, "bg": 7.382532556384124e-07}, {"x": 0.5162241887905604, "y": 0.1710914454277286, "ox": 0.5162241887905604, "oy": 0.1710914454277286, "term": "cultural", "cat25k": 21, "ncat25k": 39, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 9, "s": 0.19174041297935104, "os": -0.07543859649122805, "bg": 6.660868380741233e-07}, {"x": 0.25663716814159293, "y": 0.17404129793510326, "ox": 0.25663716814159293, "oy": 0.17404129793510326, "term": "spaces", "cat25k": 21, "ncat25k": 26, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 6, "s": 0.35988200589970504, "os": -0.022807017543859637, "bg": 1.4035814805845126e-06}, {"x": 0.058997050147492625, "y": 0.31563421828908556, "ox": 0.058997050147492625, "oy": 0.31563421828908556, "term": "access", "cat25k": 30, "ncat25k": 13, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 3, "s": 0.7522123893805309, "os": 0.06315789473684211, "bg": 9.17426571860661e-08}, {"x": 0.9498525073746312, "y": 0.9646017699115044, "ox": 0.9498525073746312, "oy": 0.9646017699115044, "term": "love", "cat25k": 230, "ncat25k": 182, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 54, "ncat": 42, "s": 0.8584070796460177, "os": 0.09912280701754383, "bg": 9.5485464163246e-07}, {"x": 0.44837758112094395, "y": 0.3952802359882006, "ox": 0.44837758112094395, "oy": 0.3952802359882006, "term": "create", "cat25k": 34, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 8, "s": 0.40707964601769914, "os": -0.00789473684210526, "bg": 2.3343140029617485e-07}, {"x": 0.1887905604719764, "y": 0.2359882005899705, "ox": 0.1887905604719764, "oy": 0.2359882005899705, "term": "personal", "cat25k": 26, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 6, "ncat": 5, "s": 0.5250737463126844, "os": 0.011403508771929832, "bg": 1.0247523241173102e-07}, {"x": 0.19174041297935104, "y": 0.17699115044247787, "ox": 0.19174041297935104, "oy": 0.17699115044247787, "term": "personal experience", "cat25k": 21, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 5, "s": 0.4247787610619469, "os": -0.005263157894736831, "bg": 0.0}, {"x": 0.5693215339233039, "y": 0.5634218289085545, "ox": 0.5693215339233039, "oy": 0.5634218289085545, "term": "feeling suicide", "cat25k": 43, "ncat25k": 43, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 10, "ncat": 10, "s": 0.40117994100294985, "os": -0.009649122807017546, "bg": 0.0}, {"x": 0.12389380530973451, "y": 0.39823008849557523, "ox": 0.12389380530973451, "oy": 0.39823008849557523, "term": "obviously", "cat25k": 34, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 4, "s": 0.7315634218289085, "os": 0.062280701754385964, "bg": 1.527076109282402e-06}, {"x": 0.8643067846607669, "y": 0.8230088495575221, "ox": 0.8643067846607669, "oy": 0.8230088495575221, "term": "little", "cat25k": 85, "ncat25k": 99, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 20, "ncat": 23, "s": 0.21238938053097345, "os": -0.07105263157894737, "bg": 4.595080786489325e-07}, {"x": 0.19469026548672566, "y": 0.23893805309734514, "ox": 0.19469026548672566, "oy": 0.23893805309734514, "term": "no", "cat25k": 26, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 6, "ncat": 5, "s": 0.5250737463126844, "os": 0.011403508771929832, "bg": 2.3476021141160103e-08}, {"x": 0.25958702064896755, "y": 0.06784660766961652, "ox": 0.25958702064896755, "oy": 0.06784660766961652, "term": "asking", "cat25k": 13, "ncat25k": 26, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 3, "ncat": 6, "s": 0.26548672566371684, "os": -0.05614035087719298, "bg": 9.044406225686878e-07}, {"x": 0.616519174041298, "y": 0.07079646017699115, "ox": 0.616519174041298, "oy": 0.07079646017699115, "term": "needs", "cat25k": 13, "ncat25k": 48, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 3, "ncat": 11, "s": 0.08259587020648967, "os": -0.14385964912280702, "bg": 2.2651908430566243e-07}, {"x": 0.5191740412979351, "y": 0.17994100294985252, "ox": 0.5191740412979351, "oy": 0.17994100294985252, "term": "there", "cat25k": 21, "ncat25k": 39, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 9, "s": 0.19174041297935104, "os": -0.07543859649122805, "bg": 3.993243870627724e-08}, {"x": 0.6991150442477876, "y": 0.014749262536873156, "ox": 0.6991150442477876, "oy": 0.014749262536873156, "term": "programs", "cat25k": 4, "ncat25k": 56, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 1, "ncat": 13, "s": 0.02359882005899705, "os": -0.21228070175438596, "bg": 1.9647420030614892e-07}, {"x": 0.3303834808259587, "y": 0.02359882005899705, "ox": 0.3303834808259587, "oy": 0.02359882005899705, "term": "families", "cat25k": 9, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 2, "ncat": 7, "s": 0.15929203539823011, "os": -0.09035087719298245, "bg": 3.8082973362843125e-07}, {"x": 0.6637168141592921, "y": 0.07374631268436578, "ox": 0.6637168141592921, "oy": 0.07374631268436578, "term": "places", "cat25k": 13, "ncat25k": 52, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 3, "ncat": 12, "s": 0.06784660766961652, "os": -0.16140350877192983, "bg": 5.801538308824122e-07}, {"x": 0.12684365781710916, "y": 0.40117994100294985, "ox": 0.12684365781710916, "oy": 0.40117994100294985, "term": "coming", "cat25k": 34, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 4, "s": 0.7315634218289085, "os": 0.062280701754385964, "bg": 3.4333175486559033e-07}, {"x": 0.45132743362831856, "y": 0.11799410029498525, "ox": 0.45132743362831856, "oy": 0.11799410029498525, "term": "events", "cat25k": 17, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 4, "ncat": 8, "s": 0.1976401179941003, "os": -0.07456140350877193, "bg": 1.1925491319062198e-07}, {"x": 0.45427728613569324, "y": 0.02654867256637168, "ox": 0.45427728613569324, "oy": 0.02654867256637168, "term": "welcome", "cat25k": 9, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 2, "ncat": 8, "s": 0.12979351032448377, "os": -0.10789473684210525, "bg": 1.7537788497497674e-07}, {"x": 0.3333333333333333, "y": 0.029498525073746312, "ox": 0.3333333333333333, "oy": 0.029498525073746312, "term": "communities", "cat25k": 9, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 2, "ncat": 7, "s": 0.15929203539823011, "os": -0.09035087719298245, "bg": 4.1876721075074073e-07}, {"x": 0.9469026548672567, "y": 0.9380530973451328, "ox": 0.9469026548672567, "oy": 0.9380530973451328, "term": "want", "cat25k": 162, "ncat25k": 177, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 38, "ncat": 41, "s": 0.39233038348082594, "os": -0.016666666666666607, "bg": 6.107353482425326e-07}, {"x": 0.061946902654867256, "y": 0.24188790560471976, "ox": 0.061946902654867256, "oy": 0.24188790560471976, "term": "describing", "cat25k": 26, "ncat25k": 13, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 6, "ncat": 3, "s": 0.6784660766961652, "os": 0.046491228070175444, "bg": 2.3577321498391174e-06}, {"x": 0.12979351032448377, "y": 0.40412979351032446, "ox": 0.12979351032448377, "oy": 0.40412979351032446, "term": "younger", "cat25k": 34, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 4, "s": 0.7315634218289085, "os": 0.062280701754385964, "bg": 2.002468041861594e-06}, {"x": 0.5221238938053098, "y": 0.0, "ox": 0.5221238938053098, "oy": 0.0, "term": "cousins", "cat25k": 0, "ncat25k": 39, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 0, "ncat": 9, "s": 0.07964601769911504, "os": -0.1587719298245614, "bg": 8.13771914199506e-06}, {"x": 0.5722713864306784, "y": 0.775811209439528, "ox": 0.5722713864306784, "oy": 0.775811209439528, "term": "bit", "cat25k": 72, "ncat25k": 43, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 17, "ncat": 10, "s": 0.864306784660767, "os": 0.10701754385964912, "bg": 6.575101799013603e-07}, {"x": 0.45722713864306785, "y": 0.017699115044247787, "ox": 0.45722713864306785, "oy": 0.017699115044247787, "term": "phone", "cat25k": 4, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 1, "ncat": 8, "s": 0.0943952802359882, "os": -0.12456140350877193, "bg": 7.013225872530528e-08}, {"x": 0.46017699115044247, "y": 0.7787610619469026, "ox": 0.46017699115044247, "oy": 0.7787610619469026, "term": "little bit", "cat25k": 72, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 17, "ncat": 8, "s": 0.9085545722713865, "os": 0.14210526315789473, "bg": 0.0}, {"x": 0.7227138643067846, "y": 0.40707964601769914, "ox": 0.7227138643067846, "oy": 0.40707964601769914, "term": "hey", "cat25k": 34, "ncat25k": 61, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 14, "s": 0.11209439528023597, "os": -0.1131578947368421, "bg": 1.5896258703517758e-06}, {"x": 0.336283185840708, "y": 0.3185840707964602, "ox": 0.336283185840708, "oy": 0.3185840707964602, "term": "big", "cat25k": 30, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 7, "s": 0.41887905604719766, "os": -0.007017543859649117, "bg": 1.2920810970639747e-07}, {"x": 0.4631268436578171, "y": 0.032448377581120944, "ox": 0.4631268436578171, "oy": 0.032448377581120944, "term": "food", "cat25k": 9, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 2, "ncat": 8, "s": 0.12979351032448377, "os": -0.10789473684210525, "bg": 1.1101357766548471e-07}, {"x": 0.7020648967551623, "y": 0.035398230088495575, "ox": 0.7020648967551623, "oy": 0.035398230088495575, "term": "knowing", "cat25k": 9, "ncat25k": 56, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 2, "ncat": 13, "s": 0.038348082595870206, "os": -0.1956140350877193, "bg": 2.0797460602330505e-06}, {"x": 0.8259587020648967, "y": 0.8495575221238938, "ox": 0.8259587020648967, "oy": 0.8495575221238938, "term": "resources", "cat25k": 102, "ncat25k": 86, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 24, "ncat": 20, "s": 0.6961651917404129, "os": 0.04824561403508776, "bg": 4.050021819492552e-07}, {"x": 0.7964601769911505, "y": 0.41002949852507375, "ox": 0.7964601769911505, "oy": 0.41002949852507375, "term": "ways", "cat25k": 34, "ncat25k": 78, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 18, "s": 0.056047197640117986, "os": -0.18333333333333332, "bg": 8.94568327343883e-07}, {"x": 0.3392330383480826, "y": 0.07669616519174041, "ox": 0.3392330383480826, "oy": 0.07669616519174041, "term": "compassion", "cat25k": 13, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 3, "ncat": 7, "s": 0.20353982300884957, "os": -0.07368421052631578, "bg": 5.662584698110622e-06}, {"x": 0.1976401179941003, "y": 0.12094395280235988, "ox": 0.1976401179941003, "oy": 0.12094395280235988, "term": "looks", "cat25k": 17, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 4, "ncat": 5, "s": 0.36578171091445427, "os": -0.021929824561403508, "bg": 4.0991868397519464e-07}, {"x": 0.9321533923303835, "y": 0.6666666666666666, "ox": 0.9321533923303835, "oy": 0.6666666666666666, "term": "sure", "cat25k": 55, "ncat25k": 138, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 13, "ncat": 32, "s": 0.0058997050147492625, "os": -0.3456140350877193, "bg": 8.141636319998837e-07}, {"x": 0.5250737463126843, "y": 0.2448377581120944, "ox": 0.5250737463126843, "oy": 0.2448377581120944, "term": "connected", "cat25k": 26, "ncat25k": 39, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 6, "ncat": 9, "s": 0.2359882005899705, "os": -0.05877192982456139, "bg": 1.0540240001264828e-06}, {"x": 0.06489675516224189, "y": 0.3215339233038348, "ox": 0.06489675516224189, "oy": 0.3215339233038348, "term": "in", "cat25k": 30, "ncat25k": 13, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 3, "s": 0.7522123893805309, "os": 0.06315789473684211, "bg": 2.3614370477216736e-09}, {"x": 0.6666666666666666, "y": 0.02064896755162242, "ox": 0.6666666666666666, "oy": 0.02064896755162242, "term": "tools", "cat25k": 4, "ncat25k": 52, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 1, "ncat": 12, "s": 0.04129793510324483, "os": -0.19473684210526315, "bg": 1.4010886059697013e-07}, {"x": 0.8112094395280236, "y": 0.7463126843657817, "ox": 0.8112094395280236, "oy": 0.7463126843657817, "term": "probably", "cat25k": 68, "ncat25k": 82, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 16, "ncat": 19, "s": 0.2182890855457227, "os": -0.0675438596491228, "bg": 1.1356108333055515e-06}, {"x": 0.26253687315634217, "y": 0.8348082595870207, "ox": 0.26253687315634217, "oy": 0.8348082595870207, "term": "hearing", "cat25k": 94, "ncat25k": 26, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 22, "ncat": 6, "s": 0.9882005899705015, "os": 0.2605263157894737, "bg": 1.4531985470920926e-06}, {"x": 0.7050147492625368, "y": 0.32448377581120946, "ox": 0.7050147492625368, "oy": 0.32448377581120946, "term": "knowledge", "cat25k": 30, "ncat25k": 56, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 13, "s": 0.11504424778761062, "os": -0.11228070175438595, "bg": 4.4561560642997927e-07}, {"x": 0.26548672566371684, "y": 0.07964601769911504, "ox": 0.26548672566371684, "oy": 0.07964601769911504, "term": "ability", "cat25k": 13, "ncat25k": 26, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 3, "ncat": 6, "s": 0.26548672566371684, "os": -0.05614035087719298, "bg": 3.460313909681424e-07}, {"x": 0.0, "y": 0.41297935103244837, "ox": 0.0, "oy": 0.41297935103244837, "term": "mentioned", "cat25k": 34, "ncat25k": 4, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 1, "s": 0.887905604719764, "os": 0.11491228070175438, "bg": 6.2980332186963e-07}, {"x": 0.528023598820059, "y": 0.038348082595870206, "ox": 0.528023598820059, "oy": 0.038348082595870206, "term": "identify", "cat25k": 9, "ncat25k": 39, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 2, "ncat": 9, "s": 0.09144542772861357, "os": -0.12543859649122807, "bg": 6.133560966508694e-07}, {"x": 0.6696165191740413, "y": 0.04129793510324484, "ox": 0.6696165191740413, "oy": 0.04129793510324484, "term": "believe", "cat25k": 9, "ncat25k": 52, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 2, "ncat": 12, "s": 0.06194690265486724, "os": -0.1780701754385965, "bg": 3.6875015729498897e-07}, {"x": 0.6194690265486725, "y": 0.5663716814159292, "ox": 0.6194690265486725, "oy": 0.5663716814159292, "term": "getting", "cat25k": 43, "ncat25k": 48, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 10, "ncat": 11, "s": 0.34513274336283184, "os": -0.027192982456140352, "bg": 4.4921014097454896e-07}, {"x": 0.20058997050147492, "y": 0.24778761061946902, "ox": 0.20058997050147492, "oy": 0.24778761061946902, "term": "idea", "cat25k": 26, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 6, "ncat": 5, "s": 0.5250737463126844, "os": 0.011403508771929832, "bg": 3.3601464364035697e-07}, {"x": 0.5752212389380531, "y": 0.7817109144542773, "ox": 0.5752212389380531, "oy": 0.7817109144542773, "term": "speak", "cat25k": 72, "ncat25k": 43, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 17, "ncat": 10, "s": 0.864306784660767, "os": 0.10701754385964912, "bg": 1.7231012644595717e-06}, {"x": 0.8407079646017699, "y": 0.7846607669616519, "ox": 0.8407079646017699, "oy": 0.7846607669616519, "term": "important", "cat25k": 72, "ncat25k": 91, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 17, "ncat": 21, "s": 0.168141592920354, "os": -0.08596491228070174, "bg": 5.583407412048275e-07}, {"x": 0.7256637168141593, "y": 0.7138643067846607, "ox": 0.7256637168141593, "oy": 0.7138643067846607, "term": "suicidal", "cat25k": 64, "ncat25k": 61, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 15, "ncat": 14, "s": 0.44837758112094395, "os": 0.0035087719298245723, "bg": 4.270254072754822e-05}, {"x": 0.13274336283185842, "y": 0.25073746312684364, "ox": 0.13274336283185842, "oy": 0.25073746312684364, "term": "wrong", "cat25k": 26, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 6, "ncat": 4, "s": 0.6194690265486726, "os": 0.02894736842105264, "bg": 4.0674429218785354e-07}, {"x": 0.3421828908554572, "y": 0.18289085545722714, "ox": 0.3421828908554572, "oy": 0.18289085545722714, "term": "understanding", "cat25k": 21, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 7, "s": 0.31268436578171094, "os": -0.04035087719298244, "bg": 4.857760521393152e-07}, {"x": 0.7286135693215339, "y": 0.18584070796460178, "ox": 0.7286135693215339, "oy": 0.18584070796460178, "term": "approach", "cat25k": 21, "ncat25k": 61, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 14, "s": 0.06489675516224187, "os": -0.16315789473684209, "bg": 5.921542368557733e-07}, {"x": 0.46607669616519176, "y": 0.3274336283185841, "ox": 0.46607669616519176, "oy": 0.3274336283185841, "term": "if", "cat25k": 30, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 8, "s": 0.3510324483775811, "os": -0.024561403508771923, "bg": 2.643167088055929e-08}, {"x": 0.5781710914454278, "y": 0.6076696165191741, "ox": 0.5781710914454278, "oy": 0.6076696165191741, "term": "open", "cat25k": 47, "ncat25k": 43, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 11, "ncat": 10, "s": 0.46017699115044247, "os": 0.007017543859649145, "bg": 1.7523038707190922e-07}, {"x": 0.672566371681416, "y": 0.2536873156342183, "ox": 0.672566371681416, "oy": 0.2536873156342183, "term": "sharing", "cat25k": 26, "ncat25k": 52, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 6, "ncat": 12, "s": 0.12094395280235988, "os": -0.11140350877192981, "bg": 1.192244489338337e-06}, {"x": 0.34513274336283184, "y": 0.12389380530973451, "ox": 0.34513274336283184, "oy": 0.12389380530973451, "term": "thank sharing", "cat25k": 17, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 4, "ncat": 7, "s": 0.24778761061946902, "os": -0.05701754385964912, "bg": 0.0}, {"x": 0.3480825958702065, "y": 0.1887905604719764, "ox": 0.3480825958702065, "oy": 0.1887905604719764, "term": "reflection", "cat25k": 21, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 7, "s": 0.31268436578171094, "os": -0.04035087719298244, "bg": 2.950084206466068e-06}, {"x": 0.26843657817109146, "y": 0.3303834808259587, "ox": 0.26843657817109146, "oy": 0.3303834808259587, "term": "experiences", "cat25k": 30, "ncat25k": 26, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 6, "s": 0.5132743362831858, "os": 0.01052631578947369, "bg": 1.0769343241957527e-06}, {"x": 0.5309734513274337, "y": 0.6106194690265486, "ox": 0.5309734513274337, "oy": 0.6106194690265486, "term": "it", "cat25k": 47, "ncat25k": 39, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 11, "ncat": 9, "s": 0.5752212389380531, "os": 0.02456140350877195, "bg": 1.4218794554925991e-08}, {"x": 0.20353982300884957, "y": 0.12684365781710916, "ox": 0.20353982300884957, "oy": 0.12684365781710916, "term": "sounds", "cat25k": 17, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 4, "ncat": 5, "s": 0.36578171091445427, "os": -0.021929824561403508, "bg": 5.806191083490415e-07}, {"x": 0.7079646017699115, "y": 0.415929203539823, "ox": 0.7079646017699115, "oy": 0.415929203539823, "term": "loved", "cat25k": 34, "ncat25k": 56, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 13, "s": 0.14749262536873156, "os": -0.09561403508771929, "bg": 2.1283685993875162e-06}, {"x": 0.7728613569321534, "y": 0.19174041297935104, "ox": 0.7728613569321534, "oy": 0.19174041297935104, "term": "ones", "cat25k": 21, "ncat25k": 69, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 16, "s": 0.02949852507374631, "os": -0.1982456140350877, "bg": 1.1484129616449211e-06}, {"x": 0.20648967551622419, "y": 0.19469026548672566, "ox": 0.20648967551622419, "oy": 0.19469026548672566, "term": "thought", "cat25k": 21, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 5, "s": 0.4247787610619469, "os": -0.005263157894736831, "bg": 2.451721587252891e-07}, {"x": 0.775811209439528, "y": 0.7935103244837758, "ox": 0.775811209439528, "oy": 0.7935103244837758, "term": "because", "cat25k": 77, "ncat25k": 69, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 18, "ncat": 16, "s": 0.5575221238938053, "os": 0.01842105263157895, "bg": 2.506098258422396e-07}, {"x": 0.20943952802359883, "y": 0.12979351032448377, "ox": 0.20943952802359883, "oy": 0.12979351032448377, "term": "nice", "cat25k": 17, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 4, "ncat": 5, "s": 0.36578171091445427, "os": -0.021929824561403508, "bg": 2.593296656626863e-07}, {"x": 0.4690265486725664, "y": 0.04424778761061947, "ox": 0.4690265486725664, "oy": 0.04424778761061947, "term": "letting", "cat25k": 9, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 2, "ncat": 8, "s": 0.12979351032448377, "os": -0.10789473684210525, "bg": 2.3940524077224466e-06}, {"x": 0.35103244837758113, "y": 0.5693215339233039, "ox": 0.35103244837758113, "oy": 0.5693215339233039, "term": "right", "cat25k": 43, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 10, "ncat": 7, "s": 0.6519174041297935, "os": 0.04298245614035087, "bg": 1.2425334747380282e-07}, {"x": 0.13569321533923304, "y": 0.41887905604719766, "ox": 0.13569321533923304, "oy": 0.41887905604719766, "term": "concerned", "cat25k": 34, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 4, "s": 0.7315634218289085, "os": 0.062280701754385964, "bg": 9.41010004073397e-07}, {"x": 0.471976401179941, "y": 0.1976401179941003, "ox": 0.471976401179941, "oy": 0.1976401179941003, "term": "loved ones", "cat25k": 21, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 8, "s": 0.23893805309734514, "os": -0.05789473684210525, "bg": 0.0}, {"x": 0.06784660766961652, "y": 0.6873156342182891, "ox": 0.06784660766961652, "oy": 0.6873156342182891, "term": "love hearing", "cat25k": 60, "ncat25k": 13, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 14, "ncat": 3, "s": 0.9528023598820059, "os": 0.17982456140350878, "bg": 0.0}, {"x": 0.2713864306784661, "y": 0.3333333333333333, "ox": 0.2713864306784661, "oy": 0.3333333333333333, "term": "comes", "cat25k": 30, "ncat25k": 26, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 6, "s": 0.5132743362831858, "os": 0.01052631578947369, "bg": 4.045375420174474e-07}, {"x": 0.13864306784660768, "y": 0.20058997050147492, "ox": 0.13864306784660768, "oy": 0.20058997050147492, "term": "type", "cat25k": 21, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 4, "s": 0.5339233038348082, "os": 0.012280701754385975, "bg": 6.609119059799059e-08}, {"x": 0.07079646017699115, "y": 0.6902654867256637, "ox": 0.07079646017699115, "oy": 0.6902654867256637, "term": "connect", "cat25k": 60, "ncat25k": 13, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 14, "ncat": 3, "s": 0.9528023598820059, "os": 0.17982456140350878, "bg": 7.530850683564242e-07}, {"x": 0.2743362831858407, "y": 0.20353982300884957, "ox": 0.2743362831858407, "oy": 0.20353982300884957, "term": "healthcare", "cat25k": 21, "ncat25k": 26, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 6, "s": 0.35988200589970504, "os": -0.022807017543859637, "bg": 7.707463097980459e-07}, {"x": 0.21238938053097345, "y": 0.4218289085545723, "ox": 0.21238938053097345, "oy": 0.4218289085545723, "term": "at", "cat25k": 34, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 5, "s": 0.6607669616519174, "os": 0.04473684210526316, "bg": 1.1442217145143242e-08}, {"x": 0.1415929203539823, "y": 0.336283185840708, "ox": 0.1415929203539823, "oy": 0.336283185840708, "term": "at time", "cat25k": 30, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 4, "s": 0.6696165191740413, "os": 0.0456140350877193, "bg": 0.0}, {"x": 0.032448377581120944, "y": 0.6312684365781711, "ox": 0.032448377581120944, "oy": 0.6312684365781711, "term": "sorry", "cat25k": 51, "ncat25k": 9, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 12, "ncat": 2, "s": 0.9262536873156343, "os": 0.16403508771929826, "bg": 7.862975299305558e-07}, {"x": 0.35398230088495575, "y": 0.13274336283185842, "ox": 0.35398230088495575, "oy": 0.13274336283185842, "term": "involved", "cat25k": 17, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 4, "ncat": 7, "s": 0.24778761061946902, "os": -0.05701754385964912, "bg": 3.702318886851379e-07}, {"x": 0.5339233038348082, "y": 0.08259587020648967, "ox": 0.5339233038348082, "oy": 0.08259587020648967, "term": "example", "cat25k": 13, "ncat25k": 39, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 3, "ncat": 9, "s": 0.12684365781710913, "os": -0.1087719298245614, "bg": 1.8129165591254634e-07}, {"x": 0.27728613569321536, "y": 0.3392330383480826, "ox": 0.27728613569321536, "oy": 0.3392330383480826, "term": "counselor", "cat25k": 30, "ncat25k": 26, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 6, "s": 0.5132743362831858, "os": 0.01052631578947369, "bg": 5.515396866745466e-06}, {"x": 0.5368731563421829, "y": 0.3421828908554572, "ox": 0.5368731563421829, "oy": 0.3421828908554572, "term": "saying", "cat25k": 30, "ncat25k": 39, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 9, "s": 0.30088495575221236, "os": -0.04210526315789473, "bg": 8.649655515305525e-07}, {"x": 0.035398230088495575, "y": 0.34513274336283184, "ox": 0.035398230088495575, "oy": 0.34513274336283184, "term": "therapist", "cat25k": 30, "ncat25k": 9, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 2, "s": 0.7994100294985251, "os": 0.08070175438596491, "bg": 3.427081790353222e-06}, {"x": 0.038348082595870206, "y": 0.4247787610619469, "ox": 0.038348082595870206, "oy": 0.4247787610619469, "term": "normal", "cat25k": 34, "ncat25k": 9, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 2, "s": 0.8495575221238938, "os": 0.09736842105263158, "bg": 3.5425268659923726e-07}, {"x": 0.0029498525073746312, "y": 0.7492625368731564, "ox": 0.0029498525073746312, "oy": 0.7492625368731564, "term": "tend", "cat25k": 68, "ncat25k": 4, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 16, "ncat": 1, "s": 0.9823008849557522, "os": 0.2482456140350877, "bg": 2.4540079218262785e-06}, {"x": 0.6755162241887905, "y": 0.7522123893805309, "ox": 0.6755162241887905, "oy": 0.7522123893805309, "term": "they", "cat25k": 68, "ncat25k": 52, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 16, "ncat": 12, "s": 0.7050147492625368, "os": 0.05526315789473685, "bg": 6.340307289423665e-08}, {"x": 0.2153392330383481, "y": 0.13569321533923304, "ox": 0.2153392330383481, "oy": 0.13569321533923304, "term": "end", "cat25k": 17, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 4, "ncat": 5, "s": 0.36578171091445427, "os": -0.021929824561403508, "bg": 8.15119779972363e-08}, {"x": 0.0058997050147492625, "y": 0.7168141592920354, "ox": 0.0058997050147492625, "oy": 0.7168141592920354, "term": "thoughts", "cat25k": 64, "ncat25k": 4, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 15, "ncat": 1, "s": 0.9734513274336283, "os": 0.23157894736842105, "bg": 8.381992985424397e-07}, {"x": 0.008849557522123894, "y": 0.5722713864306784, "ox": 0.008849557522123894, "oy": 0.5722713864306784, "term": "suicidal thoughts", "cat25k": 43, "ncat25k": 4, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 10, "ncat": 1, "s": 0.9144542772861357, "os": 0.1482456140350877, "bg": 0.0}, {"x": 0.28023598820059, "y": 0.25663716814159293, "ox": 0.28023598820059, "oy": 0.25663716814159293, "term": "obstacle", "cat25k": 26, "ncat25k": 26, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 6, "ncat": 6, "s": 0.4218289085545723, "os": -0.006140350877192974, "bg": 1.0774207624368025e-05}, {"x": 0.07374631268436578, "y": 0.7551622418879056, "ox": 0.07374631268436578, "oy": 0.7551622418879056, "term": "terms", "cat25k": 68, "ncat25k": 13, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 16, "ncat": 3, "s": 0.967551622418879, "os": 0.2131578947368421, "bg": 1.3682844406114557e-07}, {"x": 0.011799410029498525, "y": 0.7876106194690266, "ox": 0.011799410029498525, "oy": 0.7876106194690266, "term": "awareness", "cat25k": 72, "ncat25k": 4, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 17, "ncat": 1, "s": 0.9911504424778761, "os": 0.2649122807017544, "bg": 1.752232648601375e-06}, {"x": 0.8525073746312685, "y": 0.6342182890855457, "ox": 0.8525073746312685, "oy": 0.6342182890855457, "term": "social", "cat25k": 51, "ncat25k": 95, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 12, "ncat": 22, "s": 0.05014749262536873, "os": -0.18684210526315786, "bg": 4.871740226373863e-07}, {"x": 0.4749262536873156, "y": 0.25958702064896755, "ox": 0.4749262536873156, "oy": 0.25958702064896755, "term": "media", "cat25k": 26, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 6, "ncat": 8, "s": 0.30678466076696165, "os": -0.041228070175438586, "bg": 1.2936214464842573e-07}, {"x": 0.8849557522123894, "y": 0.7964601769911505, "ox": 0.8849557522123894, "oy": 0.7964601769911505, "term": "that", "cat25k": 77, "ncat25k": 108, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 18, "ncat": 25, "s": 0.08554572271386429, "os": -0.1394736842105263, "bg": 2.5293781016590882e-08}, {"x": 0.35693215339233036, "y": 0.13864306784660768, "ox": 0.35693215339233036, "oy": 0.13864306784660768, "term": "social media", "cat25k": 17, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 4, "ncat": 7, "s": 0.24778761061946902, "os": -0.05701754385964912, "bg": 0.0}, {"x": 0.7876106194690266, "y": 0.6371681415929203, "ox": 0.7876106194690266, "oy": 0.6371681415929203, "term": "making", "cat25k": 51, "ncat25k": 74, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 12, "ncat": 17, "s": 0.13864306784660768, "os": -0.09912280701754383, "bg": 4.6694049989748237e-07}, {"x": 0.7315634218289085, "y": 0.799410029498525, "ox": 0.7315634218289085, "oy": 0.799410029498525, "term": "sense", "cat25k": 77, "ncat25k": 61, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 18, "ncat": 14, "s": 0.7020648967551621, "os": 0.05350877192982456, "bg": 1.2157184262395803e-06}, {"x": 0.07669616519174041, "y": 0.26253687315634217, "ox": 0.07669616519174041, "oy": 0.26253687315634217, "term": "again", "cat25k": 26, "ncat25k": 13, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 6, "ncat": 3, "s": 0.6784660766961652, "os": 0.046491228070175444, "bg": 1.1936693428092286e-07}, {"x": 0.7787610619469026, "y": 0.7197640117994101, "ox": 0.7787610619469026, "oy": 0.7197640117994101, "term": "point", "cat25k": 64, "ncat25k": 69, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 15, "ncat": 16, "s": 0.336283185840708, "os": -0.03157894736842104, "bg": 3.531918408081886e-07}, {"x": 0.14454277286135694, "y": 0.4277286135693215, "ox": 0.14454277286135694, "oy": 0.4277286135693215, "term": "are", "cat25k": 34, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 4, "s": 0.7315634218289085, "os": 0.062280701754385964, "bg": 1.0026616547665753e-08}, {"x": 0.04129793510324484, "y": 0.3480825958702065, "ox": 0.04129793510324484, "oy": 0.3480825958702065, "term": "describe", "cat25k": 30, "ncat25k": 9, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 2, "s": 0.7994100294985251, "os": 0.08070175438596491, "bg": 7.307962577385233e-07}, {"x": 0.2182890855457227, "y": 0.20648967551622419, "ox": 0.2182890855457227, "oy": 0.20648967551622419, "term": "group", "cat25k": 21, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 5, "s": 0.4247787610619469, "os": -0.005263157894736831, "bg": 6.213937838959822e-08}, {"x": 0.14749262536873156, "y": 0.26548672566371684, "ox": 0.14749262536873156, "oy": 0.26548672566371684, "term": "strong", "cat25k": 26, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 6, "ncat": 4, "s": 0.6194690265486726, "os": 0.02894736842105264, "bg": 3.2795852492192085e-07}, {"x": 0.1504424778761062, "y": 0.20943952802359883, "ox": 0.1504424778761062, "oy": 0.20943952802359883, "term": "having suicidal", "cat25k": 21, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 4, "s": 0.5339233038348082, "os": 0.012280701754385975, "bg": 0.0}, {"x": 0.4778761061946903, "y": 0.4306784660766962, "ox": 0.4778761061946903, "oy": 0.4306784660766962, "term": "showing", "cat25k": 34, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 8, "s": 0.40707964601769914, "os": -0.00789473684210526, "bg": 6.700250696161282e-07}, {"x": 0.35988200589970504, "y": 0.0471976401179941, "ox": 0.35988200589970504, "oy": 0.0471976401179941, "term": "listen", "cat25k": 9, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 2, "ncat": 7, "s": 0.15929203539823011, "os": -0.09035087719298245, "bg": 4.160249097225946e-07}, {"x": 0.7492625368731564, "y": 0.5752212389380531, "ox": 0.7492625368731564, "oy": 0.5752212389380531, "term": "work", "cat25k": 43, "ncat25k": 65, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 10, "ncat": 15, "s": 0.14454277286135694, "os": -0.09736842105263158, "bg": 1.1919005769363752e-07}, {"x": 0.014749262536873156, "y": 0.6135693215339233, "ox": 0.014749262536873156, "oy": 0.6135693215339233, "term": "free", "cat25k": 47, "ncat25k": 4, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 11, "ncat": 1, "s": 0.9321533923303835, "os": 0.1649122807017544, "bg": 2.3665804944747484e-08}, {"x": 0.15339233038348082, "y": 0.21238938053097345, "ox": 0.15339233038348082, "oy": 0.21238938053097345, "term": "money", "cat25k": 21, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 4, "s": 0.5339233038348082, "os": 0.012280701754385975, "bg": 9.462767911659384e-08}, {"x": 0.36283185840707965, "y": 0.26843657817109146, "ox": 0.36283185840707965, "oy": 0.26843657817109146, "term": "taking", "cat25k": 26, "ncat25k": 30, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 6, "ncat": 7, "s": 0.35693215339233036, "os": -0.02368421052631578, "bg": 3.7136732765099423e-07}, {"x": 0.5811209439528023, "y": 0.7905604719764012, "ox": 0.5811209439528023, "oy": 0.7905604719764012, "term": "makes", "cat25k": 72, "ncat25k": 43, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 17, "ncat": 10, "s": 0.864306784660767, "os": 0.10701754385964912, "bg": 6.147280018133111e-07}, {"x": 0.5398230088495575, "y": 0.35103244837758113, "ox": 0.5398230088495575, "oy": 0.35103244837758113, "term": "issue", "cat25k": 30, "ncat25k": 39, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 9, "s": 0.30088495575221236, "os": -0.04210526315789473, "bg": 2.4914109386456114e-07}, {"x": 0.584070796460177, "y": 0.0855457227138643, "ox": 0.584070796460177, "oy": 0.0855457227138643, "term": "doctor", "cat25k": 13, "ncat25k": 43, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 3, "ncat": 10, "s": 0.08849557522123892, "os": -0.12631578947368421, "bg": 6.522858215114683e-07}, {"x": 0.22123893805309736, "y": 0.1415929203539823, "ox": 0.22123893805309736, "oy": 0.1415929203539823, "term": "how", "cat25k": 17, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 4, "ncat": 5, "s": 0.36578171091445427, "os": -0.021929824561403508, "bg": 3.147611473591506e-08}, {"x": 0.5870206489675516, "y": 0.2713864306784661, "ox": 0.5870206489675516, "oy": 0.2713864306784661, "term": "members", "cat25k": 26, "ncat25k": 43, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 6, "ncat": 10, "s": 0.1887905604719764, "os": -0.0763157894736842, "bg": 1.4117422446480225e-07}, {"x": 0.22418879056047197, "y": 0.4336283185840708, "ox": 0.22418879056047197, "oy": 0.4336283185840708, "term": "makes sense", "cat25k": 34, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 5, "s": 0.6607669616519174, "os": 0.04473684210526316, "bg": 0.0}, {"x": 0.2831858407079646, "y": 0.14454277286135694, "ox": 0.2831858407079646, "oy": 0.14454277286135694, "term": "better", "cat25k": 17, "ncat25k": 26, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 4, "ncat": 6, "s": 0.32153392330383485, "os": -0.039473684210526314, "bg": 1.2731272152254404e-07}, {"x": 0.22713864306784662, "y": 0.14749262536873156, "ox": 0.22713864306784662, "oy": 0.14749262536873156, "term": "needed", "cat25k": 17, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 4, "ncat": 5, "s": 0.36578171091445427, "os": -0.021929824561403508, "bg": 2.3516441755417716e-07}, {"x": 0.6224188790560472, "y": 0.05014749262536873, "ox": 0.6224188790560472, "oy": 0.05014749262536873, "term": "ideation", "cat25k": 9, "ncat25k": 48, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 2, "ncat": 11, "s": 0.07374631268436578, "os": -0.16052631578947368, "bg": 0.00015607835133236886}, {"x": 0.07964601769911504, "y": 0.2743362831858407, "ox": 0.07964601769911504, "oy": 0.2743362831858407, "term": "happens", "cat25k": 26, "ncat25k": 13, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 6, "ncat": 3, "s": 0.6784660766961652, "os": 0.046491228070175444, "bg": 8.979582225934671e-07}, {"x": 0.15634218289085547, "y": 0.2153392330383481, "ox": 0.15634218289085547, "oy": 0.2153392330383481, "term": "home", "cat25k": 21, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 4, "s": 0.5339233038348082, "os": 0.012280701754385975, "bg": 1.4097012537373111e-08}, {"x": 0.6253687315634219, "y": 0.05309734513274336, "ox": 0.6253687315634219, "oy": 0.05309734513274336, "term": "suicidal ideation", "cat25k": 9, "ncat25k": 48, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 2, "ncat": 11, "s": 0.07374631268436578, "os": -0.16052631578947368, "bg": 0.0}, {"x": 0.7345132743362832, "y": 0.0029498525073746312, "ox": 0.7345132743362832, "oy": 0.0029498525073746312, "term": "threat", "cat25k": 0, "ncat25k": 61, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 0, "ncat": 14, "s": 0.011799410029498525, "os": -0.24649122807017543, "bg": 1.5085885833787483e-06}, {"x": 0.4808259587020649, "y": 0.2182890855457227, "ox": 0.4808259587020649, "oy": 0.2182890855457227, "term": "grateful", "cat25k": 21, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 5, "ncat": 8, "s": 0.23893805309734514, "os": -0.05789473684210525, "bg": 4.395357690827835e-06}, {"x": 0.4837758112094395, "y": 0.08849557522123894, "ox": 0.4837758112094395, "oy": 0.08849557522123894, "term": "family members", "cat25k": 13, "ncat25k": 35, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 3, "ncat": 8, "s": 0.15634218289085547, "os": -0.09122807017543859, "bg": 0.0}, {"x": 0.08259587020648967, "y": 0.35398230088495575, "ox": 0.08259587020648967, "oy": 0.35398230088495575, "term": "aspect", "cat25k": 30, "ncat25k": 13, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 3, "s": 0.7522123893805309, "os": 0.06315789473684211, "bg": 1.3016312368067472e-06}, {"x": 0.1592920353982301, "y": 0.27728613569321536, "ox": 0.1592920353982301, "oy": 0.27728613569321536, "term": "impact", "cat25k": 26, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 6, "ncat": 4, "s": 0.6194690265486726, "os": 0.02894736842105264, "bg": 3.2769886807240086e-07}, {"x": 0.5427728613569321, "y": 0.6932153392330384, "ox": 0.5427728613569321, "oy": 0.6932153392330384, "term": "exactly", "cat25k": 60, "ncat25k": 39, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 14, "ncat": 9, "s": 0.7787610619469026, "os": 0.07456140350877194, "bg": 1.4477345786368508e-06}, {"x": 0.6283185840707964, "y": 0.35693215339233036, "ox": 0.6283185840707964, "oy": 0.35693215339233036, "term": "making sure", "cat25k": 30, "ncat25k": 48, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 11, "s": 0.17994100294985252, "os": -0.07719298245614034, "bg": 0.0}, {"x": 0.04424778761061947, "y": 0.4365781710914454, "ox": 0.04424778761061947, "oy": 0.4365781710914454, "term": "depends", "cat25k": 34, "ncat25k": 9, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 2, "s": 0.8495575221238938, "os": 0.09736842105263158, "bg": 1.0535136471104334e-06}, {"x": 0.16224188790560473, "y": 0.28023598820059, "ox": 0.16224188790560473, "oy": 0.28023598820059, "term": "she", "cat25k": 26, "ncat25k": 17, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 6, "ncat": 4, "s": 0.6194690265486726, "os": 0.02894736842105264, "bg": 5.896478545179303e-08}, {"x": 0.23008849557522124, "y": 0.43952802359882004, "ox": 0.23008849557522124, "oy": 0.43952802359882004, "term": "good point", "cat25k": 34, "ncat25k": 22, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 5, "s": 0.6607669616519174, "os": 0.04473684210526316, "bg": 0.0}, {"x": 0.017699115044247787, "y": 0.4424778761061947, "ox": 0.017699115044247787, "oy": 0.4424778761061947, "term": "older", "cat25k": 34, "ncat25k": 4, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 8, "ncat": 1, "s": 0.887905604719764, "os": 0.11491228070175438, "bg": 4.069065422931199e-07}, {"x": 0.0855457227138643, "y": 0.35988200589970504, "ox": 0.0855457227138643, "oy": 0.35988200589970504, "term": "reason", "cat25k": 30, "ncat25k": 13, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 7, "ncat": 3, "s": 0.7522123893805309, "os": 0.06315789473684211, "bg": 3.073103304073139e-07}, {"x": 0.0471976401179941, "y": 0.5339233038348082, "ox": 0.0471976401179941, "oy": 0.5339233038348082, "term": "welcoming", "cat25k": 38, "ncat25k": 9, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 9, "ncat": 2, "s": 0.8820058997050148, "os": 0.11403508771929824, "bg": 8.509252458303697e-06}, {"x": 0.08849557522123894, "y": 0.2831858407079646, "ox": 0.08849557522123894, "oy": 0.2831858407079646, "term": "line", "cat25k": 26, "ncat25k": 13, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 6, "ncat": 3, "s": 0.6784660766961652, "os": 0.046491228070175444, "bg": 6.428027112418443e-08}, {"x": 0.6312684365781711, "y": 0.0058997050147492625, "ox": 0.6312684365781711, "oy": 0.0058997050147492625, "term": "workers", "cat25k": 0, "ncat25k": 48, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 0, "ncat": 11, "s": 0.04424778761061946, "os": -0.193859649122807, "bg": 4.5863661635082484e-07}, {"x": 0.6342182890855457, "y": 0.008849557522123894, "ox": 0.6342182890855457, "oy": 0.008849557522123894, "term": "social workers", "cat25k": 0, "ncat25k": 48, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 0, "ncat": 11, "s": 0.04424778761061946, "os": -0.193859649122807, "bg": 0.0}, {"x": 0.7109144542772862, "y": 0.011799410029498525, "ox": 0.7109144542772862, "oy": 0.011799410029498525, "term": "police", "cat25k": 0, "ncat25k": 56, "neut25k": 0, "neut": 0, "extra25k": 0, "extra": 0, "cat": 0, "ncat": 13, "s": 0.017699115044247787, "os": -0.22894736842105262, "bg": 4.049070435433453e-07}], "docs": {"categories": ["Youth", "Adult"], "labels": [0, 1, 1, 0, 1, 1, 0, 1, 0, 0, 0, 0, 1, 0, 1, 1, 0], "texts": ["time Can I ask Can I recording finished Like I wanted hear I I trying conversation I having unfortunately I share file I share transcript conversation Would All problem Ill send additional paperwork sign release information Ill send interview I form I send transcript Alright problem cool Great time Ill ask Native American mental health culture These focus suicide prevention efforts The purpose understand perspective best support young people high risk suicide The primary obstacles efforts addressing Native American youth suicide prevention I   I explain What primary obstacles efforts addressing Native American youth suicide prevention Come I think coverage cracking What primary obstacles efforts addressing Native American youth suicide prevention obstacles prevent Native Americans word I think asks Can chat Thank chat likeThanks I think try understand basic need basic health need need mental health As Native Americans trying look trying stop suicide mental health issues things I think youth difficult Nowadays youth evolved difficulties trying figure trying understand daily life know solve problems facing Awesome thank answer A follow I reach young people disconnected community health services let use instance I I friends disconnected culture thing draw closer culture got close close friend I mean close siblings way draw closer culture connection everybody senses wall found You somebody draw world draw culture I think look somebody real connection somebody feels world small away way supposed Great What think overall feeling Guardian suicide Sacramento Native American community I feel I feel terrible terrible thing witness witness suicide mental health issues know Apart accidents things I think suicide actually leading causes death I think looked people especially youth isolated separated people start thinking things especially bullied school racial abuse things feel world world crumbling world ending best thing suicide I feel looked understand things cause suicide treated properly allow suicide occur place I described feelings come My friend family member think risk suicide struggling depression I think Ill try understand stress suicide I try understand mental health stress thinking suicide whatsoever I try talk try understand suicide best option happening Ill try recommend training stop going Do feel prepared help friend family member depressed risk suicide definitely Definitely Its know excited excited help somebody come particular situation Or sad help person know position help person I think wonderful thing helping somebody come awful situation said Followup followup Do know turn Or turn Well I think I Christian happening d good bad happen knees pray God tell going happen Just God prayers For   kneel pray let need people care You need people advise medical personnel consultants people people know things suicide mental health situations People advise breakdown things need know understand Great thank answer", "cool time Ill ask Native American mental health culture These focus suicide prevention efforts The purpose understand perspective best support young people high risk suicide primary obstacles efforts addressing Native American youth suicide prevention Um lets Obstacles I mean I think stigma major Its difficult talk difficult things Its easy I think especially youth feel comfortable bringing having safe adult bring mental health struggles I think parents know feel blaming parent Native family trauma know people triggered expressing course health care mental health system lack difficult therapy counseling psychiatry services know feels safe things know talk going I think struggle finding entry points Like gon na feel safe lot language mental health talking hard therapy helpful I caught know hopelessness I seek service going hours days effort find inconvenience help guide help guide process Those challenges I appreciate answer To t expertise shining able deliberately different complicated facets people experience I yes I followup You talked health care services obstacles challenges come navigating I guess I curious perspective ideas reach people disconnected community health services Honestly I think times I lucid moments mental health I enter clinic space I thing I I feeling know yeah lot PSA stuff I I seen stuff Oh yeah nows time going seek services I ceremony grounded cultural space Oh I think thing burdening lately finally surfacing conversations I I I feel safe start articulate I think cultural spaces able access cultural practices urban spaces know Whatever going look course best know culture yeah I think cultural activities linkage cultural activities services I think valuable I love I appreciate emphasis need necessity cultural spaces spaces practice culture recognizing create opportunities safe spaces help navigate obstacles discussed To good connection I appreciate speaking personal experience I think powerful My think overall feeling suicide Sacramento Native American community I I lived Sacramento years obviously large pandemic I I able I know community I lived Oakland 10 years I definitely I knew going stuff Whereas I know lot connections people health health policy stuff people I working relationships family discount I think little bias intentionally looking cool Ssorry I got I Sacramento No I appreciate talking To connection community connection community super valid The asking think overall feeling suicide community I think overall Native person California shift paying attention lifetime know recognizing needs support There know increase I think know Gen Gen Xers going shit I going life kids I going programs know filtering generations know going shit yeah adults stuff trying hard things accessible yeah I think I mean Ill fortunate bias families trying support I think Like I experience Sacramento affordable places family I lived I moved Sacramento brothers came parents coming literally I think Sacramento know lot events stuff intertribal tribes welcome folks outside communities things I think effort I know super successful time wading wading crap colonialism struggle survive people want I people wanting To I think gets core teaching interdependence living good relation To lot describing My friend family member think risk suicide struggling depression Um I mean assuming somebody I think comfortable reaching I I lot internet relationships younger cousins live places I tried maintain ongoing thread stupid shit actually checking going I maintain stupid shit know silly stuff know I picking going Its I coming I think family little bit phone tree Hey persons know went went thing reach soon obvious multiple Hey checking Were big food asking people advice cooking look thing I cooked good trying find connections trying conversation know want talk I know I privilege knowing resources able figure know know cousins way north city trying research Hey want know health center want I I I lot definitely come You know cousin mom going trying sorted Stuff I cultural events Hey thing coming want Like meet ll fun yeah ways I appreciate I Oh I I guess I stuff little stuff I appreciate shared To compassion love family shines I described providing care looks different things I think awesome communities Like sending sending funny memes inviting cultural event look food I cooked having unspoken phone tree I Oh yeah My I follow Do feel prepared help friend family member depressed risk suicide   Um I think I think lot support ends I said I lot cousins reach kid going parent husband know somebody going know resources Like I I want somebody talk feel validated experience know sure person gets connected services I know I think know I family know suicide selfharm stuff come know I thick I extended know support In know trying express know I safe person want talk Also expressing neutrality I care going mom going I You know drama brothers whatevers going I care I love relationship times I participated mental health trainings gotten little bit familiar tools I tools friends happen nonNative I mean I think people trying objective I probably prepared average person I feel prepared prepared Like I feel I I prepared I given opportunity prepared I probably I You sound humble I think hearing share wealth knowledge I think ability lean compassion I think know shows shows lot ability care capacity care I followup mentioned couple times able know identify resources knowing I guess I curious know turn Um I think I I I I dang Urban Indian I looking know urban resources Honestly lot family lives rurally I believe getting away situation I familiar resources I think recently cousin reached somebody talking Friendship House Three Rivers I resources I familiar I sure stuff going worked brother experience I think good idea yeah definitely looking organizations I worked capacity I know bit confidence ability provide services Um I think handful know tribal health places I I know somebody works I know speak thing know unfortunately places resourcing I I want lot gossip There lot people violating HIPAA I want sign I mean I appreciate I think having knowledge knowing good places send people places think twice going help I think equally important good knowledge share", "section time I ask Native American mental health culture These focus suicide prevention efforts The purpose understand perspective best support young people high risk suicide primary obstacles efforts addressing Native American youth suicide prevention I feel personally obstacles I younger I struggling mental health feeling suicidal looked family meant wrong chemically emotionally general Like looked happening Or I feel invalidated elders family suffered d Well suffered depressed You know I think community Like having understanding having people validate pain understand thank speaking personal experience I think shows tremendous bravery strength yeah I I happy hear I followup I curious perspective reach people disconnected feel supported community access health care services I think find way community outreach specifically reaching specifically trying reaching know BIPOC families Hey offer class help able talk understand kids little bit available I love idea I appreciate approach providing support families individuals people interact I think important My think overall feeling suicide Sacramento Native American community Well I feel lost understand feeling shame Shame weakness associated What people lost suicide I feel regret maybr wish reached person totally valid I think big piece grieving process losing suicide I think people attempt Like I wish I Or I saw signs internal guilt My friend family member think risk suicide struggling depression If I friend family member risk struggling I sure let know I talk I open personal experience I I psychiatric ward times attempted kill I feel able tell let know know feelings ashamed feeling sharing If brave able open tries shut checking checking thank sharing experience informed approach providing care I think good reflection ability compassionate leverage experiences create positive change If helpful know I survivor psych ward I yeah relatable lead experiences I feel seen certain ways   Well thank sharing I followup Do feel prepared help friend family member depressed risk suicide I hope I know It looks different I know sounds knew surprised know found Oh wait psych ward You know I know different Like people match signs sudden changes appearance people happiest person struggling I think I check loved ones equally try tell people I love I feel thought know need I love hearing Because I think nice reflection ability lean compassion important letting people know isolated I love approach I followup Right family member friend concerned turn going offer support Oh I tell Or   Um yeah comes Another way think   Oh Um I feel I look resources ask type insurance I find Because I know going feeling suicidal thing task trying find place actually accept insurance daunting Like I want live thought having know easy possible access help important piece puzzle wanting connect people care navigating healthcare system struggle person need help feels daunting impossible able help definitely good strategy", "Record At time Ill ask Native American mental health culture These focus suicide prevention efforts The purpose understand perspective best support young people high risk suicide The primary obstacles efforts addressing Native American youth suicide prevention Sorry repeat What primary obstacles What primary obstacles efforts addressing Native American youth suicide prevention Could rephrase Let let trying ask sorry trying understand perspective Native person challenging current suicide prevention efforts As Native American looking perspective I challenges people face coming speak feel stigma involved know Because live world open people explain problem truth place neighborhood said confidence   confidentially create mental stigma lead suicide know I friend I cited example I friend Native American HIV positive happened share mental health person I forget counselor actually expert went confidentially saying suppose Hi met confidentially told status feels looking little motivation word got lot people got know find therapist denying fact saying documents stolen led isolated people couple weeks died cause death unknown know I I knew suicide case substance stigma People talk lot people confidential people trustworthy discrimination You know Native Americans know nomadic people people come tribe aliens stop people associating I normal dresses clothes I wear tshirt cold I sweater person tend hear I speak people tend ask tribe affiliated Where I come I Apache Native American notice stigmata couple people especially I want mention race No especially feel superior They tend racial discriminative treatment tend streets healthcare facilities schools children Native American children They tend face This build brain know This cause mental stigma brain It according I treated Maybe I accepted I accepted thing tend isolate Isolation leads depression friends talk You tend think things end product suicidal thoughts observation I appreciate insight You said lot I think yeah insightful I curious thoughts reach people disconnected community healthcare services knowing obstacle terms creating effective prevention efforts Yes One important simple awareness People aware people know people know turn People trust information know create awareness assuring people absolute confidence confidentiality know telling sort valuable informattion health condition information I promise confidential help tackle problem Awareness street awareness people know resources people A lot people know surf internet You know probably social media social media couple friends That surf internet information awareness lot people know You create awareness community state media especially television radio channels tell happening know meet lot people posted social media I know page I page I I know use page I know I making sense making lot sense I know page page I ask Facebook Twitter Instagram I program going benefit awareness In general awareness Yes thank answer I think hit lot important points Again insightful My think overall feeling suicide Sacramento Native American community comes suicide I d feeling I explain I notice I said earlier suicide suicidal thoughts start isolation people feel welcome place people stigmatized people discriminated identify know Its bad ll notice I noticed community lot people trying want When I lot Native Americans I knew growing today tend want shy away fact cultural affiliation stigmatization race streets discrimination think affect I instance I knew I knew grown I I tend speak language Native American tend bro trying I point You know creates mindset mind What trying Why pushing away Am I Am I brother Are tribe I knew I knew growing know bring lot suicidal thought suicidal feeling I describe thank sharing My friend family member think risk suicide struggling depression First I model best group tends come Creator know I I thought suicide I able come strong I know feels I know depression start think suicide I notice having suicidal thoughts I tend sit know Try talk little bit motivation lot need motivation I financially capable need therapist interesting Because start talk showing action tend act listen moment thinking want suicidal thoughts I play I know I talking You know Currently I trying describe plans I work They I currently struggling arranging housing know You people need taken environment Take environment new place You know way life fun life happy including joys depression big wound I coming huge sadness know yeah happy solve 100 That Do I followup Do know resources community connect absolutely That I talk awareness They awareness I properly surf internet know I connect try resource notice free resources No lot pay A lot look free inside find lot lot bucks need spend actually A lot people money pay free resources free free I mean free walk walk having drop penny time long way important point I liked phrase I taking notes", "Record time I ask Native American mental health culture These focus suicide prevention efforts purpose understand perspective best support young people high risk suicide primary obstacles efforts addressing Native American youth suicide prevention I feel information turn making ask help What think makes hard ask help I feel society You know I mean I think I think furthest times know people suffering different mental health issues thrown insane asylums actually gone pretty crazy know I feel furthest stigma misinformation You know wrong person If experience mental health know symptoms mental health issue I feel lot people treat bad looked different going dentist toothache doctor know pain Somehow got twisted know negative unfortunately I I feel family expect handle certain way know I feel end feeling know makes harder want reach I love answer Thank sharing perspective I followup How reach people disconnected community health services We find I feel need effort provide information schools know places hang know looks normal know Hey feeling feeling know think bad Its Like come talk know open conversation know friends members age group yeah know I feeling I know I want talk start conversation peer group feel wow know people going On know talk know Well feel Or I I feel How deal I feel need meet know need work beginning easier I love I appreciate perspective meeting people To makes sense My think overall feeling suicide Sacramento Native American community Um I I honestly I think I think I think numbers I think numbers real feel problem I feel know closet needs needs open know common knowledge problem know finding problems cause trying work harder fixing problems That great I metaphor use It feels closet That powerful Thank Its yeah My friend family member think risk suicide struggling depression   Ah I reach know Hey lets hang know Is alright I going come bring food Lets talk pressure know I best available making Intervention know making intervention Just friend know loves cares know lets lets lets talk let know feeling I I tell lot tenderness leading Followup Do feel prepared help friend family member depressed risk suicide I I feel I feel I I hope I plant seed know option ways handling going Just planting seed know life mean forever week year letting know work better They start start Again I hear tenderness leaning I love   Thank   Another followup Who turn I I actually turn uh actually I probably turn daughter Her I gotten close know probably knows mental health know anybody I feel able listen talk   That great support person I lucky I blessed One follow Do know resources community places help I know I know American Foundation Suicide Prevention I know I know I know SNAHC people Albert Titman know spiritual support I I able little little bit good I realized I needed I seeing know I seeing therapist I know start know reconnecting reconnecting spiritually good person Reminding connectedness overall connectedness body mind soul connected connected I feel helps person I know think need stick find little bit You know I love explained connection mindbodysoul To wonderful holistic understanding wellness Yes definitely took long time learn I definitely speak knowledge know knowledge works yeah definitely Nice", "At time I ask Native American mental health culture These focus suicide prevention efforts The purpose understand perspective best support young people high risk suicide The primary obstacles efforts addressing Native American youth suicide prevention I think upcoming generations issue I movement dismantling stigma involved talking mental health especially suicidal ideation I want definitely highlight obstacle stigma With world social media know silencing happens communities families talking going ones journey difficult I know growing supposed promote things God family work room room having talk issues especially family stigma I feel greater examples I think example having connections community especially Yaqui diaspora lot reasons people connected community home communities knowing history involved spread I feel I raised prominent Yaqui community I raised Central Valley Oh I going tangent No parents I raised Catholic Church I know lot Yaquis know know Catholicism I raised Apostolic issues I feel religion took place culture culture Its fellowship community home That supposed rely know Apostolic Christians problem assumption trusting wholeness community actually lot danger lot danger youth lot danger having free thought lot danger having freedom gender expression sexual orientation There lot hate place supposed promote love I feel I leave find safety I feel obstacle youth facing trying I tried finding safety places ultimately I find loneliness I think greater threat Because turn know physical loneliness having housing having security having food table spiritual loneliness cultural loneliness eat away someones soul promotes depression promotes anxiety One thing I I share story I considered depression murderer anxiety thief I view That I view I combat struggles mental health Its working narrative narrative life I fighting survive especially Native youth today know lot obstacles I feel loneliness ultimate thing takes away youth   yeah I I liked response lead lot vulnerability I grateful shines Its embodiment resilience resolve build community find speak truth live truth I think powerful thank sharing perspective yeah yeah   Chiokoe uttessia   This actually ties follow I   Sure   I liked direct naming community connection community obstacles challenges come I I curious perspective reach people disconnected community health services Oh I admit I participated Culture Prevention program SNAHC I love program I love I look forward month protocol involved overwhelming food inperson I love virtual know pandemic having pick kits know making medicine bags beading I love familiar You know familiar knowing Julie Elliot Albert able connect feel home I forgot Can repeat thequestion   reach people disconnected community health services I want think I know outreach hard work anyones Trying promote people attend difficult bringing food having food number I think culturally important respectful having protocol place people know expect time come feel invited warm welcomed important I trying think new age social media I noticed SNAHC I forget called clip segment Instagram know little peek preview I think previews invite people I know new health center building South Sac near house I love post updates mural know progress construction going open house That I date social media I think youth definitely social media way invite people yeah making know lets phones Lets lets sit meal Lets open good way Lets share lets listen lets talk lets letting social media entryway point person able slow bit people break important having drum class drum dance class That awesome I drummed college group intertribal group I glad know drum group willing support class youth know family members know participate drum participate dance celebratory act healing   Agreed I love perspective real challenges disconnection I appreciate perspective different ways leverage welcome people I point protocol allows things feel familiar welcome I think important aspect My think overall feeling suicide Sacramento Native American community There lot grief deal You know I I baby infant I want contribute life way I hope I pray obstacle having suicidal ideation I know prevalent lot families grieving losing loved ones suicide I know I struggled active suicidal ideation I hospitalized I outpatient programs I open tell I glad I share story openly I people come telling Hey I struggled I struggling I refer resources I think sharing story sharing stories important opens conversation Because feeling grief shuts unfortunate It creates obstacle able share stories promote awareness Or know talk Or points contact Its start yeah overall feeling I I I gone QuestionRespond Oh called Its I think QRP QPR   QuestionPersuadeRefer Yes Yes I training years people showed talking know family members nephews nieces know neighbors cousins know hard hard Its hard I cousin came streets recently know trying work deal addiction I feel overall feeling grief recognize acknowledge First people space mourn losses mourn journey understand paths healing welcome afraid share stories That insightful I I grateful knowledge I think wonderful connection earlier points talking stigma leaned lot vulnerability speaking story connection able share stories create opportunity welcome people combat stigma That powerful My friend family member think risk suicide struggling depression I deal recently younger brother I know biggest I trying hard let fear overtake losing trying present biggest thing I know ask Hey having suicidal thoughts Are thinking killing struggling know doctor talking difficult I refer know number possible He Stockton I Sacramento ultimately letting vent letting text letting listening letting cry letting know I love Oh I lot know brother nephews I struggling I know ultimately decision want proceed mental health able Hey I I lets talk I listen I love big hug Just trying source moments connection authentic real strong reinforce reinforce moments connection Because loneliness overwhelming I know head I think family members friends threat You know suicidal ideation threat threat communities threat families threat loved ones exhausting lookout gives I reach I able big hug I know moment passed getting moment crisis passed ideations step remission It gives knowing I breathe I I relax I grateful got battle I understanding suicide suicidal ideation suicide attempts impact community interconnected interdependent aspect approach leaning compassion helps people feel Being listen cry vent shows level depth resolve place love operate I think powerful   I want recording I listen I going listen Val Definitely Thank I followup How Or feel prepared help family member friend depressed risk suicide I I disclaimer I lot work getting point Its taken decade struggles learn system healthcare system resources resources ones safe ones I recommend lot follow work know Mental Health First Aid training I I wanted warrior essentially I suicidal ideation suicide attempts I blame person I illness symptom illness treated I threat I threat loved I threat community I importance warrior know warrior warrior able combat compassion love connection culture tools toolbox time effort easy Like comes time comes Like I nephews 12 ones 13 I think I going conversation know going hug I love I gon na ask practicing practicing trainings practicing people easier helped prepared I practice asking know easy important life saving Its life saving ask Hey thinking know hurting Are thinking able ask I feel privileged I practice place Thank answer To I think hitting important aspect Like recognize suicide suicidal ideation suicide attempts impact community Right effective way help forward empowering community feel confident comfortable having hard conversations I highlighted", "At time I ask Native American mental health culture These focus suicide prevention efforts The purpose understand perspective best support young people high risk suicide primary obstacles efforts addressing Native American youth suicide prevention A lot people afraid reported makes sense consequences happen feel going mental hospital Like exactly feel Oh wow A feather found safe spaces feel ostracized going institutionalized That common fear talking people things normal generations In society considered crazy want medicate decolonizing mental health aspect important I love answer hearing perspective especially tiedin institutional damaging people reaching care support finding helpful ways I love need decolonize important point 100 Yes Exactly I follow I curious perspective reach people disconnected communities health services Um community events outreach depending specific group trying connect Free food amazing People love free food Just people feel obligated resources pay stuff awesome come community develop wealth money Like guys lot cool events walk healing walk beautiful For events want want heal posting people attracted lot moths light want deep community feel heard safe I I understanding frame Creating spaces strings attached Like people come feel heard feel safe build sense community connectedness belonging transformative 100 Yes worded think overall feeling suicide Sacramento Native American community Definitely sadness little bit shame pain going world feel lot people feel guilty having feelings lot physical stuff happened They feel weak I word lot shame I guess ancestors went intense stuff I mean I know solution need open talking normal Its taboo thing people want discuss want weak ungrateful   step healing acknowledging talking yeah basically shame guilt big feeling My friend family member think risk suicide struggling depression Um try create hold space open vulnerable express feel important Keeping inside find bad options offering solutions healthy resources groups therapists speak power community realizing I love I think hearing explain approach creating space making sure feels heard safe space feel emotions To I think reflection capacity care I think great My yeah I follow Do feel prepared help friend family member depressed risk suicide Um yes thing hard pain time interconnected symbiotic weird balance making sure filling cup You selfcare walking talk makes sense yes lot yoga today Like feel place Yes come express You safe I love hearing answer It reminds metaphor airplane mask help Making sure taking care best version provide support love people I think important 100 yeah got Exactly I follow In response talked connecting healthy resources I I curious turn I resource It depends feel struggling Like experiencing unhousedness I try connect organization Camp Resolution experiencing mental health feel disconnected white colonizers I try connect BIPOC organization y Were new Sacramento discovering everybody lot community centers Roberts Family Development offer activities connection expression open mics having open space people come connect depends specific struggle challenge experiencing You wealth knowledge Its generations channeling know I expertise terms understanding people need making sure connected people looks making sure care That awesome let finish note", "Let press record At time I ask Native American mental health culture These focus suicide prevention efforts The purpose understand perspective best support young people high risk suicide primary obstacles efforts addressing Native American youth suicide prevention Um I think growing Sacramento I know I mean programs I 31 There provided way I find There school outreach Nothing Basically I d find I find type type help I probably 24 honest Do think obstacles impacting Native youth suicide prevention Um parents family basically directly given kids teenagers tool guide lot family members help find information kids I noticed experience think motivation That hindering family members parents helping young children loved ones I want guilt Shame Definitely Like I remember parents directly saying Oh want know I having anxiety attacks things They Oh everyones going think crazy Or yeah grandma going What aunt going You know worried people thinking I crazy instead taking doctor know pushed rug Thank sharing personal experience I think I grateful leaning bravery speak speak yeah I I therapy cousin Tabitha huge mentor know going college graduated San Diego State encourages open real family I I I gotten lot comfortable lot comfortable talking I view mental health selfcare journey Like unlocking unpacking exploring finding meaningful stuff yeah yeah yhank I follow I curious Like I think talked having people circle feel empowered supported speak reach I curious perspective reach people disconnected community healthcare services   Oh ones harder I noticed aunt hardest people therapy counselor took grandma passing order things She goes Chapa De materials people explain hey negative thing having Indigenous people saying ver helpful Um starting journey helpful I sure honestly experience I speak reach familys circumstances experience afraid doctors afraid therapy afraid talk feelings There lot trauma turned drugs Like dad alcoholic started turning heroin meth uncle passed away My aunt drug addict harder drugs turns alcohol Um cousins I think cousin minimum DUIs heavy family I feel media helped brought learning tools cousins family starting tune culture helpful drug use prominent family yeah I know No I appreciate shared I think bring good point hard Right Like reach people How things accessible Like definitely hard I grateful candidness talking experiences experiences family I love hearing took grandma connected Native resource hearing people know look know normal I think flip bring light happens culturally relevant care people continue suffer They dive deeper addiction know behavior healthy pieces puzzle I think highlighted I grateful view things holistic lens   Thank   think overall feeling suicide Sacramento Native American community I completely honest I know lot Natives Sacramento I love community family numerous reasons family good I hospital times suicide I held started going therapy comfortable talking family ignores If having party birthday party I I feeling Ill Oh I feeling good I sick sick Like wrong Or blah blah blah Like understand   mental taking care selfcare They understand Um think I soft yeah weird Like yeah little bubble community good I I grateful hear personal experience yeah I sorry family helpful ways I think showing today speaking think allows open conversation Like create shifts people family members loved ones getting knowledge mental health mental health care support young people I I soaking strength resilience able share I thank I grateful   Thanks   helpful hear I gone similar experiences family terms hospitalized de yeah solidarity struggle   That I hoping find I mean I know know Indigenous people monolith things share I struggle find communities I find similarities things I I lot Indigenous people Ah yes I struggle nice I friend family member think risk suicide struggling depression Um best friend bipolar black I having manic episode I going send hospital away I tried I I signs acting little I try nip gets level I want endanger sending system Because harmful I I Hey want come You need talk Like going We hospital opened thing I mad I asking taking pills Same I feeling good Have Have check communication created Ill Hey taking pills time Oh I prescription time I helped emergency prescription I Let know time Do wait long I want happen created little accountability Since lot 31 I want grown ups parents grown grown ups Um try space available feeling judgy Um yeah I yeah thank sharing I think phenomenal I love mutual care sounds system friend I think strong reflection capacity care ability lean love friendship ideals wanting sure person putting work showing asking getting medication needed stuff I think amazing I think shows depth resolve caring people love I think phenomenal hard thing piggyback I saying Medicine medication looked I mean I I want feel guilty I trying hide know having beers family party I Oh I Why I Because I depression medication understand Some cousins try definitely older aunties stuff think stupid They You putting chemicals body I want stomachs probably messed pills taking Like ignorant things friend relate mom way accountability know better taking medicine sounds experiences y family needing support I love able create To tremendously transformative thing able friends ways I think speaks Native teachings knowing related showing provide care Like ways need I love I love follow Its related feel prepared help friend family member depressed risk suicide I having I know I need I know everyones little different I little cousin Denver Its cousins daughter old ways stuck old way thinking reached Instagram stuff talked I sorry I know talk I know open things I I glad I person little cousins family I feel point life I younger I think I probably I time I best person I definitely feel I tools I I feel helping I know direct I taking notes yeah I I love living authentic life encouraging people reach support ways feel need person I think strong reflection bravery able strength resolve depth compassion I think sure people able help need I love hearing stories helping showing sounds needed There people feel comfortable going parents family members yeah follow talked having tools knowing places direct people I curious situation wanting help loved friend family member turn Um Denver I sure clinics normally I ask cousin Tabby She knows people I Oh know somebody She solid rocks family got everybody Um I probably start Googling trying search I know hardest feel low I going way find point time Like come yeah Um I know offered search places little baby cousin needed I fine thank continues talk day started know acting little different I probably push little I offered come visit stuff away bad situation yeah I know I think describing definitely point I love highlight exactly feeling low hard know muster motivation research I think difficulty reflection inaccessible mental healthcare system I loved describe offering support person reaching know knowing talk knows place helpful Like good example leveraging knowledge community connections sure people getting care support need I love", "jump time I ask Native American mental health culture These focus suicide prevention efforts The purpose understand perspective best support young people high risk suicide The primary obstacles efforts addressing Native American youth suicide prevention Come primary obstacles efforts addressing Native American youth suicide prevention I think obstacles speaking I noticed information asked Or awareness created Definitely obstacle information information passed listening ear giving Its definitely obstacle know We need talk avoid fatal happening near future think listening speaking speaking feel having suicidal thought important Awesome I appreciate answer I followup What think makes difficult speak Oh yeah Are rephrasing I sorry I asking rephrase trying ask dimension Is I I yeah talked obstacles speaking getting help I curious perspective makes hard speak Sometimes people outspoken They tend lack friends somebody talk younger age grow youths thoughts coming mind person talk usual They tend theses thoughts lead suicide possibly keeping friends I having come close friend obstacles Thank sharing perspective I followup based talking building connections people making sure people friends I curious perspective reach people disconnected community healthcare services How reach people Mhm Who disconnected Oh explain I talking people friends talk experiencing suicidal thoughts reach people How reach people disconnected First I think human nature ask feel wrong feel feel person going person school home You walk ask person I think ignites communication possibly points The person speak speak problem resolved I Just asking That good point My think overall feeling suicide Sacramento Native American community Definitely overall feeling bad suicide suicide takes life I think anybody supports people committing suicide having suicidal thoughts way treated Or I treated relationship stops things I think justifies reason suicidal thoughts generally suicide good I agree Right losing hard good thing My friend family member think risk suicide struggling depression Of course friend family member shows I connected person I know person having suicidal thoughts thing best thing try person reasons suicide bad explain suicide best option I think I good I trying convince person I think Ill try attention Sometimes think feel I think good help come try speak sense person person end day realize suicide best option thank sharing I followup Alright Do feel feel prepared help friend family member depressed risk suicide personally yeah I think point I think I need preparation se I thing talking life I think trying talk sense person I need preparation Because I I think I person definitely reason trying makes sense trying commit suicide having suicidal thoughts thing trying know reason come ideas thoughts makes reason reason reason suicidal thoughts I think I need preparation se I love perspective feeling confident aware capacity provide care Especially I phrase friend family member connection I think powerful yeah I understand idea intervening way identifying problem coming options talk life I think powerful Thanks I couple followup Right helping friend family member depressed risk suicide turn I think I d turn mother know closest person person freely fully converse sensitive issues mother person I I turn I love taking familycentered approach One followup turn help Come Where turn help For help friend family member risk suicide Alright I think lifeline help Excellent helpful resource good Are places I think religious gatherings yeah religious gatherings good place help preventing suicide", "At time I ask Native American mental health culture These focus suicide prevention efforts The purpose understand perspective best support young people high risk suicide My primary obstacles efforts addressing Native American youth suicide prevention lets barrier thing actually comes know home family group actually start talking mental health It hard speak family Just clarify saying obstacle hard talk family members confidence actually The family barrier I d confidence actually talk confide What think creating challenges building confidence talk suicide I d thing know family unit expect think child family member actually going know family experienced actually talk Are obstacles Or barriers addressing Native American youth suicide prevention yeah I think I think Another I think Native Americans I needed actually speak I A therapists counseling sector Could repeat find difficult actually speak express people community I think personally I find easier talking people people different races What   think makes hard connect people community certain expectations think actually behave according How culture easier talk objective yes connecting trying talk people community Native American expectations makes challenging actually talk issues Thanks explaining I think super important Are barriers think Not moment cool Well What think overall feeling suicide Sacramento Native American community feeling actually expect happen think actually extent actually facing certain problem They extent suicide I think expected I sure I understanding feeling describe surprised shocked yeah I think The general feeling Native American community close family group think actually easier think people actually happy hard I d mental issue big cause certain action What feeling surprise shock look wrong way thinking I think embedded time yeah actually understandable I think easiest lets community actually adopt try create awareness mental health ask youth going I understanding think feeling describing changed community I think initiatives started know quickly overnight What feeling describe Like dream destination I d actually talking issues able talk family group members issues mental health easy I think initiative   started actually create awareness I I think powerful To create change community away feeling surprise I believe happening normal talk feelings help ask help things help said yeah My friend family member think risk suicide struggling depression Like I d actually try talking asking help know actually hard know somebody actually willing help I actually try specialist behalf ask advice help nice For approach trying supportive ways talking trying understand situation recognizing need support process yeah know I training know dealing scenario That good point bring That actually ties Do feel prepared help friend family member depressed risk suicide I think confidence kick I actually try best help I said know I actually situation actually worse I d try seek help professional yeah ask somebody I think better position help If I ask followup mentioned importance connecting professional reaching proper training knows I curious know turn happen I think thing I d try seek help counselor I college year ago I completed year ago I actually access previous college counselor I think great hear turn ask help I feel answered little bit help I d actually try Google obviously I d try online try I additional information actually examples situation finally I actually I offer help know I d seek help counselor person I think better suited Great yeah I hearing plan support people makes sense I think great understand ask help support especially comes supporting loved ones I think important", "Nice At time I ask Native American mental health culture These focus suicide prevention efforts The purpose understand perspective best support young people high risk suicide My primary obstacles efforts addressing Native American youth suicide prevention The obstacles youth especially I feel hard youth lot grow culture stuff control especially parents homes born hard maintain struggle especially getting hard times school Its list things obstacles Um I sure answering comment I think makes lot sense I think things describing things lot people write experience things red legged hard talk mental health talk stigma things challenging I love hearing insight I think point Thank Can think obstacles addressing Native American youth suicide I feel work I I I volunteer work schools I teach kids culture girl stood happens tribe cried middle performance I ended talking I said told grow dad addict challenging native young boys I feel toxic masculine masculinity huge problem In young men communities feel talk know taught know way You talk feelings I I heard I agree hard talk stuff feel dumbed statistic I know stuff media lot bad stuff Its hard think accomplish things thinking statistic makes sense Those I think comments I Thank sharing candidly I think yeah bring lot good points terms real experiences come people talked work volunteering schools interact people connected culture finally witness Right Like transformative Like emotional talk I think bring good point connected Like connection feel supported family absent clearly talk easy families turn bad coping mechanisms addiction substance use That I think raised lot good points I grateful hear insight To Its bring good perspective Of course thank I follow I think talked social forces viewed stereotype statistic prevent people getting help know understanding place future things accomplish I curious ideas reach people disconnected community health services I mean I asked reasons I I That I tried I try connect people know people I I I think need reach stop defensive I feel lot people defensive culture sacred native peoples I feel lot times defensive accidentally help people actually need help defensive Because I know lets think kid lying Native know I mean Just stuff I know explain Its I feel way defensive I friends organization leaders social justice aspect feel need welcoming wo help organizations non native organizations fighting thing I I feel need open people reach realize probably kid Or younger I I love brought point terms community members people invested helping people community better job creating spaces welcoming people disconnected extending invitation I think explaining things letting egos way politics working non native organizations non native people Right Its important To cautious share cultural knowledge yeah At end day want sure creating safe spaces people come celebrated connected feel supported Right Like main mission takes little bit work Right way thinking honestly Give order things work It thing I love hearing perspective things I think depth knowledge terms understand community operate challenging things Like politics belonging identity things tricky I think hearing approach I think strong reflection commitment making spaces welcoming young people People disconnected need connection I love hearing I love hearing Thank My think overall feeling suicide Sacramento Native American community Um Well I know hard think friends I family members gone path spirit world case recently I feel bad I remember She live Sacramento nearby I believe She lived Marysville teenager people saying suicide assisted time suicide thing young girl I know I feel awful I feel awful way I I feel awful MMI W crisis I feel people think crisis reservations happen It happens Sacramento happens happen It happens reservations I feel need need eye youth I know hard youths parents guardians They help Which I think brings kids parents You know care How going notice kid feeling I framed issue community issue suicide similar good comparison mm IW community issue Like thinking terms issue happens community matter Trevor live reservation live thing true thing Right need vigilant terms providing care people showing supporting people To I think underneath strong commitment social change compassion people Our community Now yeah My friend family member think risk suicide struggling depression Well I I past I I happening I I know I pray creator I sing songs cultural way I I jingle dress dancers I d probably dance I I I know I position past I struggled lot perspective helped people I know word I guess fan infantilize Like things I keeping certain spinal everybodys different caution I healthy space away Probably wording I know everybody You way wired especially mental state I think bring good point terms desire I describe urn viewed coming place love Like I want person I concerned friend family member finding balance I overbearing suffocating care support know showing ways meaningful depends person want need need moment I loved hearing approach Brown leaning cultural aspects mean care To help journey know experiencing issues I love hearing singing songs praying juggling dress dancing I think wonderful approaches I think speak holistic view terms think health mental health indigenous perspective My I follow Do feel prepared help friend family member depressed risk suicide I d I I d I think I yeah I think I d prepared What makes Because I I said I I sister I know I thinking Like felt way I I know I love hearing turn support As know ways meaningful I love hearing kinds things Because reminds know indigenous teachings good relation loved ones I follow vein concerned They risk suicide I curious Like showing support turn Wait Sorry Right going support concerned turn support I assume assuming I showing concern I want I supporting person need I think I probably grandma gets know intense obviously I d Numbers Or know I trying think word I think I I contact You know people family wise probably grandma Because probably probably auntie She smart Oh yeah My auntie especially knowledgeable In ways physical health mental health grandma taught lot things culture wise I taught I know I love grandma I think trying support lot drive help person know love sad person I hope answers Again I love hearing people clearly identify turn support Right help person Mm hmm Again follow In vein concerned I think touched little bit help support Well I mean depends person Like intense emotions dealing unsafe environment I going obviously contact authorities family member I d grandma I probably house Its happened past I let friend sleep time stuff going good helped break I mean honestly depends way I d far away unable come contact I I tell friends phone away real The Bad I unable I love hearing showing means I think strong reflection love people dedication ensure people feel supported times need Does mean I I said I said I lot similar situations I want I want feel I feel similar I think things I pay attention I want person feel I gon na lie frustrating I wish I rip Like I friends perfect perfect know human beings I wish I stop feeling way know You I think hearing share Now word came mind lot compassion sympathy empathy strong things lead terms showing people I love Thank", "At time I ask Native American mental health culture These focus suicide prevention efforts The purpose understand perspective best support young people high risk suicide The primary obstacles efforts addressing Native American youth suicide prevention Sorry come Or explain asks primary obstacles efforts addressing Native American youth suicide prevention Well Ill start saying suicide usually caused trauma event occurred I going talking basically example lack awareness obstacle stigma stigmatization That decide come open look help seek help You scared stigmatization obstacles impact suicide prevention listen genuinely judging resources help prevent suicide tend struggle struggle lead lot things depression anxiety trauma Did sorry I taking notes You said lot insightful things I want sure I written good I sorry I come I got Everything insightful I love perspective talked lot obstacles shape suicide impacts people impacts peoples ability care help things interact scary person obstacles think Well I feel lack support people love people love If dealing lot things lack support people wanted people love yes dealing resources I mentioned earlier lack awareness start Because person notice feeling try convince 1000 times yeah know deep feeling exposed resources help gain health You want lean sit feel chaos everythings exposed lot resources I feel push find solution problem good point I tied things said earlier I followup You talked lot different things impact people including stigma judgment lack resources creates challenges people help I curious try reach people feel supported I curious reach people disconnected community healthcare services lot people lets introvert example associated community know resources available I feel way connect people parents If workshops stuff engage parents open eyes mental health I feel children parent workshops resources meeting I know specifically parents parents child great strategy It hard reach young people especially disconnected able look broader support system case parents making sure knowledge resources ability help child need Yes certain scenarios child giving sign parents focused notice signs earlier I feel parents engaged learned area pick sign coming sign Just parents pay attention getting good point terms young person struggling exhibiting signs engaged empowered parents important knowledge recognize layer important engage parents I thinking relationally holistic terms looking individual people connected person Yes thank My think overall feeling suicide Sacramento Native American community Sorry break I understand What think overall feeling suicide Sacramento Native American community Well I feel feelings exactly People That number thing I People surrounding I know welcoming That stigmatization comes Because welcoming wo scared stigmatization free verbalize thoughts associate people yeah I feel people surroundings community especially Sacramento welcoming open ll youth open people feel comfortable communicate parents ll feel comfortable communicating stranger I feel community members welcoming people ready reach strangers community great I love hearing think terms welcoming impacts interacts stigma influences people reach help reach help Is feelings use describe community Just I feel people granted When literally dealing feel ending life I feel taken utmost seriousness Well people majority people half devoted good thing create welcoming society community people Because time know community welcome feel home relaxed thing scared fact stigmatization hindrance barrier people I want dive little bit deeper talk people community granted I curious perspective think people suicide seriously community Well know started sign sign develop suicide exhibiting sign I feel people beginning phase Now understand beginning phase people taking lead people You going She going alright She going stuff She going I understand I want people beginning phase lead good point I I love phrase society major problem brush later big problem Well defeating pattern Like people try said Yes My friend family member think risk suicide struggling depression people unintelligible people want straight resources voice people want want loved ones I talking based experience love family involved seek resources help people want seek resources tried communicate home listening I position I love talk parent loved ones set help therapist line helpline mentioned makes curious mentioned people want instead going straight therapist crisis line want help family I guess I curious What look You know I feel I feel comfortable people I known years parent blood I feel comfortable talking voicing Because regardless I know resources I going hit job going jobs I I feel safe safe home parents loved ones know people best interests heart love They trying job trying prevent love want best I literally want communicate seek help I love vulnerable answers To I think getting important aspect Like receive care family There aspect familiarity There aspect love Ideally unconditional love unconditional support things easily therapist crisis line know type resource people family time They job I followup Do feel prepared help friend family member depressed risk suicide Interview Cut Out left Do feel prepared help friend family member depressed risk suicide Yes I help I know means corner willing help I definitely love help I use experience lesson I willing learn educate I I useful That I I willing help I love leveraged personal experience motivation counts needed love For friends family members My follow turn When helping friend family member When I helping I situation When helping friend family member depressed risk suicide Helping Oh I love communicate mom Because wise woman I seen reason turn advice I turn I talk person affected family person affected It   depends person vulnerable willing let family come seek necessary help yeah I love look things relational lens trying provide help Its talking family talking family person affected leveraging connections sure showing tools support person When helping friend family member help I use text line lifeline depends talking parents therapy seek necessary help Ill straight text line Oh yeah wonderful resources I couple times I know lifesaver life saving", "At time I ask Native American mental health culture These focus suicide prevention efforts The purpose understand perspective best support young people high risk suicide The primary obstacles efforts addressing Native American youth suicide prevention What I think obstacles I think obstacles having able necessary I guess outreach outreach programs people identify cultures beliefs Everyone different I think different different programs news outlets board different according everyones needs programs booklets TV programs know stuff saying tailor services events   Exactly   To appropriate people work Exactly I think feel welcome welcome reach welcome feel I belong This people relate I think challenge obstacles way For I guess exactly mean asking obstacles way create services culturally relevant obstacle think preventing people getting help place Not having I guess having culturebased feeling welcoming Because I think anybody reach help big step They contemplating dealing anybody reach help speak personable   huge I think anybody type program hotline identify I think feel I appreciate answer thinking understanding ideas help create change My think overall feeling suicide Sacramento Native American community I think huge I want problem huge I think given concern given This affecting people board affect person affects trickle effect It affects families affects know generations going away I follow How reach people disconnected community healthcare services   That good I know I mean honest hard I mean feel connected I think I hope family members loved ones community members help reach hard I sure I think yeah know disconnected help I sure answer   Thank honesty Its hard sure That hard I hope family member community member loved reach Sometimes family member sick people doctor health care I think reach look know try talk thing I think What think makes people hesitant doctor seek help sick Scared I know scared scared bad news scared finding Also I think finance Those important parts friend family member think risk suicide struggling depression I I I I let know I sure respect way feel feelings valid I look research ways I help I want sure I respectful I push away I tell lot love compassion underneath approach Thanks A followup feel prepared help friend family member depressed risk suicide   No What makes I think I I know I tools I day age look phone I mean thing I I know bat I mean parent baby proof home know Alright going game plan You know little safety locks cleaning products high I think prepared saying saying I think I seen baby came book instructions That comes suicide depression instructions There book A B C D E I agree scary felt truly prepared A couple followup Right friend family member know concerned turn help I think person comes mind I person I mom I think strongest person I know I soundboard know I talk things Or tell brutally honest I love I think helps I concerned yes know act I guess help guide I feeling I thinking sure I having person family member loved community Just know scary Something scary especially close concerned second I hook I social media internet look I guess health wise I hotline know territory new I deal I approach reaching family member community member I think shows connection loved ones draw strength", "cool awesome At time I ask Native American mental health culture These focus suicide prevention efforts The purpose understand perspective best support young people risk suicide primary obstacles efforts addressing Native American youth suicide prevention Um hmm I think general I mean gotten better lifetime mental health awareness I think I younger stigmatized know Especially family know Oh real thing definitely making people aware Hey people struggle thing time struggle aware happening I Do think obstacles suicide prevention efforts Um I think people sorry I trying think No worries Like people old ways thinking I know exist I real You know I trying think I d I sorry No insightful answers I think I enjoying getting learn think understand experiences terms view family views puzzle pieces fit society large hitting lot good points Sorry No worries I know talked stigma impacts people terms creates cultural norm talk things things real It manifests beliefs people hold I followup I curious If combat stigma reach people feel supported reach people disconnected community healthcare services I think step talking d older family member lot older people talking Like kid grandkid talking having meeting community meeting gives basic information kinda suicide prevention meeting Like older people Hey look stuff younger people obviously affects age I think finding ways bring awareness older people people Oh mental health real meetings know training younger people talk older people things I love idea trainings To I think especially topics mental health especially suicide information people potentially life saving Exactly I think people ways meaningful resources connect I think things nestled describing Exactly awesome think overall feeling suicide Sacramento Native American community The overall feeling Um let I feel I I Native American friends age punk community alternative community high risk lot queer community lot real taxing I sorry I think getting lot important aspects think overall feeling suicide Sacramento Native American community far I involved real lot people struggle definitely I think benefit putting resources preventing treating things know Trying help people going beneficial Because I said people I interact younger I older people family yeah I love talking looks people interact real tremendously impactful experience These things affect people love affect I love able speak My friend family member think risk suicide struggling depression Um I actual experience younger brother He going lot drug problems 2020 parents started getting divorce hard struggling drug addiction definitely having lot mental health issues going therapy help definitely support letting know I Like needs talk I If needs I Just things kno I think biggest thing reassuring Do reiterate tell time know You willing help biggest thing yeah I think telling saying know I actually love answer describing To hearing speak strong reflection love sibling You strength compassion lean pull It sounds simple times hard able vocalize experience great I grateful hear story sharing Thank I little bit followup In vein dealing friend family member concerned feel prepared help friend family member depressed risk suicide Um luckily I feel personally I pretty prepared I lot Like I suicide attempt I mental health facility I experience thing I know I want know I mean I I I want I shoes Um I feel I personally little bit prepared I dealt obviously going different obviously I think training amazing prevent thing Because people training know look You know Oh eating Are sleeping lot Are sleeping Are isolating Or 247 You know I mean There behavior normal watching things wo Like younger brother want He want struggling tell know things thank having bravery vulnerable speak personal experience I think I find grateful instances I connect people level I share little bit I survived attempts landed hospital moments I find grateful connect people experiences I think allows grand grander scheme things normalize experiences people They human experiences Exactly With find solidarity people share experiences strength numbers able grow learn heal instances I feel grateful thank vulnerability I valued sharing leverage personal experience understand things helpful I experience This helpful I find things helpful half people experience empower people training programs resources Exactly Again following thread diving little bit deeper recognize friend family member concern support Who turn Who I turn instance older brother I turned mom I said Hey I noticing having struggles things I think I mean obviously situational based turning older person authority know Because things turning definitely 100 professional answer Like wrong turning therapist counselor know sort definitely great option I d parent grandpa know Like power impact power sounds bad impact yeah I think great I love way thinking turning family member When building sense trust familiarity mutual respect I think underneath words sense love Exactly knowing things build provide support person concerned followup thread concern Where Where Um hmm I mean I guess depends immediate danger obviously 911 going answer I guess soonest available counselor   I know school counselors I gone school counselors school good option usually free school counselor I trying think We Kaiser growing I guess going therapist Kaiser I guess readily available Awesome definitely wrong answer I curious", "At time I ask Native American mental health culture These focused suicide prevention efforts The purpose understand perspective best support young people high risk suicide The primary obstacles efforts addressing Native American youth Suicide Prevention The obstacles person person general think interpret The obstacles I think person depressed want anybody know second afraid good somebody tell somebody somebody somebody know everybody knows having issues people tend stay away fear help need Nobody reaching help understand issues Are obstacles think Lack support I guess able find correct thing able able find information need able reach help For example flyers phone number phone actual able walk talk I think probably obstacles information know You talked making sure person supported gets proper care needed need Yes What look I think primary ones family support family I think I plan suicide areas Parents tendency wanting When buddy know yeah All support look What mean talking family support Support able parents support having issue having problem support finding information help That process I said involve parents involved family I believe person needs singled I believe suicide Is involved family The family needs aware going They need aware help person know follow things That way I look I follow talked making sure people getting support getting connected know help need care need My reach people disconnected community health services I believe different ways One flyers First pick flying Oh yeah I know I mean I number information able know somebodys going end going follow Give website example going involved able connect able follow phone number I I phone number I mean I need know exactly going happen way I know going know information going I interviewed information actually plan place help help support help I need That makes sense I value knowledge perspective caring looks support looks I approach understanding read issues impact individual impact family community look creating support services need mindful making sure actually showing ways meaningful impactful holistic I think important exactly To I know lot times parents aware going result person issues going targets feel way I believe want stay away line cross I way end good point My think Is overall feeling suicide Sacramento Native American community think overall feeling suicide Sacramento Native American community I I wrong I believe knowing knowing help help navigate having information hand able reach afraid reach fear labeled fear things Even I want help I I point I use example I point I think going matter anymore sadly I honestly believe commit suicide point fine line roll Its losing sight I guess actually Because available community publicizing able reach particular person able let know Yes I understand I help This I love perspective I think terms making sure person feels heard feels vaccine ways need hard makes people feel isolated lonely hopeless issue lies feelings happening community sense loss totally hopelessness said sense loss sense I good Or I I I I I know I think sense losing hope What think causes people feel feelings I think example depends person individual A lot different ways handle things A lot things heart away vittime know I saying takes heart Its thing know hurts It cries know lot people At end spectrum You people I know I going I know I I help help words I start start process want help For reason reach They reach They Maybe care way line work We understand individual understand strengths understand thinking able grasp identify person going bring To person I love highlighted need identify persons strengths making priority strengths based approach important Because way describing easy lose sight inner life making sure effort understand knowing moment Especially persons What word I looking Will I heart depends continue hope They find going deeper deeper deeper able way night continue path I afraid gon na lose matter No matter hard try matter hard use information support reach person particularly going lose You know That way I think Thank sharing My friend family member think risk suicide struggling depression What I know I sit person especially family member trying I know I lecture try try I try opportunity express identify causing depression way thinking words try grasp way thinking thinking way I think I mean look careful overstep boundaries able bring I support I I help need help By start sharing information Again overstepping boundaries handle time start sharing information help reach read information giving agree going able identify points materials know things discuss seek counseling know programs help Bringing I think best thing I believe shadows things peoples throat especially believe know qualified area You know I saying needs recognize boundaries able pass baton somebody qualified I perspective important approach sense humility I want help I best person I know making sure person connected help ways need help Bringing thing agree having agree thing bringing going exactly follow Do feel prepared help friend family member depressed risk suicide Again I I particular area Ill I I gon na stop stop basis step baby steps You know able understand going Have person confide comfortable try figure What best place best place help You know baby steps I I think important person recognizes problem help I mean person step baby steps need taken direction I qualified person I I hold hand way I think showing way meaningful Because better Right Like showing Its nice reflection capacity care Right Its I best person I showing ways I making sure person Know care especially family member know love importantly let know ashamed know issues life way issues consider strongly try handle Sometimes best option I think support love information direction following way important Exactly You talked connecting people proper support training knowledge I curious turn initially I want doctor doctor know identify issue ship medicine pills throat I sure answer You know I If need I mean need know ministers pills know drugs doctors medical field If need yes means Its gon na Its going help going geared example cancer I I I probably 10 counselor qualified area half specifically want gentle approach people dealing issues want want counselors gon na turn doctor Does sense killed month come sit know I mean people people time intimidated You know time asked Have tried kill You know jump 10 steps know happens 10 know I remember time I client took appointment counselor second appointment I believe sitting arms crossed counselor actually reached said Why arms crossed arms It Oh god It talked sensitivity peoples needs instead Of saying You know I noticed arms crossed You know help feel feel comfortable know super insane needless finding counselor lot better actually helped I think I think counselor qualified area probably best approach More I gon na windows lack better word windows look information identify person know needs Not program applies person I going issue It programmed different issues want program seats issue program issue I thinking based counselors guidance know I sure good programs Were going actually follow sure need doctor sure doctor seen person good point terms level trust mental health profession medical profession fast people lost needs met ways want damaging deadly end losing real quick Exactly", "time I ask Native American mental health culture These focus suicide prevention efforts The purpose understand perspective best support young people high risk suicide The I primary obstacles efforts addressing Native American youth suicide prevention opinion I think opinion primary obstacles resources know social workers good tools matter know having resources compensate know social workers adequately know veteran social workers giving social workers tools use money I feel money understated way support people come actually school program Having money point A point B big I think understanding afar good tools addressing suicide prevention tools resources I think I gotten talking people Are obstacles think I think addition resources probably representation money world Native youth suicide prevention going disconnect white social workers native youth overcome resources I think resources huge know component fixing issue I think making sure disconnect native white social workers non native social workers I follow talked making sure funding support programs talked making sure people feel connected services receiving mental health care important reach people disconnected community healthcare services I think I survey I think especially social media people isolated having going way set community events social events youth having absurd number events youth bring isolation incentivizing food games actually come I know events purely geared getting people isolation I think good ways recruit people kinds programs support networks I think incentives pizza people want pizza want Social Work Help probably want pizza I think bribe You know I sure Denton today Probably You talked isolation thing community Do think isolation obstacle suicide prevention suicide For sure actually yeah The survey asked I thought suicide people isolated ones I said yes On sense afar common factor I think know things falling apart Things getting increasingly difficult depressed separate big layers isolation having people having network people support friends I think know having kinds community building events build network support Makes sense friends I hearing perspective ideas I think create spaces feel empowering welcoming young people I think necessity I appreciative insight I think helpful Thank My think overall feeling suicide Sacramento Native American community I think different places I think Native youth probably similar feelings isolation Living city wish people Perhaps disconnect school social workers think social workers address specific needs Perhaps resources The social workers lives resources know work need actually I think particularly Native youth I think experience Native youth feelings suicide Sacramento similar native communities reservation Zooming little bit describe overall feeling I guess Just general Native American suicide I think hard answer I think I suicidal ideation I think common I think people know native people age shared kinds feelings upsetedness gone terrible things awful moments I think common I lucky avoid life That good thing I lucky sounds friends trust Enough share listen Yes That good thing I think I I feel way know experience I think thing I d work life personally I think relates broader discussion making sure I networks support community non friends I think expansive community building yeah having networks silly pizza parties Definitely That actually ties asks If friend family member think risk suicide struggling depression I know I good job I think instinct suicide prevention hotline past I think I feel equipped I think I saw training suicide In survey suicide prevention training I think common Because I think I know felt incompetent past Someone I having suicidal ideation I think necessarily fault I Well I told instances people know expression love affection I think Of course I feel I training Maybe good thing expand I think bring good point topics mental health especially suicide depression They seen taboo stigmatized society response socialized talk people find courage speak speak Its given proper tools support loved ones sense level silent normalization silence topic I saw therapist life suicidal ideation look I supposed Because essentially What I supposed Because I felt dangerous know I asked person I saw example contributing moment thing said common She obviously common know necessarily treat know Everything stop life ends moment need address emergency I thought surprising I know agree said yeah having suicidal ideation mean need freak yeah I think confused reason training proportional response Can versus little I think bring good point read issues mental health providing support care I think necessarily general heres best thing Obviously probably better things people I think recognition wanting help recognizing opportunities training knowledge I think d Which I think good I think I think nice reflection commitment caring people life Which I think admirable Thank Of course I follow similar vein I think talked invitation discuss little bit feel prepared help friend family member depressed risk suicide I think I think I affectionate person In person person good I think affection good I think reason Social workers MSW programs PhD programs I think complicated I think feels important CPR class Almost important I feel I know instances people committing suicide I people choking Just I think help super D stigmatize I think probably classes high school D stigmatize people know little bit comfortable comfort talk people Kind 30 stigmatization yeah I think affection Or knowing resources I feel I know order operations plan happened What happen I approach leading affection I think definitely good place start I think especially topic urgent feels time Like having gentle touch I think definitely good place start yeah I think You knowledge I think strong willingness help helpful I think definitely way Thank I ideas discussion D stigmatization look young people I think good idea I follow having discussion providing care look general approach I curious specifics turn For friend family member I think bad answer suicide prevention hotline Because I think yeah I think I know smaller ones I actually heard non governmental organizations send somebody house example police I think slightly informed answer I I police actually feels important That I recently learned My previous uninformed understanding options know phone lines police going hospital recently telling actually know people come house nonprofits law enforcement pretty good That makes sense I think makes sense send police problem Not police Can explain think having calling police bad idea Um I think people anti police king idea pulleys lane You probably easy believe police lane law enforcement yeah moments know threat address threat believe I think having police involved suicide prevention The immediate assumption heres person going come neutralize threat views view person comes room starts providing social work services That job Even pro police That sense Someones coming handcuffs gun sprayed Pepper Spray I think explained incredibly actually high level nuance I liked explained police training police approach problems social problems view threats need neutralized Whether handcuffs pepper sprays know yeah gun bring police mental health crisis situation The person need case viewed threat Right training label appropriate responses These mechanisms harm Which Obviously best option Because person need They threat totally I think eloquent way thinking explaining Thank great", "At time I ask Native American mental health culture These focus suicide prevention efforts The purpose understand perspective best support young people high risk suicide My primary obstacles efforts addressing Native American youth suicide prevention The primary obstacles I think I think likely help help adequate systems place designed help people Native American lot times treatment self help types thing help effective geared know meeting people specific needs culture know experience Nice You talked little bit dive little bit deeper I think I curious treatment mental health care adequate I think adequate I mean costs lot money people access opinion lot types treatment plans tend realistic follow holistic path individual family prefer culturally Western medicine yeah I think yeah I think great points bring I think 100 Like exactly issues people experience challenges come people seeking care seeking support loved need experiencing mental health crisis feeling suicidal ideation I love hearing perspective obstacles come look good job describing Do think obstacles mention I thought I think social obstacle I feel know process come terms I feel especially folks reach let people know need help know hard especially depending individual Its character know stereotypes adhere reach Hey I having mental health issue Could describe little bit aspect social social processes hard I know talked little bit gender identity Is I know I think saying need help I feel people passing talking Oh I seeking therapy I seeking know mental health help There lot stigma lot shame associated I feel working know I feel lot work yeah I feel lot social aspects hard come world know hey I struggling I things going type know thing I love hearing perspective I think wonderful insight understand things impact people lives insight makes hard difficult I loved hearing talk stigma shame systems oppression operate force conform stereotypes standards things impact easy hard reach I think insightful I followup talking obstacles people experience face trying help I curious perspective reach people disconnected community health services good Um I feel work little bit know old fashioned way emailing people work nowadays I feel especially going targeting youth come level lot times social media texting things Discord know Its letter mail anymore type thing I think idea I I implemented I think making accessible youth I feel especially youth concern I said money access idea Going I mentioned know popups popup events mental health type things places community areas youth frequent know pop having I know idea fully makes sense I elaborate I think lot access actually physically know Like yeah I know literally bringing bringing skatepark bringing McKinley Park know populate I think big access loops coming Hey I   things I want work I think allowing accessible open free especially youth big situation drama end lot times results comes families things Its lot personal care Hey help type thing makes sense little scattered No I I think breadth wide array insightful points bringing mentioning I love framed discussion accessibility Because fact young people easily access money Because jobs time Because need reach skatepark youth hang schools social aspect normalizing talking getting help issues young people experiencing They normal They normal human experiences Having mental health struggle feeling depressed anxious normal Its big production batten hatches I feel especially youth turns Its family drama Everyones involved lot times want come forward You know Ill struggle silence You know I mean Exactly Exactly That good point My think overall feeling suicide Sacramento Native American community Feeling Um I probably talked I swept rug speak Um know I think lot important causes going Native American community know suicide list I feel lot talked improve I think definitely feel effects negatively talked society makes sense yeah I think anyones address I know campaigns organizations I heard organizations I guess helplines things coming specifically I think describing taboo normalization talk talked I curious provide little bit specifics look personal experience Um yeah I feel looks yeah talk mental health especially suicide sounds unfortunate I feel talk happened yeah pretty sad yeah I feel personal experience talked Its addressed I feel I issue I feel circles I hush hush Like community level hush hush yeah I I appreciate discussion Again I think 100 real Like feeling supposed talk To rooted stigma mentioned earlier looks bad Again 100 happens My friend family member think risk suicide struggling depression Um I probably try ask know evaluate situation I think depend person way I personally support I feel I skills ability personally let know resources I try link online person You know depending capabilities I try I think telling trusted people circle stuff Nice If I ask follow Do feel prepared help friend family member depressed risk suicide good I taken QPR course probably months taught lot know I trying reflect I think I probably need refresher course lot I remember good good portion I think needed longer parter I prepared I feel I skills I I feel little intimidated I guess material QPR I find effective I think I master material I effectively apply I feel I mastery great went QPR training That good actually I I talked I knowledge I use knowledge refresher longer course There especially comes suicide sense scary wondering I know Exactly Am I prepared Like man actually sentiment reflection love people care want fully instance I good I help best way way I thought diving little bit deeper following thread friend family member concerned want help connect care I curious turn Um yeah I probably look city citywide support center citywide county Northern California know connects support locally turn referral long term care I think taking couple steps forward missing stuff comes national suicide hotlines I feel lot time folks lost mix I try connect local I feel wo know person line I feel immediate attention referral I mentioned important I contextualize regional easier coordinate care working people community people know surroundings Heres diving touched thread friend family member concerned want help I curious That If I physically I know probably ER That sounds bad I I know physical locations equivalent place emergency intake actually good idea Um yeah probably ER know I mean going topic I know allowed going point hard youth access mental health care I feel youth Hey wrong parent guardian takes I said ER likely primary care doctor physician person throat nose doctor I feel What This area study pointed direction I mentioned lost mix I feel takes patient support system health care especially youth extremely hard especially Native Amercian youth harder I feel people color follow exactly doctor says best form care Maybe referred wrong place whatnot ended tangled mess intended place getting needed going fact literally physical places Its treated plague I feel yeah I love hearing perspective I think bring absolutely good points Right need tap actually hard navigating mental health care system Its daunting let young person let young person depressed experiencing suicidal ideation Like bandwidth I highlighted aspectt people color systems meant easily navigate They designed people racial privilege sense I pretty sure lost system I think hear stories lot great points"], "meta": ["Youth", "Adult", "Adult", "Youth", "Adult", "Adult", "Youth", "Adult", "Youth", "Youth", "Youth", "Youth", "Adult", "Youth", "Adult", "Adult", "Youth"]}}; }
plotInterface = buildViz(1000,
600,
null,
null,
false,
false,
false,
false,
false,
true,
false,
false,
true,
0.1,
false,
undefined,
undefined,
getDataAndInfo(),
true,
false,
null,
null,
null,
null,
true,
false,
true,
false,
null,
null,
10,
null,
null,
null,
false,
true,
true,
undefined,
null,
false,
false,
".3f",
".3f",
false,
-1,
true,
false,
true,
false,
false,
false,
true,
null,
null,
null,
false,
null,
undefined,
undefined,
undefined,
undefined,
undefined,
undefined,
undefined,
14,
0,
null,
"Term",
true,
false,
false,
false);


autocomplete(
    document.getElementById('searchInput'),
    plotInterface.data.map(x => x.term).sort(),
    plotInterface
);

</script>
